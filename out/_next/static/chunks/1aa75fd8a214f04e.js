function _0xe6f5(){const _0x416c43=['key','http://localhost:8100/functions/v1/get-dms','Account\x20Data\x20Wiped','path','font-medium','Failed\x20to\x20encrypt\x20file','default','headers','Your\x20account\x20still\x20exists,\x20but\x20all\x20messages,\x20rooms,\x20contacts,\x20and\x20encryption\x20keys\x20have\x20been\x20destroyed.\x20This\x20action\x20cannot\x20be\x20undone.','flex\x20','text-green-400\x20hover:bg-green-500/10\x20hover:text-green-300','w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500','\x20mb-1','append','flex\x20items-end\x20gap-2','Upgrade\x20to\x20unlimited','reload','clientX','bg-green-700/50','application/json','Failed\x20to\x20unlock.\x20Please\x20try\x20again.','scrollHeight','var(--radix-popper-available-width)','Globe','radio','getTime','2-digit','Unlock\x20chat','flex\x20justify-center\x20mb-4','useEffect','TooltipContent','decrypt','New\x20Chat','3me087','Chat\x20Locked','text-[10px]\x20opacity-70','Users','preventDefault','flex','End-to-end\x20encrypted','flex\x20items-start\x20gap-2\x20p-3\x20bg-amber-500/10\x20border\x20border-amber-500/30\x20rounded-lg','M21\x2021l-6-6m2-5a7\x207\x200\x2011-14\x200\x207\x207\x200\x200114\x200z','text-xs\x20opacity-70\x20line-clamp-2','avatar','text-sm\x20text-neutral-300\x20truncate','max-w-[75%]\x20','font-medium\x20truncate','File\x20encryption\x20error:','\x20more\x20failed\x20','w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-green-500\x20to-green-600\x20flex\x20items-center\x20justify-center\x20text-lg\x20font-semibold','Select\x20a\x20conversation\x20to\x20start\x20messaging','flex\x20items-center\x20gap-3','X-Original-Mime-Type','unreachable','space-y-4','access_token','replyToContent','File\x20decryption\x20error:','mb-4\x20text-green-500','plus','text-green-500\x20bg-neutral-900','flex-1\x20h-px\x20bg-neutral-700','flex\x20items-center\x20gap-2\x20p-2\x20bg-neutral-800\x20rounded-lg','currentColor','flex\x20items-center\x20gap-1\x20mt-1','text-xs\x20text-neutral-400','w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-blue-500\x20to-blue-600\x20flex\x20items-center\x20justify-center\x20text-lg\x20font-semibold','placeholder','bg-neutral-700\x20rounded-tl-sm\x20rounded-tr-xl\x20rounded-bl-xl\x20rounded-br-xl','search','Messages','value','abs','p-2\x20rounded-full\x20','text/html','border-neutral-500','target','span','py-4\x20border-t\x20border-neutral-800\x20flex\x20flex-col\x20items-center','open','Upgrade\x20to\x20unlimited\x20for\x20$6.99/month','POST','createContextScope','w-12\x20h-12\x20object-cover\x20rounded','text-sm','fill-neutral-700','max-h-80\x20overflow-y-auto','unknown','flex-1\x20overflow-y-auto\x20p-4\x20bg-[url(\x27/images/chat-bg.png\x27)]\x20bg-repeat','Room\x20password','useMemo','w-full\x20pl-10\x20pr-4\x20py-3\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-white\x20placeholder-neutral-500\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500\x20focus:border-transparent','var(--radix-popper-anchor-height)','0\x200\x2024\x2024','Enter\x20your\x20passphrase\x20to\x20decrypt\x20and\x20read\x20your\x20messages.\x20Your\x20messages\x20are\x20protected\x20with\x20end-to-end\x20encryption.','Invalid\x20passphrase.\x20Please\x20try\x20again.','text-center','M5\x2012h14','hover:bg-green-800','floor','useRouter','mt-4\x20text-sm\x20text-neutral-400','endsWith','space-y-3','bg-neutral-700','log','randomUUID','text-sm\x20text-neutral-400\x20truncate','Enter','jsx','text-xl\x20font-semibold','Unlock\x20Messages','Take\x20your\x20time.\x20Make\x20sure\x20you\x20remember\x20correctly.','\x20members','w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20transition-colors\x20','ZZZDaily\x20Chat','attempt','w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-blue-500\x20to-blue-600\x20flex\x20items-center\x20justify-center\x20font-semibold','ke71qq','createSlottable','createObjectURL','includes','image/jpeg','text-sm\x20whitespace-pre-wrap\x20break-words','flex\x20items-center\x20gap-2\x20cursor-pointer','Enter\x20your\x20encryption\x20passphrase\x20to\x20unlock\x20your\x20messages.','You','href','DismissableLayer','fixed\x20inset-0\x20z-50\x20flex\x20items-center\x20justify-center\x20bg-black/60\x20backdrop-blur-sm','joinedAt','w-full\x20max-w-md\x20max-h-[90vh]\x20mx-4\x20bg-neutral-900\x20rounded-2xl\x20shadow-2xl\x20overflow-auto','bg-neutral-800/50','text/csv','[Encrypted\x20message]','492648xPVbQj','powerpoint','div','application/zip','flex\x20items-center\x20justify-between\x20mt-0.5','Presence','mime_type','jsxs','1miecu','6619608ZdPhOt','disableHoverableContent','encryptedBlob','TURBOPACK','text-xl\x20font-semibold\x20text-white','m22\x2010-7.5\x207.5L13\x2016','[Key\x20required\x20to\x20decrypt]','slice','p-3\x20border-b\x20border-neutral-800','Chat\x20Rooms','text-red-400\x20hover:bg-red-500/10\x20hover:text-red-300','flex\x20items-center\x20gap-1','Search\x20rooms\x20error:','p-2\x20rounded-lg\x20transition-colors\x20','No\x20file\x20provided','w-full\x20p-3\x20flex\x20justify-center\x20','createdAt','img','uploadedId','flex-1\x20py-3\x20text-sm\x20font-medium\x20','code','toFixed','Unlock\x20Your\x20Messages','rect','top','mimeType','text-amber-400','flex\x20items-center\x20justify-between\x20mb-4','center','Fragment','text-blue-300','decryptSymmetric','1tmaij','revokeObjectURL','filter','trigger','useAuth','contains','Tap\x20to\x20view\x20messages','useCallback','getSession','sort','\x20If\x20you\x20forget\x20your\x20passphrase,\x20all\x20encrypted\x20data\x20will\x20be\x20permanently\x20lost.\x20This\x20is\x20by\x20design\x20for\x20maximum\x20security.','w-full\x20max-w-md\x20max-h-[90vh]\x20mx-4\x20bg-neutral-900\x20rounded-xl\x20shadow-xl\x20overflow-y-auto','body','h-16\x20px-4\x20flex\x20items-center\x20justify-between\x20bg-neutral-900\x20border-b\x20border-neutral-800','1227317jmdggw','Yesterday','bg-neutral-900\x20border-t\x20border-neutral-800\x20p-3','wfsgrz','Attach\x20files','text-xs\x20text-blue-400','lastMessageAt','Private\x20room','Lock','onPointerDown','application/gzip','http://localhost:8100/functions/v1/send-message','image/','Voice\x20message','text-center\x20text-neutral-500\x20py-8','Root','animate-spin\x20rounded-full\x20h-8\x20w-8\x20border-b-2\x20border-green-500','No\x20rooms\x20found','pointerup','session','useId','flex\x20items-center\x20justify-end\x20gap-1\x20mt-1\x20','Failed\x20to\x20fetch\x20message\x20count:','bottom','1005492dRwazl','ml-2\x20px-2\x20py-0.5\x20text-xs\x20bg-green-500\x20text-white\x20rounded-full','avatarUrl','tooltip','tar','supabase','size','hidden','flex\x20items-center\x20justify-center\x20h-full','application/xml','/settings','right','http://localhost:8100/functions/v1/join-room','trim','smooth','text-neutral-400\x20hover:text-white\x20hover:bg-neutral-900','\x20Remaining','flex\x20items-center\x20justify-between','flex-1\x20min-w-0','has','data','clearTimeout','Search\x20public\x20rooms...','valid','flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs\x20','nav','Continue','After\x20','\x20can\x20read\x20them.','application/vnd.openxmlformats-officedocument.presentationml.presentation','This\x20is\x20your\x20FINAL\x20attempt.\x20If\x20you\x20enter\x20the\x20wrong\x20passphrase,\x20ALL\x20your\x20messages,\x20rooms,\x20contacts,\x20and\x20encryption\x20keys\x20will\x20be\x20PERMANENTLY\x20DESTROYED.','composeEventHandlers','absolute\x20bottom-0\x20right-0\x20w-3\x20h-3\x20bg-green-500\x20rounded-full\x20border-2\x20border-neutral-900','onTriggerChange','327797hyzZSG','mt-2\x20text-xs\x20text-red-400/70\x20font-medium','onClick','image/svg+xml','flex\x20items-center\x20gap-4','senderName','hidden\x20md:flex','0\x20Bytes','Bytes','getBoundingClientRect','text-green-500','text-neutral-400\x20text-xs','forwardRef','displayName','bg-amber-500/20\x20border-amber-500/50','117324vjIlUL','flex\x20items-center\x20gap-2\x20p-2\x20rounded-lg\x20','mt-1','Join\x20Private\x20Room','submit','text-amber-200/80','md:hidden\x20flex\x20border-t\x20border-neutral-800\x20bg-neutral-950','neq','1o5pge','animate-spin\x20rounded-full\x20h-5\x20w-5\x20border-b-2\x20border-white','removeEventListener','MessageCircle','application/octet-stream','round','min-h-screen\x20bg-neutral-900\x20flex\x20items-center\x20justify-center','click','isSystem','application/vnd.openxmlformats-officedocument.wordprocessingml.document','w-12\x20h-12\x20rounded-full\x20bg-green-500/20\x20flex\x20items-center\x20justify-center','File\x20type\x20not\x20allowed:\x20','No\x20recovery\x20option.','m16\x206-8.414\x208.586a2\x202\x200\x200\x200\x202.829\x202.829l8.414-8.586a4\x204\x200\x201\x200-5.657-5.657l-8.379\x208.551a6\x206\x200\x201\x200\x208.485\x208.485l8.379-8.551','passphrase','Join\x20room\x20error:','auth','Your\x20encryption\x20passphrase','h-16\x20px-4\x20flex\x20items-center\x20justify-between\x20bg-neutral-950\x20border-b\x20border-neutral-800','pointerleave','__scopeTooltip','flex-1\x20flex\x20items-center\x20justify-center',',\x20all\x20your\x20encrypted\x20data\x20will\x20be\x20permanently\x20deleted.\x20There\x20is\x20no\x20recovery.','Enter\x20your\x20passphrase','application/x-zip-compressed','w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-purple-500\x20to-purple-600\x20flex\x20items-center\x20justify-center','Browse','instant-open','mt-4\x20text-amber-500\x20text-sm','shiftKey','rooms','text-sm\x20text-neutral-400\x20truncate\x20flex\x20items-center\x20gap-1','name','ArrowRight','No\x20public\x20key\x20for\x20recipient','text-[10px]','5KAJSzh','image/gif','w-24\x20h-24\x20rounded-full\x20bg-neutral-800\x20flex\x20items-center\x20justify-center\x20mb-4','w-12\x20h-12\x20flex\x20items-center\x20justify-center\x20bg-neutral-700\x20rounded','Failed\x20to\x20join\x20room','flex\x20h-screen\x20bg-neutral-900\x20text-white\x20overflow-hidden','Authentication\x20required','onPointerMove','var(--radix-popper-available-height)','stringify','text-green-500\x20border-b-2\x20border-green-500','TooltipPortal','getRandomValues','error','left','Description\x20(optional)','unreadCount','setTimeout','text-xs','animate-spin','min','text-xl\x20font-medium\x20text-neutral-300\x20mb-2','Some\x20attachments\x20failed\x20to\x20upload','animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-green-500','w-10\x20h-10\x20flex\x20items-center\x20justify-center\x20rounded\x20','border-green-400','subtle','Last\x20seen\x20','otherUser','style','isOpenDelayedRef','filename','1vc78b','fixed\x20inset-0\x20z-50\x20bg-black/70\x20backdrop-blur-sm\x20flex\x20items-center\x20justify-center\x20p-4','text-sm\x20font-medium\x20text-neutral-300','\x20disabled:opacity-50\x20transition-colors','file_size','flex\x20border-b\x20border-neutral-800','Arrow','Send\x20error:','pointerType','text/xml','isInside','toLocaleDateString','currentScript','AlertTriangle','Encryption\x20key\x20not\x20available','Search...','Settings','animate-spin\x20rounded-full\x20h-6\x20w-6\x20border-b-2\x20border-green-500','scroll','Bearer\x20','numeric','dispatchEvent','Replying\x20to\x20','X-Encryption-Iv','text-xs\x20text-neutral-500','Invalid\x20filename','startsWith','flex\x20justify-center\x20my-2','Type\x20to\x20search\x20users','px-3\x20py-1\x20bg-amber-900/30\x20rounded-lg\x20text-xs\x20text-amber-400\x20flex\x20items-center\x20gap-1','Rooms','video/quicktime','isMine','ml-auto\x20text-neutral-500','application/x-rar-compressed','Search\x20users\x20error:','push','w-full\x20h-full\x20rounded-full\x20object-cover','bg-green-600\x20rounded-tl-xl\x20rounded-tr-sm\x20rounded-bl-xl\x20rounded-br-xl','font-semibold','success','flex-1\x20flex\x20flex-col\x20','Tooltip','toUpperCase','Passphrase','image','excel','flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs','display_name','circle','/functions/v1/upload-attachment','max','Room\x20name','relative','150px','block\x20text-sm\x20font-medium\x20text-neutral-300\x20mb-2','http://localhost:8100/functions/v1/get-messages','flex-1\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-neutral-500\x20bg-neutral-950','type','Download','9njp5v','useState','absolute\x20left-3\x20top-2.5\x20w-4\x20h-4\x20text-neutral-500','w-full\x20py-3\x20bg-green-500\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-green-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center\x20gap-2','TooltipArrow','Upgrade\x20to\x20send\x20messages','w-full\x20p-3\x20flex\x20justify-center\x20text-neutral-400\x20hover:text-red-500\x20hover:bg-neutral-900','pdf','LogOut','select','useRef','current','password','input','file','M13.832\x2016.568a1\x201\x200\x200\x200\x201.213-.303l.355-.465A2\x202\x200\x200\x201\x2017\x2015h3a2\x202\x200\x200\x201\x202\x202v3a2\x202\x200\x200\x201-2\x202A18\x2018\x200\x200\x201\x202\x204a2\x202\x200\x200\x201\x202-2h3a2\x202\x200\x200\x201\x202\x202v3a2\x202\x200\x200\x201-.8\x201.6l-.468.351a1\x201\x200\x200\x200-.292\x201.233\x2014\x2014\x200\x200\x200\x206.392\x206.384','dms','isPublic','w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20rounded-lg','text-neutral-500','map','auto','user_profiles','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','text/plain','arrayBuffer','2BuyLMS','text-neutral-400','create','lastSeen','4400442DWEhJw','length','charAt','attachments','video/webm','flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs\x20text-neutral-400','text-white','pop','message','button','room','text-red-400','none','scrollIntoView','onClose','preview','encryption_iv','remaining','Only\x20you\x20and\x20','pointermove','Unlocking...','createPopperScope','onTriggerEnter','onTriggerLeave','p-4\x20rounded-lg\x20border\x20overflow-auto\x20','text','currentTarget','content','text-green-500\x20focus:ring-green-500','addEventListener','p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','clientY','text/css','underline\x20hover:text-red-300','json','presentation','label','appendChild','w-full\x20py-2\x20bg-green-500\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-green-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center\x20gap-2','bg-green-800','joined\x20the\x20conversation','flex-1\x20overflow-y-auto','No\x20rooms\x20joined\x20yet','height','Room\x20ID','w-full\x20px-4\x20py-2\x20bg-neutral-700\x20border\x20border-neutral-600\x20rounded-lg\x20focus:outline-none\x20focus:ring-2\x20focus:ring-blue-500\x20text-white'];_0xe6f5=function(){return _0x416c43;};return _0xe6f5();}const _0x5201d4=_0x25f8;function _0x25f8(_0x2493c7,_0x3cfa89){_0x2493c7=_0x2493c7-0x180;const _0xe6f578=_0xe6f5();let _0x25f8e8=_0xe6f578[_0x2493c7];return _0x25f8e8;}(function(_0x42058b,_0x344423){const _0x36b0e7=_0x25f8,_0x24848f=_0x42058b();while(!![]){try{const _0x2d7bed=-parseInt(_0x36b0e7(0x18a))/0x1*(-parseInt(_0x36b0e7(0x23b))/0x2)+parseInt(_0x36b0e7(0x199))/0x3+-parseInt(_0x36b0e7(0x343))/0x4*(-parseInt(_0x36b0e7(0x1c5))/0x5)+-parseInt(_0x36b0e7(0x23f))/0x6+-parseInt(_0x36b0e7(0x32b))/0x7+-parseInt(_0x36b0e7(0x2f4))/0x8+parseInt(_0x36b0e7(0x2fd))/0x9;if(_0x2d7bed===_0x344423)break;else _0x24848f['push'](_0x24848f['shift']());}catch(_0x2d8809){_0x24848f['push'](_0x24848f['shift']());}}}(_0xe6f5,0x5d9ef),(globalThis[_0x5201d4(0x300)]||(globalThis['TURBOPACK']=[]))[_0x5201d4(0x209)](['object'==typeof document?document[_0x5201d4(0x1f1)]:void 0x0,0xa106,_0x14789b=>{'use strict';const _0x307a2f=_0x5201d4;var _0x2d7443=_0x14789b['i'](0xa9d4),_0x42ae3a=_0x14789b['i'](0x117dd),_0x258898=_0x14789b['i'](0x4886),_0x5175b6=_0x14789b['i'](0xb12c),_0x5b815b=_0x14789b['i'](0x1220f);_0x14789b['i'](0xb83f);var _0x1d7928=_0x14789b['i'](0x4607),_0x5089cb=_0x14789b['i'](0xf1d7),_0x4695e4=_0x14789b['i'](0x11464),_0x4244e6=_0x14789b['i'](0xbc80);function _0x1b2206({view:_0x3d778e,activeChat:_0x2173cd,onSelectChat:_0x456d86}){const _0x352472=_0x25f8;let {user:_0x5d83f5}=(0x0,_0x5175b6[_0x352472(0x321)])(),[_0x56f861,_0x1fbc4d]=(0x0,_0x42ae3a['useState'])([]),[_0x3aed9c,_0xac45a3]=(0x0,_0x42ae3a['useState'])([]),[_0x2b86d4,_0x492b6d]=(0x0,_0x42ae3a[_0x352472(0x222)])(!0x0);(0x0,_0x42ae3a['useEffect'])(()=>{const _0x6fbfaf=_0x352472;_0x5d83f5&&(_0x6fbfaf(0x231)===_0x3d778e?_0x205bd0():_0x3bd36a());},[_0x5d83f5,_0x3d778e]);let _0x205bd0=async()=>{const _0x62ddba=_0x352472;_0x492b6d(!0x0);try{let _0x1fdba3=await _0x1d7928[_0x62ddba(0x348)][_0x62ddba(0x1b1)]['getSession'](),_0x3a23f9=_0x1fdba3[_0x62ddba(0x357)][_0x62ddba(0x33e)]?.['access_token'],_0x596c3e=await fetch(_0x62ddba(0x26e),{'method':'POST','headers':{'Content-Type':_0x62ddba(0x280),'Authorization':_0x62ddba(0x1f8)+_0x3a23f9},'body':JSON['stringify']({'listConversations':!0x0})}),_0x47d151=await _0x596c3e[_0x62ddba(0x261)]();_0x47d151[_0x62ddba(0x20d)]&&_0x1fbc4d(_0x47d151['conversations']||[]);}catch(_0x56b1a0){console[_0x62ddba(0x1d2)]('Failed\x20to\x20fetch\x20conversations:',_0x56b1a0);}finally{_0x492b6d(!0x1);}},_0x3bd36a=async()=>{const _0x274c92=_0x352472;_0x492b6d(!0x0);try{let _0x5f2d58=await _0x1d7928[_0x274c92(0x348)][_0x274c92(0x1b1)]['getSession'](),_0x50bb7a=_0x5f2d58[_0x274c92(0x357)][_0x274c92(0x33e)]?.['access_token'],_0x4f7ba1=await fetch('http://localhost:8100/functions/v1/list-rooms',{'method':_0x274c92(0x2be),'headers':{'Content-Type':_0x274c92(0x280),'Authorization':'Bearer\x20'+_0x50bb7a},'body':JSON[_0x274c92(0x1ce)]({'type':'joined'})}),_0x202f61=await _0x4f7ba1[_0x274c92(0x261)]();_0x202f61['success']&&_0xac45a3(_0x202f61[_0x274c92(0x1bf)]||[]);}catch(_0xd75d36){console[_0x274c92(0x1d2)]('Failed\x20to\x20fetch\x20rooms:',_0xd75d36);}finally{_0x492b6d(!0x1);}},_0x3d8742=_0x30d7d1=>{const _0x3ccd60=_0x352472;let _0x4c5908=new Date(_0x30d7d1),_0x2d370b=Math[_0x3ccd60(0x2d0)]((new Date()[_0x3ccd60(0x286)]()-_0x4c5908['getTime']())/0x5265c00);return 0x0===_0x2d370b?_0x4c5908['toLocaleTimeString']([],{'hour':_0x3ccd60(0x287),'minute':'2-digit'}):0x1===_0x2d370b?_0x3ccd60(0x32c):_0x2d370b<0x7?_0x4c5908['toLocaleDateString']([],{'weekday':'short'}):_0x4c5908['toLocaleDateString']([],{'month':'short','day':_0x3ccd60(0x1f9)});};return _0x2b86d4?(0x0,_0x2d7443[_0x352472(0x2da)])(_0x352472(0x2f6),{'className':_0x352472(0x1b6),'children':(0x0,_0x2d7443[_0x352472(0x2da)])(_0x352472(0x2f6),{'className':_0x352472(0x33b)})}):_0x352472(0x231)===_0x3d778e?0x0===_0x56f861[_0x352472(0x240)]?(0x0,_0x2d7443[_0x352472(0x2fb)])(_0x352472(0x2f6),{'className':'flex-1\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-neutral-500\x20p-4','children':[(0x0,_0x2d7443['jsx'])('p',{'className':_0x352472(0x2cd),'children':'No\x20conversations\x20yet'}),(0x0,_0x2d7443[_0x352472(0x2da)])('p',{'className':'text-sm\x20text-center\x20mt-2','children':'Start\x20a\x20new\x20chat\x20to\x20begin\x20messaging'})]}):(0x0,_0x2d7443['jsx'])('div',{'className':'flex-1\x20overflow-y-auto','children':_0x56f861[_0x352472(0x235)](_0x15742a=>{const _0xe01628=_0x352472;var _0x477f31;return(0x0,_0x2d7443[_0xe01628(0x2fb)])('button',{'onClick':()=>_0x456d86({'type':'dm','id':_0x15742a['otherUser']['id'],'name':_0x15742a[_0xe01628(0x1e1)][_0xe01628(0x197)],'avatar':_0x15742a['otherUser']['avatarUrl']||void 0x0}),'className':'w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20transition-colors\x20'+(_0x2173cd?.[_0xe01628(0x21f)]==='dm'&&_0x2173cd?.['id']===_0x15742a[_0xe01628(0x1e1)]['id']?'bg-neutral-800':''),'children':[(0x0,_0x2d7443['jsxs'])(_0xe01628(0x2f6),{'className':'relative','children':[(0x0,_0x2d7443[_0xe01628(0x2da)])(_0xe01628(0x2f6),{'className':'w-12\x20h-12\x20rounded-full\x20bg-gradient-to-br\x20from-blue-500\x20to-blue-600\x20flex\x20items-center\x20justify-center\x20text-lg\x20font-semibold','children':_0x15742a['otherUser'][_0xe01628(0x345)]?(0x0,_0x2d7443[_0xe01628(0x2da)])('img',{'src':_0x15742a['otherUser']['avatarUrl'],'alt':'','className':'w-full\x20h-full\x20rounded-full\x20object-cover'}):_0x15742a[_0xe01628(0x1e1)][_0xe01628(0x197)]['charAt'](0x0)[_0xe01628(0x210)]()}),!!(_0x477f31=_0x15742a['otherUser']['lastSeen'])&&Date['now']()-new Date(_0x477f31)[_0xe01628(0x286)]()<0x493e0&&(0x0,_0x2d7443['jsx'])(_0xe01628(0x2f6),{'className':_0xe01628(0x188)})]}),(0x0,_0x2d7443['jsxs'])('div',{'className':'flex-1\x20min-w-0\x20text-left','children':[(0x0,_0x2d7443['jsxs'])('div',{'className':_0xe01628(0x354),'children':[(0x0,_0x2d7443[_0xe01628(0x2da)])(_0xe01628(0x2ba),{'className':'font-medium\x20truncate','children':_0x15742a[_0xe01628(0x1e1)][_0xe01628(0x197)]}),(0x0,_0x2d7443[_0xe01628(0x2da)])('span',{'className':_0xe01628(0x1fd),'children':_0x3d8742(_0x15742a[_0xe01628(0x331)])})]}),(0x0,_0x2d7443[_0xe01628(0x2fb)])('div',{'className':_0xe01628(0x2f8),'children':[(0x0,_0x2d7443[_0xe01628(0x2da)])('span',{'className':_0xe01628(0x2d8),'children':_0xe01628(0x323)}),_0x15742a[_0xe01628(0x1d5)]>0x0&&(0x0,_0x2d7443[_0xe01628(0x2da)])(_0xe01628(0x2ba),{'className':_0xe01628(0x344),'children':_0x15742a['unreadCount']})]})]})]},_0x15742a['id']);})}):0x0===_0x3aed9c['length']?(0x0,_0x2d7443['jsxs'])('div',{'className':'flex-1\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-neutral-500\x20p-4','children':[(0x0,_0x2d7443[_0x352472(0x2da)])('p',{'className':_0x352472(0x2cd),'children':_0x352472(0x269)}),(0x0,_0x2d7443['jsx'])('p',{'className':'text-sm\x20text-center\x20mt-2','children':'Create\x20or\x20join\x20a\x20room\x20to\x20start\x20chatting'})]}):(0x0,_0x2d7443['jsx'])('div',{'className':_0x352472(0x268),'children':_0x3aed9c['map'](_0x30d21b=>(0x0,_0x2d7443[_0x352472(0x2fb)])(_0x352472(0x248),{'onClick':()=>_0x456d86({'type':_0x352472(0x249),'id':_0x30d21b['id'],'name':_0x30d21b['name'],'isPublic':_0x30d21b[_0x352472(0x232)]}),'className':_0x352472(0x2df)+(_0x2173cd?.[_0x352472(0x21f)]==='room'&&_0x2173cd?.['id']===_0x30d21b['id']?'bg-neutral-800':''),'children':[(0x0,_0x2d7443[_0x352472(0x2da)])('div',{'className':'w-12\x20h-12\x20rounded-full\x20bg-gradient-to-br\x20from-purple-500\x20to-purple-600\x20flex\x20items-center\x20justify-center','children':_0x30d21b['isPublic']?(0x0,_0x2d7443['jsx'])(_0x4244e6['Globe'],{'size':0x18,'className':_0x352472(0x245)}):(0x0,_0x2d7443[_0x352472(0x2da)])(_0x4695e4[_0x352472(0x333)],{'size':0x18,'className':_0x352472(0x245)})}),(0x0,_0x2d7443[_0x352472(0x2fb)])('div',{'className':'flex-1\x20min-w-0\x20text-left','children':[(0x0,_0x2d7443['jsxs'])(_0x352472(0x2f6),{'className':_0x352472(0x354),'children':[(0x0,_0x2d7443[_0x352472(0x2da)])('span',{'className':'font-medium\x20truncate','children':_0x30d21b['name']}),_0x30d21b[_0x352472(0x2ef)]&&(0x0,_0x2d7443['jsx'])(_0x352472(0x2ba),{'className':'text-xs\x20text-neutral-500','children':_0x3d8742(_0x30d21b[_0x352472(0x2ef)])})]}),(0x0,_0x2d7443['jsxs'])(_0x352472(0x2f6),{'className':'flex\x20items-center\x20justify-between\x20mt-0.5','children':[(0x0,_0x2d7443['jsxs'])(_0x352472(0x2ba),{'className':_0x352472(0x1c0),'children':[(0x0,_0x2d7443[_0x352472(0x2da)])(_0x5089cb[_0x352472(0x291)],{'size':0xe}),_0x30d21b['memberCount'],_0x352472(0x2de)]}),_0x30d21b[_0x352472(0x1d5)]>0x0&&(0x0,_0x2d7443[_0x352472(0x2da)])(_0x352472(0x2ba),{'className':_0x352472(0x344),'children':_0x30d21b[_0x352472(0x1d5)]})]})]})]},_0x30d21b['id']))});}var _0x205692=_0x14789b['i'](0xb0b7),_0x1e8c94=_0x14789b['i'](0xaa0b),_0x2dc075=_0x14789b['i'](0x125f6);let _0x583c7d=(0x0,_0x2dc075['default'])('check-check',[[_0x307a2f(0x270),{'d':'M18\x206\x207\x2017l-5-5','key':'116fxf'}],[_0x307a2f(0x270),{'d':_0x307a2f(0x302),'key':_0x307a2f(0x2e3)}]]);var _0x4d7108=_0x14789b['i'](0x9ce0);let _0x3d1c55=(0x0,_0x2dc075[_0x307a2f(0x273)])('file',[['path',{'d':'M6\x2022a2\x202\x200\x200\x201-2-2V4a2\x202\x200\x200\x201\x202-2h8a2.4\x202.4\x200\x200\x201\x201.704.706l3.588\x203.588A2.4\x202.4\x200\x200\x201\x2020\x208v12a2\x202\x200\x200\x201-2\x202z','key':'1oefj6'}],[_0x307a2f(0x270),{'d':'M14\x202v5a1\x201\x200\x200\x200\x201\x201h5','key':_0x307a2f(0x32e)}]]);var _0x2871c6=_0x14789b['i'](0xd50),_0x2871c6=_0x2871c6,_0x216de1=_0x14789b['i'](0x7a2e),_0x3b8a06=_0x14789b['i'](0xf6e9);let _0x473a0a=[_0x307a2f(0x2e7),'image/png',_0x307a2f(0x1c6),'image/webp',_0x307a2f(0x18d),'video/mp4',_0x307a2f(0x243),_0x307a2f(0x204),'video/x-msvideo','application/pdf','application/msword',_0x307a2f(0x1aa),'application/vnd.ms-excel',_0x307a2f(0x238),'application/vnd.ms-powerpoint',_0x307a2f(0x185),_0x307a2f(0x239),_0x307a2f(0x2f2),'text/markdown',_0x307a2f(0x2f7),_0x307a2f(0x1b9),_0x307a2f(0x207),'application/x-7z-compressed',_0x307a2f(0x335),'application/x-tar',_0x307a2f(0x2b7),_0x307a2f(0x25f),'text/javascript','application/json',_0x307a2f(0x34c),_0x307a2f(0x1ee)];async function _0x130f1f(_0x131621,_0xeac422){const _0x4ec8b4=_0x307a2f;try{let _0x5ca8ad,_0x3162a3=await _0x131621[_0x4ec8b4(0x23a)](),_0x5a8fed=new Uint8Array(_0x3162a3),_0x4f7913=(_0x5ca8ad=new Uint8Array(0xc),crypto[_0x4ec8b4(0x1d1)](_0x5ca8ad),_0x5ca8ad),_0x65d6c8=await crypto[_0x4ec8b4(0x1df)]['encrypt']({'name':'AES-GCM','iv':_0x4f7913},_0xeac422,_0x5a8fed);return{'encryptedBlob':new Blob([_0x65d6c8],{'type':_0x4ec8b4(0x1a5)}),'iv':function(_0x4179a0){let _0x1ea45a='';for(let _0x453d21=0x0;_0x453d21<_0x4179a0['length'];_0x453d21++)_0x1ea45a+=String['fromCharCode'](_0x4179a0[_0x453d21]);return btoa(_0x1ea45a);}(_0x4f7913),'originalFilename':_0x131621['name'],'mimeType':_0x131621['type'],'fileSize':_0x131621['size']};}catch(_0x24c599){throw console[_0x4ec8b4(0x1d2)](_0x4ec8b4(0x29c),_0x24c599),Error(_0x4ec8b4(0x272));}}async function _0x4c437c(_0x583cdf,_0x201657,_0x579b28,_0x59542f){const _0x2394d1=_0x307a2f;try{let _0x448d13=await _0x583cdf[_0x2394d1(0x23a)](),_0x482f77=new Uint8Array(_0x448d13),_0x66dcbf=function(_0x368396){let _0x41b878=atob(_0x368396),_0x1a4e87=new Uint8Array(_0x41b878['length']);for(let _0x2380a8=0x0;_0x2380a8<_0x41b878['length'];_0x2380a8++)_0x1a4e87[_0x2380a8]=_0x41b878['charCodeAt'](_0x2380a8);return _0x1a4e87;}(_0x201657),_0x23b2d6=await crypto[_0x2394d1(0x1df)][_0x2394d1(0x28c)]({'name':'AES-GCM','iv':_0x66dcbf},_0x59542f,_0x482f77);return new Blob([_0x23b2d6],{'type':_0x579b28});}catch(_0x1b1d42){throw console['error'](_0x2394d1(0x2a6),_0x1b1d42),Error('Failed\x20to\x20decrypt\x20file.\x20The\x20file\x20may\x20be\x20corrupted\x20or\x20you\x20may\x20not\x20have\x20permission\x20to\x20access\x20it.');}}function _0x3bbfb8(_0x42f190){const _0x1dcb05=_0x307a2f;if(0x0===_0x42f190)return _0x1dcb05(0x191);let _0x55ab6f=Math['floor'](Math[_0x1dcb05(0x2d6)](_0x42f190)/Math['log'](0x400));return Math['round'](_0x42f190/Math['pow'](0x400,_0x55ab6f)*0x64)/0x64+'\x20'+[_0x1dcb05(0x192),'KB','MB','GB'][_0x55ab6f];}function _0x5d2696({message:_0x146b23,showSender:_0x29cfc3=!0x1,onReply:_0x42b65d}){const _0x361a22=_0x307a2f;let {user:_0x12b8c5,privateKey:_0x718aa8}=(0x0,_0x5175b6[_0x361a22(0x321)])(),[_0x1817ac,_0x2b9fb8]=(0x0,_0x42ae3a['useState'])(new Set()),[_0x59b611,_0x48a1c8]=(0x0,_0x42ae3a[_0x361a22(0x222)])({}),_0x35019b=async _0x4cd1d7=>{const _0x49bbd3=_0x361a22;if(!_0x718aa8)return void _0x48a1c8(_0x4685e0=>({..._0x4685e0,[_0x4cd1d7['id']]:'Encryption\x20key\x20not\x20available'}));try{var _0x59ce80,_0x2f572e;let _0x4ae343,_0x82b840;_0x2b9fb8(_0x3f881d=>new Set(_0x3f881d)['add'](_0x4cd1d7['id'])),_0x48a1c8(_0x54af2d=>{let _0x82787={..._0x54af2d};return delete _0x82787[_0x4cd1d7['id']],_0x82787;});let _0x377912=await _0x1d7928[_0x49bbd3(0x348)][_0x49bbd3(0x1b1)]['getSession'](),_0x5e808e=_0x377912['data']['session']?.[_0x49bbd3(0x2a4)];if(!_0x5e808e)throw Error(_0x49bbd3(0x1cb));let _0x5054c3=await fetch('/functions/v1/download-attachment',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':_0x49bbd3(0x1f8)+_0x5e808e},'body':JSON['stringify']({'attachmentId':_0x4cd1d7['id']})});if(!_0x5054c3['ok']){let _0x192045=await _0x5054c3['json']();throw Error(_0x192045['error']||'Download\x20failed');}let _0x142b1d=await _0x5054c3['blob'](),_0x58b4c3=_0x5054c3[_0x49bbd3(0x274)]['get'](_0x49bbd3(0x1fc))||_0x4cd1d7[_0x49bbd3(0x24f)],_0x3c43cb=_0x5054c3[_0x49bbd3(0x274)]['get'](_0x49bbd3(0x2a1))||_0x4cd1d7[_0x49bbd3(0x2fa)];_0x59ce80=await _0x4c437c(_0x142b1d,_0x58b4c3,_0x3c43cb,_0x718aa8),_0x2f572e=_0x4cd1d7['filename'],_0x4ae343=URL[_0x49bbd3(0x2e5)](_0x59ce80),(_0x82b840=document['createElement']('a'))[_0x49bbd3(0x2ec)]=_0x4ae343,_0x82b840['download']=_0x2f572e,document[_0x49bbd3(0x329)][_0x49bbd3(0x264)](_0x82b840),_0x82b840[_0x49bbd3(0x1a8)](),document['body']['removeChild'](_0x82b840),URL[_0x49bbd3(0x31e)](_0x4ae343);}catch(_0x48bd10){console[_0x49bbd3(0x1d2)]('Download\x20error:',_0x48bd10),_0x48a1c8(_0x4b50e8=>({..._0x4b50e8,[_0x4cd1d7['id']]:_0x48bd10 instanceof Error?_0x48bd10['message']:'Download\x20failed'}));}finally{_0x2b9fb8(_0x169515=>{let _0x5953ff=new Set(_0x169515);return _0x5953ff['delete'](_0x4cd1d7['id']),_0x5953ff;});}};if(_0x146b23[_0x361a22(0x1a9)])return(0x0,_0x2d7443[_0x361a22(0x2da)])('div',{'className':_0x361a22(0x200),'children':(0x0,_0x2d7443[_0x361a22(0x2fb)])('div',{'className':'px-3\x20py-1\x20bg-neutral-800/50\x20rounded-full\x20text-xs\x20text-neutral-400','children':[_0x146b23[_0x361a22(0x18f)],'\x20',_0x146b23['content']]})});let _0x21d88f=_0x146b23[_0x361a22(0x242)]&&_0x146b23[_0x361a22(0x242)]['length']>0x0;return(0x0,_0x2d7443['jsx'])(_0x361a22(0x2f6),{'className':_0x361a22(0x276)+(_0x146b23['isMine']?'justify-end':'justify-start')+_0x361a22(0x279),'children':(0x0,_0x2d7443[_0x361a22(0x2fb)])('div',{'className':_0x361a22(0x29a)+(_0x146b23['isMine']?_0x361a22(0x20b):_0x361a22(0x2b1))+'\x20px-3\x20py-2\x20shadow-sm','onDoubleClick':()=>_0x42b65d?.(_0x146b23),'children':[_0x29cfc3&&!_0x146b23['isMine']&&(0x0,_0x2d7443[_0x361a22(0x2da)])('div',{'className':'text-xs\x20font-medium\x20text-green-400\x20mb-1','children':_0x146b23[_0x361a22(0x18f)]}),_0x146b23[_0x361a22(0x2a5)]&&(0x0,_0x2d7443['jsx'])(_0x361a22(0x2f6),{'className':'mb-2\x20pl-2\x20border-l-2\x20'+(_0x146b23['isMine']?_0x361a22(0x1de):_0x361a22(0x2b8)),'children':(0x0,_0x2d7443['jsx'])('p',{'className':_0x361a22(0x297),'children':_0x146b23['replyToContent']})}),_0x146b23['content']&&(0x0,_0x2d7443['jsx'])('p',{'className':_0x361a22(0x2e8),'children':_0x146b23[_0x361a22(0x25a)]}),_0x21d88f&&(0x0,_0x2d7443['jsx'])('div',{'className':'mt-2\x20space-y-2','children':_0x146b23[_0x361a22(0x242)]['map'](_0x240dfa=>{const _0x526d51=_0x361a22;var _0x58a378;let _0x2af999=_0x1817ac[_0x526d51(0x356)](_0x240dfa['id']),_0xd3f838=_0x59b611[_0x240dfa['id']],_0x329dd2=(_0x58a378=_0x240dfa[_0x526d51(0x2fa)])[_0x526d51(0x1ff)](_0x526d51(0x337))?_0x526d51(0x212):_0x58a378[_0x526d51(0x1ff)]('video/')?'video':_0x58a378[_0x526d51(0x2e6)](_0x526d51(0x228))?'pdf':_0x58a378['includes'](_0x526d51(0x213))||_0x58a378[_0x526d51(0x2e6)]('sheet')?'spreadsheet':_0x58a378[_0x526d51(0x2e6)](_0x526d51(0x2f5))||_0x58a378['includes'](_0x526d51(0x262))?'presentation':_0x58a378['includes']('word')||_0x58a378[_0x526d51(0x2e6)]('document')?'document':_0x58a378[_0x526d51(0x2e6)]('zip')||_0x58a378[_0x526d51(0x2e6)]('rar')||_0x58a378['includes'](_0x526d51(0x347))||_0x58a378[_0x526d51(0x2e6)]('gzip')?'archive':_0x58a378[_0x526d51(0x2e6)](_0x526d51(0x258))?'text':_0x58a378['includes'](_0x526d51(0x261))||_0x58a378['includes']('xml')?_0x526d51(0x311):'file';return(0x0,_0x2d7443[_0x526d51(0x2fb)])('div',{'className':_0x526d51(0x19a)+(_0x146b23['isMine']?_0x526d51(0x27f):_0x526d51(0x2f1)),'children':[(0x0,_0x2d7443[_0x526d51(0x2fb)])('div',{'className':_0x526d51(0x1dd)+(_0x146b23['isMine']?_0x526d51(0x266):_0x526d51(0x2d5)),'children':['image'===_0x329dd2&&(0x0,_0x2d7443['jsx'])(_0x2871c6['default'],{'size':0x14}),_0x526d51(0x212)!==_0x329dd2&&(0x0,_0x2d7443['jsx'])(_0x3d1c55,{'size':0x14})]}),(0x0,_0x2d7443['jsxs'])(_0x526d51(0x2f6),{'className':'flex-1\x20min-w-0','children':[(0x0,_0x2d7443['jsx'])('p',{'className':'text-xs\x20font-medium\x20truncate','children':_0x240dfa[_0x526d51(0x1e4)]}),(0x0,_0x2d7443['jsx'])('p',{'className':_0x526d51(0x290),'children':_0x3bbfb8(_0x240dfa[_0x526d51(0x1e9)])}),_0xd3f838&&(0x0,_0x2d7443[_0x526d51(0x2fb)])('div',{'className':_0x526d51(0x2ad),'children':[(0x0,_0x2d7443[_0x526d51(0x2da)])(_0x3b8a06['AlertCircle'],{'size':0xc,'className':'text-red-400'}),(0x0,_0x2d7443[_0x526d51(0x2da)])('p',{'className':'text-[10px]\x20text-red-400','children':_0xd3f838})]})]}),(0x0,_0x2d7443['jsx'])('button',{'onClick':()=>_0x35019b(_0x240dfa),'disabled':_0x2af999,'className':_0x526d51(0x2b6)+(_0x146b23[_0x526d51(0x205)]?_0x526d51(0x2cf):'hover:bg-neutral-700')+_0x526d51(0x1e8),'title':_0x526d51(0x220),'children':_0x2af999?(0x0,_0x2d7443[_0x526d51(0x2da)])(_0x216de1['Loader2'],{'size':0x10,'className':'animate-spin'}):(0x0,_0x2d7443[_0x526d51(0x2da)])(_0x4d7108[_0x526d51(0x220)],{'size':0x10})})]},_0x240dfa['id']);})}),(0x0,_0x2d7443['jsxs'])(_0x361a22(0x2f6),{'className':_0x361a22(0x340)+(_0x146b23['isMine']?'text-green-200':_0x361a22(0x23c)),'children':[(0x0,_0x2d7443['jsx'])(_0x361a22(0x2ba),{'className':_0x361a22(0x1c4),'children':new Date(_0x146b23['createdAt'])['toLocaleTimeString']([],{'hour':_0x361a22(0x287),'minute':'2-digit'})}),_0x146b23[_0x361a22(0x205)]&&(0x0,_0x2d7443['jsx'])('span',{'className':_0x361a22(0x1d7),'children':_0x146b23['readAt']?(0x0,_0x2d7443[_0x361a22(0x2da)])(_0x583c7d,{'size':0xe,'className':_0x361a22(0x31b)}):(0x0,_0x2d7443['jsx'])(_0x1e8c94['Check'],{'size':0xe})})]})]})});}var _0x2641c4=_0x14789b['i'](0x39ac),_0x1d4014=_0x14789b['i'](0x935f),_0x42f18f=_0x14789b['i'](0x17ea8);let _0x3e555c=(0x0,_0x2dc075[_0x307a2f(0x273)])('paperclip',[['path',{'d':_0x307a2f(0x1ae),'key':_0x307a2f(0x2fc)}]]),_0x5e94ce=(0x0,_0x2dc075['default'])('mic',[[_0x307a2f(0x270),{'d':'M12\x2019v3','key':'npa21l'}],['path',{'d':'M19\x2010v2a7\x207\x200\x200\x201-14\x200v-2','key':_0x307a2f(0x1e5)}],[_0x307a2f(0x314),{'x':'9','y':'2','width':'6','height':'13','rx':'3','key':'s6n7sd'}]]);function _0x37f5d1({onSend:_0x18443d,replyTo:_0x47081e,onCancelReply:_0x382f8b,disabled:_0x152145=!0x1,placeholder:_0x4dc4b1='Type\x20a\x20message...',remainingMessages:_0x35d300,messageType:_0x15fea9=_0x307a2f(0x249)}){const _0x15dbd5=_0x307a2f;let [_0x510bce,_0x9646f2]=(0x0,_0x42ae3a['useState'])(''),[_0x527612,_0x31091a]=(0x0,_0x42ae3a[_0x15dbd5(0x222)])([]),[_0x27e110,_0x117352]=(0x0,_0x42ae3a[_0x15dbd5(0x222)])(!0x1),_0x2eb32f=(0x0,_0x42ae3a[_0x15dbd5(0x22b)])(null),_0x439742=(0x0,_0x42ae3a['useRef'])(null),{user:_0x5ab97b,privateKey:_0x1f4400}=(0x0,_0x5175b6['useAuth'])(),_0x1575a0=_0x5ab97b?.['role']==='admin',_0x2db9d5=_0x1575a0?0x3200000:0x500000;(0x0,_0x42ae3a[_0x15dbd5(0x28a)])(()=>{const _0x39ce39=_0x15dbd5;_0x2eb32f[_0x39ce39(0x22c)]&&(_0x2eb32f[_0x39ce39(0x22c)][_0x39ce39(0x1e2)][_0x39ce39(0x26a)]='auto',_0x2eb32f['current']['style']['height']=Math[_0x39ce39(0x1d9)](_0x2eb32f['current'][_0x39ce39(0x282)],0x96)+'px');},[_0x510bce]);let _0x577e14=async()=>{const _0x14600a=_0x15dbd5;let _0x1ef2a2=_0x527612[_0x14600a(0x31f)](_0x3faaca=>!_0x3faaca['error']);if(0x0===_0x1ef2a2['length'])return[];if(!_0x1f4400)throw Error(_0x14600a(0x1f3));let _0x339581=[];for(let _0x505bd3 of _0x1ef2a2)try{_0x31091a(_0x2a27a9=>_0x2a27a9[_0x14600a(0x235)](_0x438237=>_0x438237['id']===_0x505bd3['id']?{..._0x438237,'uploading':!0x0}:_0x438237));let _0x42d8ee=await _0x130f1f(_0x505bd3['file'],_0x1f4400),_0x1ea297=new FormData();_0x1ea297['append']('file',_0x42d8ee[_0x14600a(0x2ff)]),_0x1ea297['append'](_0x14600a(0x1e4),_0x42d8ee['originalFilename']),_0x1ea297['append']('mimeType',_0x42d8ee[_0x14600a(0x316)]),_0x1ea297['append']('encryptionIv',_0x42d8ee['iv']),_0x1ea297[_0x14600a(0x27a)]('attachmentType','dm'===_0x15fea9?'direct_message':_0x14600a(0x247));let _0x59d343=await _0x1d7928[_0x14600a(0x348)][_0x14600a(0x1b1)][_0x14600a(0x325)](),_0xed4c1e=_0x59d343['data'][_0x14600a(0x33e)]?.[_0x14600a(0x2a4)];if(!_0xed4c1e)throw Error('Authentication\x20required');let _0xf318fd=await fetch(_0x14600a(0x217),{'method':_0x14600a(0x2be),'headers':{'Authorization':'Bearer\x20'+_0xed4c1e},'body':_0x1ea297});if(!_0xf318fd['ok']){let _0x2ccb59=await _0xf318fd[_0x14600a(0x261)]();throw Error(_0x2ccb59[_0x14600a(0x1d2)]||'Upload\x20failed');}let _0x58f1df=await _0xf318fd['json']();_0x339581['push'](_0x58f1df['attachment']['id']),_0x31091a(_0x27dc7f=>_0x27dc7f['map'](_0x42f820=>_0x42f820['id']===_0x505bd3['id']?{..._0x42f820,'uploading':!0x1,'uploadedId':_0x58f1df['attachment']['id']}:_0x42f820));}catch(_0x1bbb91){console['error']('Upload\x20error:',_0x1bbb91),_0x31091a(_0x11c885=>_0x11c885[_0x14600a(0x235)](_0x33e575=>_0x33e575['id']===_0x505bd3['id']?{..._0x33e575,'uploading':!0x1,'error':_0x1bbb91 instanceof Error?_0x1bbb91['message']:'Upload\x20failed'}:_0x33e575));}return _0x339581;},_0x339fa6=async()=>{const _0x2bb28f=_0x15dbd5;let _0x4cbd99=_0x510bce['trim']();if((_0x4cbd99||0x0!==_0x527612['length'])&&!_0x152145)try{_0x117352(!0x0);let _0x2800bf=await _0x577e14();if(_0x527612[_0x2bb28f(0x31f)](_0x450a9=>!_0x450a9[_0x2bb28f(0x1d2)]&&!_0x2800bf['includes'](_0x450a9['uploadedId']||''))['length']>0x0)throw Error(_0x2bb28f(0x1db));_0x18443d(_0x4cbd99||'',_0x2800bf[_0x2bb28f(0x240)]>0x0?_0x2800bf:void 0x0),_0x9646f2(''),_0x31091a([]),_0x2eb32f[_0x2bb28f(0x22c)]&&(_0x2eb32f[_0x2bb28f(0x22c)][_0x2bb28f(0x1e2)]['height']=_0x2bb28f(0x236));}catch(_0x5c0d50){console[_0x2bb28f(0x1d2)](_0x2bb28f(0x1ec),_0x5c0d50);}finally{_0x117352(!0x1);}},_0x5bf5a2=null!=_0x35d300&&_0x35d300<=0x0,_0x230d8a=_0x510bce[_0x15dbd5(0x350)]()||_0x527612[_0x15dbd5(0x240)]>0x0;return(0x0,_0x2d7443[_0x15dbd5(0x2fb)])('div',{'className':_0x15dbd5(0x32d),'children':[_0x47081e&&(0x0,_0x2d7443[_0x15dbd5(0x2fb)])('div',{'className':'mb-2\x20p-2\x20bg-neutral-800\x20rounded-lg\x20flex\x20items-start\x20justify-between','children':[(0x0,_0x2d7443[_0x15dbd5(0x2fb)])(_0x15dbd5(0x2f6),{'className':'flex-1\x20min-w-0','children':[(0x0,_0x2d7443[_0x15dbd5(0x2fb)])('p',{'className':'text-xs\x20text-green-500\x20font-medium','children':[_0x15dbd5(0x1fb),_0x47081e[_0x15dbd5(0x18f)]]}),(0x0,_0x2d7443[_0x15dbd5(0x2da)])('p',{'className':_0x15dbd5(0x299),'children':_0x47081e[_0x15dbd5(0x25a)]})]}),(0x0,_0x2d7443['jsx'])(_0x15dbd5(0x248),{'onClick':_0x382f8b,'className':'ml-2\x20p-1\x20text-neutral-400\x20hover:text-white','children':(0x0,_0x2d7443['jsx'])(_0x1d4014['X'],{'size':0x12})})]}),null!=_0x35d300&&_0x35d300<=0xa&&!_0x5bf5a2&&(0x0,_0x2d7443[_0x15dbd5(0x2da)])('div',{'className':'mb-2\x20p-2\x20bg-amber-900/30\x20border\x20border-amber-700\x20rounded-lg','children':(0x0,_0x2d7443[_0x15dbd5(0x2fb)])('p',{'className':'text-xs\x20text-amber-400','children':[_0x35d300,'\x20message',0x1!==_0x35d300?'s':'','\x20remaining\x20this\x20month.','\x20',(0x0,_0x2d7443['jsx'])('a',{'href':'/settings','className':'underline\x20hover:text-amber-300','children':_0x15dbd5(0x27c)})]})}),_0x5bf5a2&&(0x0,_0x2d7443[_0x15dbd5(0x2da)])(_0x15dbd5(0x2f6),{'className':'mb-2\x20p-2\x20bg-red-900/30\x20border\x20border-red-700\x20rounded-lg','children':(0x0,_0x2d7443[_0x15dbd5(0x2fb)])('p',{'className':'text-xs\x20text-red-400','children':['You\x27ve\x20reached\x20your\x20monthly\x20message\x20limit.','\x20',(0x0,_0x2d7443['jsx'])('a',{'href':_0x15dbd5(0x34d),'className':_0x15dbd5(0x260),'children':_0x15dbd5(0x2bd)})]})}),!_0x1575a0&&(0x0,_0x2d7443['jsx'])(_0x15dbd5(0x2f6),{'className':'mb-2\x20p-2\x20bg-blue-900/30\x20border\x20border-blue-700\x20rounded-lg','children':(0x0,_0x2d7443[_0x15dbd5(0x2fb)])('p',{'className':_0x15dbd5(0x330),'children':['FREE\x20plan:\x20Max\x205MB\x20per\x20file.','\x20',(0x0,_0x2d7443[_0x15dbd5(0x2da)])('a',{'href':_0x15dbd5(0x34d),'className':'underline\x20hover:text-blue-300','children':'Upgrade\x20for\x2050MB\x20files'})]})}),_0x527612[_0x15dbd5(0x240)]>0x0&&(0x0,_0x2d7443['jsx'])('div',{'className':'mb-2\x20space-y-2','children':_0x527612['map'](_0x3afc6b=>(0x0,_0x2d7443['jsxs'])(_0x15dbd5(0x2f6),{'className':_0x15dbd5(0x2ab),'children':[_0x3afc6b['preview']?(0x0,_0x2d7443[_0x15dbd5(0x2da)])(_0x15dbd5(0x30e),{'src':_0x3afc6b[_0x15dbd5(0x24e)],'alt':_0x3afc6b['file']['name'],'className':_0x15dbd5(0x2c0)}):(0x0,_0x2d7443['jsx'])('div',{'className':_0x15dbd5(0x1c8),'children':(0x0,_0x2d7443[_0x15dbd5(0x2da)])(_0x3d1c55,{'size':0x18,'className':_0x15dbd5(0x23c)})}),(0x0,_0x2d7443[_0x15dbd5(0x2fb)])(_0x15dbd5(0x2f6),{'className':_0x15dbd5(0x355),'children':[(0x0,_0x2d7443['jsx'])('p',{'className':'text-sm\x20text-white\x20truncate','children':_0x3afc6b[_0x15dbd5(0x22f)][_0x15dbd5(0x1c1)]}),(0x0,_0x2d7443[_0x15dbd5(0x2da)])('p',{'className':_0x15dbd5(0x2ae),'children':_0x3bbfb8(_0x3afc6b['file']['size'])}),_0x3afc6b[_0x15dbd5(0x1d2)]&&(0x0,_0x2d7443['jsx'])('p',{'className':'text-xs\x20text-red-400','children':_0x3afc6b[_0x15dbd5(0x1d2)]})]}),_0x3afc6b['uploading']?(0x0,_0x2d7443[_0x15dbd5(0x2da)])(_0x216de1['Loader2'],{'size':0x14,'className':'text-green-500\x20animate-spin'}):_0x3afc6b[_0x15dbd5(0x30f)]?(0x0,_0x2d7443[_0x15dbd5(0x2da)])('span',{'className':'text-xs\x20text-green-500','children':'Uploaded'}):(0x0,_0x2d7443[_0x15dbd5(0x2da)])('button',{'onClick':()=>{var _0x35cd14;return _0x35cd14=_0x3afc6b['id'],void _0x31091a(_0x1c0681=>_0x1c0681['filter'](_0x39fc21=>_0x39fc21['id']!==_0x35cd14));},'className':'p-1\x20text-neutral-400\x20hover:text-white','children':(0x0,_0x2d7443['jsx'])(_0x1d4014['X'],{'size':0x12})})]},_0x3afc6b['id']))}),(0x0,_0x2d7443['jsxs'])(_0x15dbd5(0x2f6),{'className':_0x15dbd5(0x27b),'children':[(0x0,_0x2d7443[_0x15dbd5(0x2da)])('input',{'ref':_0x439742,'type':_0x15dbd5(0x22f),'multiple':!0x0,'className':_0x15dbd5(0x34a),'onChange':_0x1dd11b=>{const _0x26f3ea=_0x15dbd5;let _0xfa72ee=Array['from'](_0x1dd11b['target']['files']||[]);if(0x0===_0xfa72ee[_0x26f3ea(0x240)])return;let _0x365365=_0xfa72ee['map'](_0x5589a8=>{const _0x36cfa8=_0x26f3ea;let _0x172102=function(_0x3da6e6,_0x80c9f3=0x3200000){const _0x338f88=_0x25f8;if(!_0x3da6e6)return{'valid':!0x1,'error':_0x338f88(0x30b)};if(0x0===_0x3da6e6[_0x338f88(0x349)])return{'valid':!0x1,'error':'File\x20is\x20empty'};if(_0x3da6e6[_0x338f88(0x349)]>_0x80c9f3){let _0x793575=(_0x80c9f3/0x100000)[_0x338f88(0x312)](0x0);return{'valid':!0x1,'error':'File\x20too\x20large.\x20Maximum\x20size:\x20'+_0x793575+'MB'};}if(!_0x473a0a['includes'](_0x3da6e6['type']))return{'valid':!0x1,'error':_0x338f88(0x1ac)+(_0x3da6e6[_0x338f88(0x21f)]||_0x338f88(0x2c4))+'.\x20Please\x20upload\x20images,\x20videos,\x20documents,\x20or\x20archives.'};if(!_0x3da6e6[_0x338f88(0x1c1)]||_0x3da6e6[_0x338f88(0x1c1)]['length']>0xff)return{'valid':!0x1,'error':_0x338f88(0x1fe)};let _0x4d8128=_0x3da6e6[_0x338f88(0x1c1)]['toLowerCase']();return['.exe','.bat','.cmd','.com','.scr','.vbs','.js','.jar']['some'](_0x1aaf56=>_0x4d8128[_0x338f88(0x2d3)](_0x1aaf56))?{'valid':!0x1,'error':'Executable\x20files\x20are\x20not\x20allowed\x20for\x20security\x20reasons'}:{'valid':!0x0};}(_0x5589a8,_0x2db9d5);return{'id':crypto[_0x36cfa8(0x2d7)](),'file':_0x5589a8,'uploading':!0x1,'error':_0x172102[_0x36cfa8(0x35a)]?void 0x0:_0x172102[_0x36cfa8(0x1d2)]};});_0x365365['forEach'](_0x2e07cc=>{const _0x50bca0=_0x26f3ea;if(!_0x2e07cc['error']&&_0x2e07cc['file']['type']['startsWith'](_0x50bca0(0x337))){let _0x2e1f0e=new FileReader();_0x2e1f0e['onload']=_0x16a518=>{const _0x50ada3=_0x50bca0;_0x31091a(_0x282764=>_0x282764[_0x50ada3(0x235)](_0x8362c1=>_0x8362c1['id']===_0x2e07cc['id']?{..._0x8362c1,'preview':_0x16a518[_0x50ada3(0x2b9)]?.['result']}:_0x8362c1));},_0x2e1f0e['readAsDataURL'](_0x2e07cc[_0x50bca0(0x22f)]);}}),_0x31091a(_0x362dcd=>[..._0x362dcd,..._0x365365]),_0x439742['current']&&(_0x439742['current'][_0x26f3ea(0x2b4)]='');},'accept':'image/*,video/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.zip,.rar,.7z,.tar,.gz,.txt,.csv,.md'}),(0x0,_0x2d7443[_0x15dbd5(0x2da)])('button',{'className':_0x15dbd5(0x25d),'title':'Emoji','disabled':_0x152145||_0x5bf5a2,'children':(0x0,_0x2d7443[_0x15dbd5(0x2da)])(_0x42f18f['Smile'],{'size':0x18})}),(0x0,_0x2d7443[_0x15dbd5(0x2da)])(_0x15dbd5(0x248),{'onClick':()=>_0x439742['current']?.['click'](),'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800\x20disabled:opacity-50','title':_0x15dbd5(0x32f),'disabled':_0x152145||_0x5bf5a2||_0x27e110,'children':(0x0,_0x2d7443[_0x15dbd5(0x2da)])(_0x3e555c,{'size':0x18})}),(0x0,_0x2d7443[_0x15dbd5(0x2da)])(_0x15dbd5(0x2f6),{'className':'flex-1\x20relative','children':(0x0,_0x2d7443[_0x15dbd5(0x2da)])('textarea',{'ref':_0x2eb32f,'value':_0x510bce,'onChange':_0x1ad065=>_0x9646f2(_0x1ad065['target']['value']),'onKeyDown':_0x28df89=>{const _0x540540=_0x15dbd5;_0x540540(0x2d9)!==_0x28df89[_0x540540(0x26d)]||_0x28df89[_0x540540(0x1be)]||(_0x28df89[_0x540540(0x292)](),_0x339fa6());},'placeholder':_0x5bf5a2?_0x15dbd5(0x226):_0x4dc4b1,'disabled':_0x152145||_0x5bf5a2||_0x27e110,'rows':0x1,'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-2xl\x20text-sm\x20resize-none\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500\x20disabled:opacity-50\x20disabled:cursor-not-allowed','style':{'maxHeight':_0x15dbd5(0x21b)}})}),_0x230d8a?(0x0,_0x2d7443[_0x15dbd5(0x2da)])('button',{'onClick':_0x339fa6,'disabled':_0x152145||_0x5bf5a2||_0x27e110,'className':'p-2\x20bg-green-500\x20text-white\x20rounded-full\x20hover:bg-green-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center','title':'Send','children':_0x27e110?(0x0,_0x2d7443[_0x15dbd5(0x2da)])(_0x216de1['Loader2'],{'size':0x18,'className':_0x15dbd5(0x1d8)}):(0x0,_0x2d7443['jsx'])(_0x2641c4['Send'],{'size':0x18})}):(0x0,_0x2d7443[_0x15dbd5(0x2da)])('button',{'className':_0x15dbd5(0x25d),'title':_0x15dbd5(0x338),'disabled':_0x152145||_0x5bf5a2,'children':(0x0,_0x2d7443['jsx'])(_0x5e94ce,{'size':0x18})})]})]});}let _0x3d7883=(0x0,_0x2dc075[_0x307a2f(0x273)])('lock-open',[[_0x307a2f(0x314),{'width':'18','height':'11','x':'3','y':'11','rx':'2','ry':'2','key':'1w4ew1'}],['path',{'d':'M7\x2011V7a5\x205\x200\x200\x201\x209.9-1','key':'1mm8w8'}]]);var _0x4eac6b=_0x14789b['i'](0x13cf4),_0x5ed712=_0x14789b['i'](0x512f),_0x25154e=_0x14789b['i'](0x754e),_0x4ea347=_0x14789b['i'](0x66da),_0x2acd45=_0x14789b['i'](0x2a14),_0x2494bb=_0x14789b['i'](0xd19c),_0x697731=_0x14789b['i'](0x1236e),_0x11a7b4=_0x14789b['i'](0x17972),_0x3c6967=_0x14789b['i'](0xbd29),_0x626014=_0x14789b['i'](0x1670e),_0x4fe002=_0x14789b['i'](0x10edc),_0x548733=_0x14789b['i'](0xe813),[_0x3cc744,_0x5f3646]=(0x0,_0x25154e[_0x307a2f(0x2bf)])(_0x307a2f(0x20f),[_0x2494bb['createPopperScope']]),_0x4810c7=(0x0,_0x2494bb[_0x307a2f(0x254)])(),_0xdd4cd9='TooltipProvider',_0x4e5b82='tooltip.open',[_0x40761e,_0x27c4f8]=_0x3cc744(_0xdd4cd9),_0x1ff463=_0x122db7=>{const _0x515696=_0x307a2f;let {__scopeTooltip:_0x57455f,delayDuration:_0x459be1=0x2bc,skipDelayDuration:_0x4d58b8=0x12c,disableHoverableContent:_0x102419=!0x1,children:_0x51edfc}=_0x122db7,_0xfacc43=_0x42ae3a[_0x515696(0x22b)](!0x0),_0x2b5fe0=_0x42ae3a[_0x515696(0x22b)](!0x1),_0x92a30b=_0x42ae3a[_0x515696(0x22b)](0x0);return _0x42ae3a[_0x515696(0x28a)](()=>{const _0x20c2cf=_0x515696;let _0xf6d651=_0x92a30b['current'];return()=>window[_0x20c2cf(0x358)](_0xf6d651);},[]),(0x0,_0x2d7443[_0x515696(0x2da)])(_0x40761e,{'scope':_0x57455f,'isOpenDelayedRef':_0xfacc43,'delayDuration':_0x459be1,'onOpen':_0x42ae3a['useCallback'](()=>{const _0x3b6248=_0x515696;window['clearTimeout'](_0x92a30b[_0x3b6248(0x22c)]),_0xfacc43[_0x3b6248(0x22c)]=!0x1;},[]),'onClose':_0x42ae3a['useCallback'](()=>{const _0x57a172=_0x515696;window[_0x57a172(0x358)](_0x92a30b[_0x57a172(0x22c)]),_0x92a30b[_0x57a172(0x22c)]=window[_0x57a172(0x1d6)](()=>_0xfacc43['current']=!0x0,_0x4d58b8);},[_0x4d58b8]),'isPointerInTransitRef':_0x2b5fe0,'onPointerInTransitChange':_0x42ae3a['useCallback'](_0x3857b7=>{const _0x36147e=_0x515696;_0x2b5fe0[_0x36147e(0x22c)]=_0x3857b7;},[]),'disableHoverableContent':_0x102419,'children':_0x51edfc});};_0x1ff463[_0x307a2f(0x197)]=_0xdd4cd9;var _0x575108='Tooltip',[_0x3cb52d,_0xd0fe0]=_0x3cc744(_0x575108),_0x57e6e4=_0x3a9b23=>{const _0x1b7973=_0x307a2f;let {__scopeTooltip:_0x3ff149,children:_0x5ebc97,open:_0x45dece,defaultOpen:_0x542623,onOpenChange:_0x30263e,disableHoverableContent:_0x2f4df1,delayDuration:_0x2b96ce}=_0x3a9b23,_0x58398d=_0x27c4f8(_0x575108,_0x3a9b23['__scopeTooltip']),_0x5e0240=_0x4810c7(_0x3ff149),[_0x555291,_0x47af70]=_0x42ae3a['useState'](null),_0x3b5a61=(0x0,_0x2acd45[_0x1b7973(0x33f)])(),_0x2e88dd=_0x42ae3a['useRef'](0x0),_0x52371d=_0x2f4df1??_0x58398d[_0x1b7973(0x2fe)],_0x547a0f=_0x2b96ce??_0x58398d['delayDuration'],_0x3c99ab=_0x42ae3a[_0x1b7973(0x22b)](!0x1),[_0x2d864a,_0x17accf]=(0x0,_0x4fe002['useControllableState'])({'prop':_0x45dece,'defaultProp':_0x542623??!0x1,'onChange':_0x41538c=>{const _0x1a47f1=_0x1b7973;_0x41538c?(_0x58398d['onOpen'](),document[_0x1a47f1(0x1fa)](new CustomEvent(_0x4e5b82))):_0x58398d['onClose'](),_0x30263e?.(_0x41538c);},'caller':_0x575108}),_0x248f3a=_0x42ae3a[_0x1b7973(0x2c7)](()=>_0x2d864a?_0x3c99ab[_0x1b7973(0x22c)]?'delayed-open':_0x1b7973(0x1bc):'closed',[_0x2d864a]),_0x18e544=_0x42ae3a['useCallback'](()=>{const _0x54f853=_0x1b7973;window[_0x54f853(0x358)](_0x2e88dd[_0x54f853(0x22c)]),_0x2e88dd[_0x54f853(0x22c)]=0x0,_0x3c99ab[_0x54f853(0x22c)]=!0x1,_0x17accf(!0x0);},[_0x17accf]),_0x1d5510=_0x42ae3a['useCallback'](()=>{const _0x2a1359=_0x1b7973;window['clearTimeout'](_0x2e88dd[_0x2a1359(0x22c)]),_0x2e88dd[_0x2a1359(0x22c)]=0x0,_0x17accf(!0x1);},[_0x17accf]),_0x28e988=_0x42ae3a['useCallback'](()=>{const _0x42361d=_0x1b7973;window['clearTimeout'](_0x2e88dd[_0x42361d(0x22c)]),_0x2e88dd['current']=window['setTimeout'](()=>{const _0x232437=_0x42361d;_0x3c99ab['current']=!0x0,_0x17accf(!0x0),_0x2e88dd[_0x232437(0x22c)]=0x0;},_0x547a0f);},[_0x547a0f,_0x17accf]);return _0x42ae3a['useEffect'](()=>()=>{const _0x4947f6=_0x1b7973;_0x2e88dd[_0x4947f6(0x22c)]&&(window[_0x4947f6(0x358)](_0x2e88dd['current']),_0x2e88dd['current']=0x0);},[]),(0x0,_0x2d7443[_0x1b7973(0x2da)])(_0x2494bb['Root'],{..._0x5e0240,'children':(0x0,_0x2d7443[_0x1b7973(0x2da)])(_0x3cb52d,{'scope':_0x3ff149,'contentId':_0x3b5a61,'open':_0x2d864a,'stateAttribute':_0x248f3a,'trigger':_0x555291,'onTriggerChange':_0x47af70,'onTriggerEnter':_0x42ae3a[_0x1b7973(0x324)](()=>{const _0x5d8878=_0x1b7973;_0x58398d[_0x5d8878(0x1e3)]['current']?_0x28e988():_0x18e544();},[_0x58398d['isOpenDelayedRef'],_0x28e988,_0x18e544]),'onTriggerLeave':_0x42ae3a[_0x1b7973(0x324)](()=>{const _0x1a2ffe=_0x1b7973;_0x52371d?_0x1d5510():(window['clearTimeout'](_0x2e88dd['current']),_0x2e88dd[_0x1a2ffe(0x22c)]=0x0);},[_0x1d5510,_0x52371d]),'onOpen':_0x18e544,'onClose':_0x1d5510,'disableHoverableContent':_0x52371d,'children':_0x5ebc97})});};_0x57e6e4[_0x307a2f(0x197)]=_0x575108;var _0x2002ba='TooltipTrigger',_0x52b51d=_0x42ae3a['forwardRef']((_0x1f5c40,_0x426063)=>{const _0x10898a=_0x307a2f;let {__scopeTooltip:_0x35d4e4,..._0x518e9a}=_0x1f5c40,_0x216737=_0xd0fe0(_0x2002ba,_0x35d4e4),_0x1ff479=_0x27c4f8(_0x2002ba,_0x35d4e4),_0xfd405b=_0x4810c7(_0x35d4e4),_0x2cbb6e=_0x42ae3a['useRef'](null),_0x318093=(0x0,_0x5ed712['useComposedRefs'])(_0x426063,_0x2cbb6e,_0x216737[_0x10898a(0x189)]),_0x4000ae=_0x42ae3a[_0x10898a(0x22b)](!0x1),_0x3fd170=_0x42ae3a[_0x10898a(0x22b)](!0x1),_0x38d911=_0x42ae3a['useCallback'](()=>_0x4000ae['current']=!0x1,[]);return _0x42ae3a['useEffect'](()=>()=>document['removeEventListener']('pointerup',_0x38d911),[_0x38d911]),(0x0,_0x2d7443['jsx'])(_0x2494bb['Anchor'],{'asChild':!0x0,..._0xfd405b,'children':(0x0,_0x2d7443[_0x10898a(0x2da)])(_0x3c6967['Primitive']['button'],{'aria-describedby':_0x216737[_0x10898a(0x2bc)]?_0x216737['contentId']:void 0x0,'data-state':_0x216737['stateAttribute'],..._0x518e9a,'ref':_0x318093,'onPointerMove':(0x0,_0x4eac6b[_0x10898a(0x187)])(_0x1f5c40[_0x10898a(0x1cc)],_0x4c7424=>{const _0x2174a8=_0x10898a;'touch'!==_0x4c7424[_0x2174a8(0x1ed)]&&(_0x3fd170['current']||_0x1ff479['isPointerInTransitRef']['current']||(_0x216737[_0x2174a8(0x255)](),_0x3fd170[_0x2174a8(0x22c)]=!0x0));}),'onPointerLeave':(0x0,_0x4eac6b[_0x10898a(0x187)])(_0x1f5c40['onPointerLeave'],()=>{const _0x3979e4=_0x10898a;_0x216737[_0x3979e4(0x256)](),_0x3fd170['current']=!0x1;}),'onPointerDown':(0x0,_0x4eac6b[_0x10898a(0x187)])(_0x1f5c40[_0x10898a(0x334)],()=>{const _0x30081c=_0x10898a;_0x216737['open']&&_0x216737['onClose'](),_0x4000ae[_0x30081c(0x22c)]=!0x0,document[_0x30081c(0x25c)](_0x30081c(0x33d),_0x38d911,{'once':!0x0});}),'onFocus':(0x0,_0x4eac6b['composeEventHandlers'])(_0x1f5c40['onFocus'],()=>{_0x4000ae['current']||_0x216737['onOpen']();}),'onBlur':(0x0,_0x4eac6b[_0x10898a(0x187)])(_0x1f5c40['onBlur'],_0x216737['onClose']),'onClick':(0x0,_0x4eac6b[_0x10898a(0x187)])(_0x1f5c40[_0x10898a(0x18c)],_0x216737[_0x10898a(0x24d)])})});});_0x52b51d['displayName']=_0x2002ba;var _0x4d7913=_0x307a2f(0x1d0),[_0x2d9fe0,_0x2e5418]=_0x3cc744(_0x4d7913,{'forceMount':void 0x0}),_0x2daa56=_0x5d2e61=>{const _0x2848e6=_0x307a2f;let {__scopeTooltip:_0x3d1f00,forceMount:_0x11350c,children:_0xbb23ae,container:_0x568e13}=_0x5d2e61,_0x5c6dc1=_0xd0fe0(_0x4d7913,_0x3d1f00);return(0x0,_0x2d7443[_0x2848e6(0x2da)])(_0x2d9fe0,{'scope':_0x3d1f00,'forceMount':_0x11350c,'children':(0x0,_0x2d7443[_0x2848e6(0x2da)])(_0x11a7b4['Presence'],{'present':_0x11350c||_0x5c6dc1[_0x2848e6(0x2bc)],'children':(0x0,_0x2d7443[_0x2848e6(0x2da)])(_0x697731['Portal'],{'asChild':!0x0,'container':_0x568e13,'children':_0xbb23ae})})});};_0x2daa56['displayName']=_0x4d7913;var _0x9cd0ca='TooltipContent',_0x1328c0=_0x42ae3a['forwardRef']((_0xe3c603,_0x63558c)=>{const _0x447c48=_0x307a2f;let _0x22393c=_0x2e5418(_0x9cd0ca,_0xe3c603[_0x447c48(0x1b5)]),{forceMount:_0x558401=_0x22393c['forceMount'],side:_0x11c56e='top',..._0x14e89a}=_0xe3c603,_0x19917f=_0xd0fe0(_0x9cd0ca,_0xe3c603['__scopeTooltip']);return(0x0,_0x2d7443[_0x447c48(0x2da)])(_0x11a7b4[_0x447c48(0x2f9)],{'present':_0x558401||_0x19917f[_0x447c48(0x2bc)],'children':_0x19917f[_0x447c48(0x2fe)]?(0x0,_0x2d7443['jsx'])(_0x2df44d,{'side':_0x11c56e,..._0x14e89a,'ref':_0x63558c}):(0x0,_0x2d7443[_0x447c48(0x2da)])(_0x2cb769,{'side':_0x11c56e,..._0x14e89a,'ref':_0x63558c})});}),_0x2cb769=_0x42ae3a['forwardRef']((_0x5c32f0,_0x544d96)=>{const _0x1d4fcf=_0x307a2f;let _0x40b943=_0xd0fe0(_0x9cd0ca,_0x5c32f0['__scopeTooltip']),_0x594385=_0x27c4f8(_0x9cd0ca,_0x5c32f0[_0x1d4fcf(0x1b5)]),_0x415edb=_0x42ae3a['useRef'](null),_0x5c8109=(0x0,_0x5ed712['useComposedRefs'])(_0x544d96,_0x415edb),[_0x537609,_0x58570e]=_0x42ae3a['useState'](null),{trigger:_0x412667,onClose:_0x58761b}=_0x40b943,_0x58375b=_0x415edb['current'],{onPointerInTransitChange:_0x3336bb}=_0x594385,_0x530ff5=_0x42ae3a['useCallback'](()=>{_0x58570e(null),_0x3336bb(!0x1);},[_0x3336bb]),_0x30c05f=_0x42ae3a['useCallback']((_0xd6213d,_0x41c8a7)=>{const _0x9991ad=_0x1d4fcf;let _0x36d93d,_0x26c388=_0xd6213d[_0x9991ad(0x259)],_0x5aa108={'x':_0xd6213d['clientX'],'y':_0xd6213d['clientY']},_0x2142d7=function(_0x526a7f,_0x495b80){const _0xf5c55c=_0x9991ad;let _0x230927=Math[_0xf5c55c(0x2b5)](_0x495b80[_0xf5c55c(0x315)]-_0x526a7f['y']),_0x1a3f89=Math['abs'](_0x495b80['bottom']-_0x526a7f['y']),_0x570755=Math['abs'](_0x495b80[_0xf5c55c(0x34e)]-_0x526a7f['x']),_0x1b0148=Math[_0xf5c55c(0x2b5)](_0x495b80['left']-_0x526a7f['x']);switch(Math[_0xf5c55c(0x1d9)](_0x230927,_0x1a3f89,_0x570755,_0x1b0148)){case _0x1b0148:return _0xf5c55c(0x1d3);case _0x570755:return'right';case _0x230927:return _0xf5c55c(0x315);case _0x1a3f89:return'bottom';default:throw Error(_0xf5c55c(0x2a2));}}(_0x5aa108,_0x26c388['getBoundingClientRect']());_0x58570e(((_0x36d93d=[...function(_0x5d49a3,_0x137684,_0x599107=0x5){const _0x545619=_0x9991ad;let _0x49cb01=[];switch(_0x137684){case'top':_0x49cb01['push']({'x':_0x5d49a3['x']-_0x599107,'y':_0x5d49a3['y']+_0x599107},{'x':_0x5d49a3['x']+_0x599107,'y':_0x5d49a3['y']+_0x599107});break;case'bottom':_0x49cb01[_0x545619(0x209)]({'x':_0x5d49a3['x']-_0x599107,'y':_0x5d49a3['y']-_0x599107},{'x':_0x5d49a3['x']+_0x599107,'y':_0x5d49a3['y']-_0x599107});break;case'left':_0x49cb01[_0x545619(0x209)]({'x':_0x5d49a3['x']+_0x599107,'y':_0x5d49a3['y']-_0x599107},{'x':_0x5d49a3['x']+_0x599107,'y':_0x5d49a3['y']+_0x599107});break;case _0x545619(0x34e):_0x49cb01[_0x545619(0x209)]({'x':_0x5d49a3['x']-_0x599107,'y':_0x5d49a3['y']-_0x599107},{'x':_0x5d49a3['x']-_0x599107,'y':_0x5d49a3['y']+_0x599107});}return _0x49cb01;}(_0x5aa108,_0x2142d7),...function(_0x27d5c8){let {top:_0x476540,right:_0x2f6d1b,bottom:_0x378614,left:_0x4dcbb6}=_0x27d5c8;return[{'x':_0x4dcbb6,'y':_0x476540},{'x':_0x2f6d1b,'y':_0x476540},{'x':_0x2f6d1b,'y':_0x378614},{'x':_0x4dcbb6,'y':_0x378614}];}(_0x41c8a7[_0x9991ad(0x193)]())][_0x9991ad(0x304)]())[_0x9991ad(0x326)]((_0x55eb9e,_0x1357f2)=>_0x55eb9e['x']<_0x1357f2['x']?-0x1:_0x55eb9e['x']>_0x1357f2['x']?0x1:_0x55eb9e['y']<_0x1357f2['y']?-0x1:0x1*!!(_0x55eb9e['y']>_0x1357f2['y'])),function(_0x3b792e){const _0x4db2eb=_0x9991ad;if(_0x3b792e['length']<=0x1)return _0x3b792e['slice']();let _0x1c9f69=[];for(let _0x7c0e8d=0x0;_0x7c0e8d<_0x3b792e['length'];_0x7c0e8d++){let _0x1c6e57=_0x3b792e[_0x7c0e8d];for(;_0x1c9f69['length']>=0x2;){let _0x110671=_0x1c9f69[_0x1c9f69['length']-0x1],_0x26fbd2=_0x1c9f69[_0x1c9f69[_0x4db2eb(0x240)]-0x2];if((_0x110671['x']-_0x26fbd2['x'])*(_0x1c6e57['y']-_0x26fbd2['y'])>=(_0x110671['y']-_0x26fbd2['y'])*(_0x1c6e57['x']-_0x26fbd2['x']))_0x1c9f69[_0x4db2eb(0x246)]();else break;}_0x1c9f69['push'](_0x1c6e57);}_0x1c9f69[_0x4db2eb(0x246)]();let _0x21ad2a=[];for(let _0x1e0d64=_0x3b792e['length']-0x1;_0x1e0d64>=0x0;_0x1e0d64--){let _0x4cd2b6=_0x3b792e[_0x1e0d64];for(;_0x21ad2a['length']>=0x2;){let _0x4ecb8f=_0x21ad2a[_0x21ad2a[_0x4db2eb(0x240)]-0x1],_0x748461=_0x21ad2a[_0x21ad2a[_0x4db2eb(0x240)]-0x2];if((_0x4ecb8f['x']-_0x748461['x'])*(_0x4cd2b6['y']-_0x748461['y'])>=(_0x4ecb8f['y']-_0x748461['y'])*(_0x4cd2b6['x']-_0x748461['x']))_0x21ad2a['pop']();else break;}_0x21ad2a['push'](_0x4cd2b6);}return(_0x21ad2a['pop'](),0x1===_0x1c9f69[_0x4db2eb(0x240)]&&0x1===_0x21ad2a[_0x4db2eb(0x240)]&&_0x1c9f69[0x0]['x']===_0x21ad2a[0x0]['x']&&_0x1c9f69[0x0]['y']===_0x21ad2a[0x0]['y'])?_0x1c9f69:_0x1c9f69['concat'](_0x21ad2a);}(_0x36d93d))),_0x3336bb(!0x0);},[_0x3336bb]);return _0x42ae3a[_0x1d4fcf(0x28a)](()=>()=>_0x530ff5(),[_0x530ff5]),_0x42ae3a[_0x1d4fcf(0x28a)](()=>{const _0xb7d7ab=_0x1d4fcf;if(_0x412667&&_0x58375b){let _0x291ecb=_0x495a2b=>_0x30c05f(_0x495a2b,_0x58375b),_0x554b09=_0x274646=>_0x30c05f(_0x274646,_0x412667);return _0x412667[_0xb7d7ab(0x25c)](_0xb7d7ab(0x1b4),_0x291ecb),_0x58375b[_0xb7d7ab(0x25c)]('pointerleave',_0x554b09),()=>{const _0x57631a=_0xb7d7ab;_0x412667['removeEventListener']('pointerleave',_0x291ecb),_0x58375b[_0x57631a(0x1a3)](_0x57631a(0x1b4),_0x554b09);};}},[_0x412667,_0x58375b,_0x30c05f,_0x530ff5]),_0x42ae3a['useEffect'](()=>{const _0x37ba0d=_0x1d4fcf;if(_0x537609){let _0x245a93=_0x19e6ba=>{const _0x3ce317=_0x25f8;let _0x255b60=_0x19e6ba['target'],_0x3ce109={'x':_0x19e6ba[_0x3ce317(0x27e)],'y':_0x19e6ba[_0x3ce317(0x25e)]},_0x52c82b=_0x412667?.['contains'](_0x255b60)||_0x58375b?.[_0x3ce317(0x322)](_0x255b60),_0x3e42ca=!function(_0x11af40,_0x5ab2bf){const _0x576d95=_0x3ce317;let {x:_0x318c20,y:_0x11e5a7}=_0x11af40,_0x2abb22=!0x1;for(let _0x44a970=0x0,_0x2369f7=_0x5ab2bf[_0x576d95(0x240)]-0x1;_0x44a970<_0x5ab2bf['length'];_0x2369f7=_0x44a970++){let _0x5143ec=_0x5ab2bf[_0x44a970],_0x4e7e85=_0x5ab2bf[_0x2369f7],_0x3cbebe=_0x5143ec['x'],_0x131b5b=_0x5143ec['y'],_0x236c58=_0x4e7e85['x'],_0x279e99=_0x4e7e85['y'];_0x131b5b>_0x11e5a7!=_0x279e99>_0x11e5a7&&_0x318c20<(_0x236c58-_0x3cbebe)*(_0x11e5a7-_0x131b5b)/(_0x279e99-_0x131b5b)+_0x3cbebe&&(_0x2abb22=!_0x2abb22);}return _0x2abb22;}(_0x3ce109,_0x537609);_0x52c82b?_0x530ff5():_0x3e42ca&&(_0x530ff5(),_0x58761b());};return document[_0x37ba0d(0x25c)](_0x37ba0d(0x252),_0x245a93),()=>document['removeEventListener']('pointermove',_0x245a93);}},[_0x412667,_0x58375b,_0x537609,_0x58761b,_0x530ff5]),(0x0,_0x2d7443['jsx'])(_0x2df44d,{..._0x5c32f0,'ref':_0x5c8109});}),[_0x415ec4,_0x1668a6]=_0x3cc744(_0x575108,{'isInside':!0x1}),_0x132a66=(0x0,_0x626014[_0x307a2f(0x2e4)])(_0x307a2f(0x28b)),_0x2df44d=_0x42ae3a[_0x307a2f(0x196)]((_0x5a621b,_0x1ddb62)=>{const _0x5c1ea8=_0x307a2f;let {__scopeTooltip:_0x2865e3,children:_0x2ecede,'aria-label':_0xbf0219,onEscapeKeyDown:_0x300629,onPointerDownOutside:_0x3ae7fb,..._0x5ca0d5}=_0x5a621b,_0x461b69=_0xd0fe0(_0x9cd0ca,_0x2865e3),_0x3b2563=_0x4810c7(_0x2865e3),{onClose:_0x30af75}=_0x461b69;return _0x42ae3a[_0x5c1ea8(0x28a)](()=>(document[_0x5c1ea8(0x25c)](_0x4e5b82,_0x30af75),()=>document['removeEventListener'](_0x4e5b82,_0x30af75)),[_0x30af75]),_0x42ae3a['useEffect'](()=>{const _0x1c0aa5=_0x5c1ea8;if(_0x461b69[_0x1c0aa5(0x320)]){let _0x38eed7=_0x23ef6a=>{const _0x192eb7=_0x1c0aa5;let _0x31be0e=_0x23ef6a['target'];_0x31be0e?.['contains'](_0x461b69[_0x192eb7(0x320)])&&_0x30af75();};return window[_0x1c0aa5(0x25c)]('scroll',_0x38eed7,{'capture':!0x0}),()=>window['removeEventListener'](_0x1c0aa5(0x1f7),_0x38eed7,{'capture':!0x0});}},[_0x461b69[_0x5c1ea8(0x320)],_0x30af75]),(0x0,_0x2d7443['jsx'])(_0x4ea347[_0x5c1ea8(0x2ed)],{'asChild':!0x0,'disableOutsidePointerEvents':!0x1,'onEscapeKeyDown':_0x300629,'onPointerDownOutside':_0x3ae7fb,'onFocusOutside':_0x25b5f5=>_0x25b5f5[_0x5c1ea8(0x292)](),'onDismiss':_0x30af75,'children':(0x0,_0x2d7443['jsxs'])(_0x2494bb['Content'],{'data-state':_0x461b69['stateAttribute'],..._0x3b2563,..._0x5ca0d5,'ref':_0x1ddb62,'style':{..._0x5ca0d5[_0x5c1ea8(0x1e2)],'--radix-tooltip-content-transform-origin':'var(--radix-popper-transform-origin)','--radix-tooltip-content-available-width':_0x5c1ea8(0x283),'--radix-tooltip-content-available-height':_0x5c1ea8(0x1cd),'--radix-tooltip-trigger-width':'var(--radix-popper-anchor-width)','--radix-tooltip-trigger-height':_0x5c1ea8(0x2c9)},'children':[(0x0,_0x2d7443['jsx'])(_0x132a66,{'children':_0x2ecede}),(0x0,_0x2d7443[_0x5c1ea8(0x2da)])(_0x415ec4,{'scope':_0x2865e3,'isInside':!0x0,'children':(0x0,_0x2d7443[_0x5c1ea8(0x2da)])(_0x548733[_0x5c1ea8(0x33a)],{'id':_0x461b69['contentId'],'role':_0x5c1ea8(0x346),'children':_0xbf0219||_0x2ecede})})]})});});_0x1328c0[_0x307a2f(0x197)]=_0x9cd0ca;var _0x30b018=_0x307a2f(0x225),_0x2009de=_0x42ae3a['forwardRef']((_0x2e9eea,_0x7f7ef2)=>{const _0x483d5c=_0x307a2f;let {__scopeTooltip:_0x4c0421,..._0x44efce}=_0x2e9eea,_0x3bfbe4=_0x4810c7(_0x4c0421);return _0x1668a6(_0x30b018,_0x4c0421)[_0x483d5c(0x1ef)]?null:(0x0,_0x2d7443[_0x483d5c(0x2da)])(_0x2494bb[_0x483d5c(0x1eb)],{..._0x3bfbe4,..._0x44efce,'ref':_0x7f7ef2});});function _0x4069f4(){const _0x1f2f4d=_0x307a2f;let {isLocked:_0x55220e,lockKey:_0x11510d,unlockKey:_0x234be1}=(0x0,_0x5175b6['useAuth'])(),[_0x17ed75,_0x20dd66]=(0x0,_0x42ae3a['useState'])(!0x1),[_0x3d3f97,_0x173dae]=(0x0,_0x42ae3a['useState'])(''),[_0x397c8a,_0x248b6f]=(0x0,_0x42ae3a[_0x1f2f4d(0x222)])(null),[_0x11c909,_0x3e8b1e]=(0x0,_0x42ae3a[_0x1f2f4d(0x222)])(!0x1),_0x58b2eb=async _0x53fe31=>{const _0x100f74=_0x1f2f4d;_0x53fe31[_0x100f74(0x292)](),_0x248b6f(null),_0x3e8b1e(!0x0);try{await _0x234be1(_0x3d3f97)?(_0x20dd66(!0x1),_0x173dae('')):_0x248b6f(_0x100f74(0x2cc));}catch(_0x33ab07){_0x248b6f(_0x100f74(0x281));}finally{_0x3e8b1e(!0x1);}};return _0x17ed75?(0x0,_0x2d7443[_0x1f2f4d(0x2da)])('div',{'className':_0x1f2f4d(0x1e6),'children':(0x0,_0x2d7443[_0x1f2f4d(0x2fb)])(_0x1f2f4d(0x2f6),{'className':'bg-neutral-800\x20border\x20border-neutral-700\x20rounded-xl\x20p-6\x20w-full\x20max-w-md','children':[(0x0,_0x2d7443['jsx'])('h2',{'className':'text-xl\x20font-bold\x20mb-2','children':'Unlock\x20Chat'}),(0x0,_0x2d7443[_0x1f2f4d(0x2da)])('p',{'className':'text-sm\x20text-neutral-400\x20mb-4','children':_0x1f2f4d(0x2ea)}),_0x397c8a&&(0x0,_0x2d7443[_0x1f2f4d(0x2da)])('div',{'className':'mb-4\x20p-3\x20bg-red-500/10\x20border\x20border-red-500/20\x20rounded-lg\x20text-red-500\x20text-sm','children':_0x397c8a}),(0x0,_0x2d7443['jsxs'])('form',{'onSubmit':_0x58b2eb,'className':_0x1f2f4d(0x2a3),'children':[(0x0,_0x2d7443['jsxs'])('div',{'children':[(0x0,_0x2d7443[_0x1f2f4d(0x2da)])(_0x1f2f4d(0x263),{'htmlFor':'passphrase','className':'block\x20text-sm\x20font-medium\x20text-neutral-300\x20mb-1','children':_0x1f2f4d(0x211)}),(0x0,_0x2d7443[_0x1f2f4d(0x2da)])('input',{'id':_0x1f2f4d(0x1af),'type':'password','value':_0x3d3f97,'onChange':_0x11a93d=>_0x173dae(_0x11a93d[_0x1f2f4d(0x2b9)]['value']),'required':!0x0,'autoFocus':!0x0,'className':_0x1f2f4d(0x26c),'placeholder':_0x1f2f4d(0x1b2)})]}),(0x0,_0x2d7443[_0x1f2f4d(0x2fb)])('div',{'className':'flex\x20gap-2','children':[(0x0,_0x2d7443['jsx'])('button',{'type':_0x1f2f4d(0x248),'onClick':()=>{_0x20dd66(!0x1),_0x173dae(''),_0x248b6f(null);},'className':'flex-1\x20py-2\x20bg-neutral-700\x20hover:bg-neutral-600\x20rounded-lg\x20font-medium\x20transition-colors','children':'Cancel'}),(0x0,_0x2d7443[_0x1f2f4d(0x2da)])(_0x1f2f4d(0x248),{'type':'submit','disabled':_0x11c909||!_0x3d3f97,'className':'flex-1\x20py-2\x20bg-blue-600\x20hover:bg-blue-700\x20disabled:bg-blue-800\x20disabled:cursor-not-allowed\x20rounded-lg\x20font-medium\x20transition-colors','children':_0x11c909?_0x1f2f4d(0x253):'Unlock'})]})]})]})}):(0x0,_0x2d7443[_0x1f2f4d(0x2da)])(_0x1ff463,{'children':(0x0,_0x2d7443['jsxs'])(_0x57e6e4,{'delayDuration':0x12c,'children':[(0x0,_0x2d7443[_0x1f2f4d(0x2da)])(_0x52b51d,{'asChild':!0x0,'children':(0x0,_0x2d7443['jsx'])(_0x1f2f4d(0x248),{'onClick':_0x55220e?()=>{_0x20dd66(!0x0),_0x248b6f(null),_0x173dae('');}:()=>{_0x11510d();},'className':_0x1f2f4d(0x30a)+(_0x55220e?_0x1f2f4d(0x307):_0x1f2f4d(0x277)),'aria-label':_0x55220e?_0x1f2f4d(0x288):'Lock\x20chat','children':_0x55220e?(0x0,_0x2d7443['jsx'])(_0x4695e4[_0x1f2f4d(0x333)],{'size':0x14}):(0x0,_0x2d7443['jsx'])(_0x3d7883,{'size':0x14})})}),(0x0,_0x2d7443['jsx'])(_0x2daa56,{'children':(0x0,_0x2d7443['jsxs'])(_0x1328c0,{'side':_0x1f2f4d(0x342),'align':_0x1f2f4d(0x319),'className':'bg-neutral-800\x20border\x20border-neutral-700\x20px-3\x20py-2\x20rounded-lg\x20text-sm\x20text-white\x20shadow-lg\x20z-50','sideOffset':0x5,'children':[_0x55220e?(0x0,_0x2d7443['jsxs'])(_0x2d7443[_0x1f2f4d(0x31a)],{'children':[(0x0,_0x2d7443[_0x1f2f4d(0x2da)])('p',{'className':_0x1f2f4d(0x271),'children':_0x1f2f4d(0x28f)}),(0x0,_0x2d7443[_0x1f2f4d(0x2da)])('p',{'className':_0x1f2f4d(0x195),'children':'Click\x20to\x20unlock\x20and\x20decrypt\x20messages'})]}):(0x0,_0x2d7443['jsxs'])(_0x2d7443[_0x1f2f4d(0x31a)],{'children':[(0x0,_0x2d7443[_0x1f2f4d(0x2da)])('p',{'className':'font-medium','children':'Chat\x20Unlocked'}),(0x0,_0x2d7443[_0x1f2f4d(0x2da)])('p',{'className':'text-neutral-400\x20text-xs','children':'Click\x20to\x20lock\x20and\x20clear\x20decryption\x20keys\x20from\x20memory'})]}),(0x0,_0x2d7443[_0x1f2f4d(0x2da)])(_0x2009de,{'className':_0x1f2f4d(0x2c2)})]})})]})});}_0x2009de['displayName']=_0x30b018;var _0x58024f=_0x14789b['i'](0x11809);let _0x2d1ccd=(0x0,_0x2dc075['default'])('phone',[[_0x307a2f(0x270),{'d':_0x307a2f(0x230),'key':_0x307a2f(0x221)}]]);var _0x280b21=_0x14789b['i'](0x1337c),_0x3921ae=_0x14789b['i'](0x5c21),_0x3b562e=_0x14789b['i'](0x18267);function _0x1c858a({chat:_0x5e49ae,onBack:_0x1f7dbe}){const _0x23a324=_0x307a2f;let {user:_0x55eb9f,privateKey:_0x1c24f2,isKeyUnlocked:_0x214ad7}=(0x0,_0x5175b6[_0x23a324(0x321)])(),[_0x28bb73,_0x12772a]=(0x0,_0x42ae3a[_0x23a324(0x222)])([]),[_0x4d8094,_0x227a8e]=(0x0,_0x42ae3a['useState'])(!0x0),[_0x671a53,_0x413ee]=(0x0,_0x42ae3a[_0x23a324(0x222)])(!0x1),[_0x344eb1,_0x3e432c]=(0x0,_0x42ae3a['useState'])(null),[_0x8cdc41,_0x362eea]=(0x0,_0x42ae3a['useState'])(null),[_0x11f722,_0x2261a3]=(0x0,_0x42ae3a[_0x23a324(0x222)])(null),_0x2422da=(0x0,_0x42ae3a[_0x23a324(0x22b)])(null),_0x30deb6=(0x0,_0x42ae3a[_0x23a324(0x22b)])(null),_0x439112=(0x0,_0x42ae3a['useCallback'])(()=>{const _0x311ea7=_0x23a324;_0x2422da[_0x311ea7(0x22c)]?.[_0x311ea7(0x24c)]({'behavior':_0x311ea7(0x351)});},[]);(0x0,_0x42ae3a['useEffect'])(()=>{_0x439112();},[_0x28bb73,_0x439112]),(0x0,_0x42ae3a['useEffect'])(()=>{const _0x3dd91c=_0x23a324;_0x55eb9f&&_0x214ad7&&('dm'===_0x5e49ae[_0x3dd91c(0x21f)]?_0x4039d2():_0x4ecf69(),_0x655c18());},[_0x55eb9f,_0x5e49ae,_0x214ad7]);let _0x655c18=async()=>{const _0x17967f=_0x23a324;try{let _0x59c3f5=await _0x1d7928['supabase'][_0x17967f(0x1b1)]['getSession'](),_0x3e0466=_0x59c3f5['data'][_0x17967f(0x33e)]?.['access_token'],_0x2e3f18=await fetch('http://localhost:8100/functions/v1/get-message-count',{'method':'POST','headers':{'Content-Type':_0x17967f(0x280),'Authorization':'Bearer\x20'+_0x3e0466}}),_0x8dd70c=await _0x2e3f18['json']();_0x8dd70c[_0x17967f(0x20d)]&&_0x2261a3(_0x8dd70c[_0x17967f(0x250)]);}catch(_0x34ee14){console['error'](_0x17967f(0x341),_0x34ee14);}},_0x4039d2=async()=>{const _0x16cf95=_0x23a324;_0x227a8e(!0x0);try{let _0x182a6c=await _0x1d7928[_0x16cf95(0x348)]['auth']['getSession'](),_0x328fd2=_0x182a6c[_0x16cf95(0x357)][_0x16cf95(0x33e)]?.['access_token'],_0x27177d=await fetch('http://localhost:8100/functions/v1/get-dms',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':_0x16cf95(0x1f8)+_0x328fd2},'body':JSON[_0x16cf95(0x1ce)]({'userId':_0x5e49ae['id']})}),_0x4cda1d=await _0x27177d['json']();if(_0x4cda1d['success']){_0x362eea(_0x4cda1d['otherUser']['publicKey']);let _0x15edfa=await _0x376df3(_0x4cda1d['messages'],_0x4cda1d[_0x16cf95(0x1e1)]['publicKey']);_0x12772a(_0x15edfa);}}catch(_0x4fe78d){console['error']('Failed\x20to\x20fetch\x20DM\x20messages:',_0x4fe78d);}finally{_0x227a8e(!0x1);}},_0x4ecf69=async()=>{const _0x326d09=_0x23a324;_0x227a8e(!0x0);try{let _0x2004bb=await _0x1d7928['supabase'][_0x326d09(0x1b1)]['getSession'](),_0x2af42f=_0x2004bb['data']['session']?.['access_token'],_0x2b9cfc=await fetch(_0x326d09(0x21d),{'method':_0x326d09(0x2be),'headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x2af42f},'body':JSON[_0x326d09(0x1ce)]({'roomId':_0x5e49ae['id']})}),_0x316b9d=await _0x2b9cfc['json']();if(_0x316b9d[_0x326d09(0x20d)]){let _0x4bfa80=_0x316b9d['messages']['map'](_0xc2772a=>({..._0xc2772a,'content':_0xc2772a[_0x326d09(0x1a9)]?'joined\x20the\x20room':_0x326d09(0x2f3)}));_0x12772a(_0x4bfa80);}}catch(_0x438b28){console[_0x326d09(0x1d2)]('Failed\x20to\x20fetch\x20room\x20messages:',_0x438b28);}finally{_0x227a8e(!0x1);}},_0x376df3=async(_0xb423ae,_0x5e1d86)=>{const _0x1f3666=_0x23a324;if(!_0x1c24f2||!_0x5e1d86)return _0xb423ae['map'](_0x5b9f51=>({..._0x5b9f51,'content':_0x1f3666(0x303)}));try{let _0x33fa7e=await(0x0,_0x205692['importPublicKey'])(_0x5e1d86),_0x3a4c3a=await(0x0,_0x205692['deriveSharedSecret'])(_0x1c24f2,_0x33fa7e);return await Promise['all'](_0xb423ae['map'](async _0x26bab5=>{const _0x485b22=_0x1f3666;if(_0x26bab5['isSystem'])return{..._0x26bab5,'content':_0x485b22(0x267)};try{let _0x1fba86=await(0x0,_0x205692[_0x485b22(0x31c)])({'ciphertext':_0x26bab5['encryptedContent'],'nonce':_0x26bab5['nonce']},_0x3a4c3a);return{..._0x26bab5,'content':_0x1fba86};}catch{return{..._0x26bab5,'content':'[Failed\x20to\x20decrypt]'};}}));}catch{return _0xb423ae[_0x1f3666(0x235)](_0xd173bb=>({..._0xd173bb,'content':'[Decryption\x20error]'}));}},_0x19d4e1=async _0x388dab=>{const _0x38756d=_0x23a324;if(_0x55eb9f&&_0x1c24f2){_0x413ee(!0x0);try{let _0x3e22d8=await _0x1d7928[_0x38756d(0x348)]['auth']['getSession'](),_0x8b0be=_0x3e22d8['data']['session']?.['access_token'];if('dm'===_0x5e49ae[_0x38756d(0x21f)]){if(!_0x8cdc41)return void console['error'](_0x38756d(0x1c3));let {encryptSymmetric:_0x262033,deriveSharedSecret:_0xcc50d7,importPublicKey:_0x28981f}=await _0x14789b['A'](0x183d9),_0x54b876=await _0x28981f(_0x8cdc41),_0xf87c31=await _0xcc50d7(_0x1c24f2,_0x54b876),{ciphertext:_0x23cc83,nonce:_0x595c4}=await _0x262033(_0x388dab,_0xf87c31),{ciphertext:_0x45ab48}=await _0x262033(_0x388dab,_0xf87c31),_0x2f6748=await fetch('http://localhost:8100/functions/v1/send-dm',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x8b0be},'body':JSON[_0x38756d(0x1ce)]({'recipientId':_0x5e49ae['id'],'encryptedContentSender':_0x23cc83,'encryptedContentRecipient':_0x45ab48,'nonce':_0x595c4,'replyTo':_0x344eb1?.['id']})}),_0x3afc73=await _0x2f6748['json']();if(_0x3afc73['success']){let _0x3d9762={'id':_0x3afc73['message']['id'],'senderId':_0x55eb9f['id'],'senderName':_0x55eb9f[_0x38756d(0x215)]||'You','content':_0x388dab,'isMine':!0x0,'createdAt':_0x3afc73[_0x38756d(0x247)]['createdAt'],'replyTo':_0x344eb1?.['id'],'replyToContent':_0x344eb1?.['content']};_0x12772a(_0x44bdb6=>[..._0x44bdb6,_0x3d9762]),_0x3e432c(null),null!==_0x11f722&&_0x2261a3(Math[_0x38756d(0x218)](0x0,_0x11f722-0x1));}else console[_0x38756d(0x1d2)]('Failed\x20to\x20send:',_0x3afc73['error']);}else{let _0x1e249d=await fetch(_0x38756d(0x336),{'method':_0x38756d(0x2be),'headers':{'Content-Type':_0x38756d(0x280),'Authorization':'Bearer\x20'+_0x8b0be},'body':JSON[_0x38756d(0x1ce)]({'roomId':_0x5e49ae['id'],'encryptedContent':_0x388dab,'nonce':_0x38756d(0x2b0),'replyTo':_0x344eb1?.['id']})}),_0x39e9c8=await _0x1e249d[_0x38756d(0x261)]();if(_0x39e9c8['success']){let _0x2d5815={'id':_0x39e9c8[_0x38756d(0x247)]['id'],'senderId':_0x55eb9f['id'],'senderName':_0x55eb9f['display_name']||_0x38756d(0x2eb),'content':_0x388dab,'isMine':!0x0,'createdAt':_0x39e9c8[_0x38756d(0x247)][_0x38756d(0x30d)]};_0x12772a(_0x1b1692=>[..._0x1b1692,_0x2d5815]),_0x3e432c(null),null!==_0x11f722&&_0x2261a3(Math[_0x38756d(0x218)](0x0,_0x11f722-0x1));}}}catch(_0x48bc88){console[_0x38756d(0x1d2)]('Send\x20error:',_0x48bc88);}finally{_0x413ee(!0x1);}}};return(0x0,_0x2d7443['jsxs'])('div',{'className':'flex\x20flex-col\x20h-full\x20bg-neutral-950','children':[(0x0,_0x2d7443['jsxs'])('div',{'className':_0x23a324(0x32a),'children':[(0x0,_0x2d7443['jsxs'])(_0x23a324(0x2f6),{'className':_0x23a324(0x2a0),'children':[(0x0,_0x2d7443['jsx'])('button',{'onClick':_0x1f7dbe,'className':'md:hidden\x20p-2\x20-ml-2\x20text-neutral-400\x20hover:text-white','children':(0x0,_0x2d7443['jsx'])(_0x58024f['ArrowLeft'],{'size':0x18})}),(0x0,_0x2d7443[_0x23a324(0x2da)])('div',{'className':_0x23a324(0x2af),'children':_0x5e49ae[_0x23a324(0x298)]?(0x0,_0x2d7443[_0x23a324(0x2da)])('img',{'src':_0x5e49ae[_0x23a324(0x298)],'alt':'','className':_0x23a324(0x20a)}):_0x23a324(0x249)===_0x5e49ae[_0x23a324(0x21f)]?(0x0,_0x2d7443[_0x23a324(0x2da)])(_0x5089cb[_0x23a324(0x291)],{'size':0x14,'className':'text-white'}):_0x5e49ae[_0x23a324(0x1c1)][_0x23a324(0x241)](0x0)[_0x23a324(0x210)]()}),(0x0,_0x2d7443[_0x23a324(0x2fb)])(_0x23a324(0x2f6),{'children':[(0x0,_0x2d7443[_0x23a324(0x2da)])('h2',{'className':'font-medium','children':_0x5e49ae['name']}),(0x0,_0x2d7443[_0x23a324(0x2da)])('p',{'className':'text-xs\x20text-neutral-400','children':'room'===_0x5e49ae[_0x23a324(0x21f)]?(0x0,_0x2d7443['jsx'])(_0x23a324(0x2ba),{'className':'flex\x20items-center\x20gap-1','children':_0x5e49ae['isPublic']?'Public\x20room':_0x23a324(0x332)}):'tap\x20here\x20for\x20contact\x20info'})]})]}),(0x0,_0x2d7443['jsxs'])('div',{'className':_0x23a324(0x308),'children':[(0x0,_0x2d7443[_0x23a324(0x2da)])(_0x4069f4,{}),(0x0,_0x2d7443['jsx'])(_0x23a324(0x248),{'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','children':(0x0,_0x2d7443[_0x23a324(0x2da)])(_0x280b21['Video'],{'size':0x16})}),(0x0,_0x2d7443['jsx'])(_0x23a324(0x248),{'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','children':(0x0,_0x2d7443[_0x23a324(0x2da)])(_0x2d1ccd,{'size':0x16})}),(0x0,_0x2d7443['jsx'])(_0x23a324(0x248),{'className':_0x23a324(0x25d),'children':(0x0,_0x2d7443[_0x23a324(0x2da)])(_0x3921ae['MoreVertical'],{'size':0x16})})]})]}),(0x0,_0x2d7443[_0x23a324(0x2da)])(_0x23a324(0x2f6),{'ref':_0x30deb6,'className':_0x23a324(0x2c5),'style':{'backgroundImage':'linear-gradient(rgba(23,\x2023,\x2023,\x200.95),\x20rgba(23,\x2023,\x2023,\x200.95))'},'children':_0x214ad7?_0x4d8094?(0x0,_0x2d7443['jsx'])(_0x23a324(0x2f6),{'className':_0x23a324(0x34b),'children':(0x0,_0x2d7443['jsx'])(_0x23a324(0x2f6),{'className':'animate-spin\x20rounded-full\x20h-8\x20w-8\x20border-b-2\x20border-green-500'})}):0x0===_0x28bb73['length']?(0x0,_0x2d7443[_0x23a324(0x2fb)])(_0x23a324(0x2f6),{'className':'flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x20text-neutral-400','children':[(0x0,_0x2d7443[_0x23a324(0x2da)])(_0x3b562e['Shield'],{'size':0x30,'className':_0x23a324(0x2a7)}),(0x0,_0x2d7443['jsx'])('p',{'className':'text-center\x20font-medium','children':_0x23a324(0x294)}),(0x0,_0x2d7443['jsxs'])('p',{'className':'text-sm\x20text-center\x20mt-2','children':['Messages\x20are\x20secured\x20with\x20end-to-end\x20encryption.',(0x0,_0x2d7443['jsx'])('br',{}),_0x23a324(0x251),_0x5e49ae['name'],_0x23a324(0x184)]})]}):(0x0,_0x2d7443['jsxs'])(_0x2d7443[_0x23a324(0x31a)],{'children':[(0x0,_0x2d7443['jsx'])('div',{'className':_0x23a324(0x289),'children':(0x0,_0x2d7443['jsxs'])('div',{'className':_0x23a324(0x202),'children':[(0x0,_0x2d7443['jsx'])(_0x4695e4[_0x23a324(0x333)],{'size':0xc}),'Messages\x20are\x20end-to-end\x20encrypted']})}),_0x28bb73['map']((_0x506898,_0x864454)=>{let _0x1ea76f='room'===_0x5e49ae['type']&&!_0x506898['isMine']&&(0x0===_0x864454||_0x28bb73[_0x864454-0x1]['senderId']!==_0x506898['senderId']);return(0x0,_0x2d7443['jsx'])(_0x5d2696,{'message':_0x506898,'showSender':_0x1ea76f,'onReply':_0x3e432c},_0x506898['id']);}),(0x0,_0x2d7443['jsx'])('div',{'ref':_0x2422da})]}):(0x0,_0x2d7443['jsxs'])(_0x23a324(0x2f6),{'className':'flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x20text-neutral-400','children':[(0x0,_0x2d7443['jsx'])(_0x4695e4['Lock'],{'size':0x30,'className':'mb-4'}),(0x0,_0x2d7443[_0x23a324(0x2da)])('p',{'className':'text-center','children':'Enter\x20your\x20passphrase\x20to\x20decrypt\x20messages'})]})}),_0x214ad7&&(0x0,_0x2d7443[_0x23a324(0x2da)])(_0x37f5d1,{'onSend':_0x19d4e1,'replyTo':_0x344eb1,'onCancelReply':()=>_0x3e432c(null),'disabled':_0x671a53,'remainingMessages':_0x11f722})]});}var _0x128a06=_0x14789b['i'](0xd88c);let _0x1326e4=(0x0,_0x2dc075[_0x307a2f(0x273)])(_0x307a2f(0x2a8),[['path',{'d':_0x307a2f(0x2ce),'key':'1ays0h'}],[_0x307a2f(0x270),{'d':'M12\x205v14','key':'s699le'}]]);var _0x464756=_0x14789b['i'](0x11b48);function _0x459eb4({open:_0x7ec7f6,onOpenChange:_0xa6fe4a,view:_0xf5abce,onChatCreated:_0x1cc7ec}){const _0x1ee358=_0x307a2f;let {user:_0x518b28}=(0x0,_0x5175b6['useAuth'])(),[_0x3521fd,_0x4c7074]=(0x0,_0x42ae3a[_0x1ee358(0x222)])('search'),[_0x24874d,_0x3e898a]=(0x0,_0x42ae3a[_0x1ee358(0x222)])(''),[_0x3950e4,_0x3428b4]=(0x0,_0x42ae3a[_0x1ee358(0x222)])([]),[_0x127b42,_0x4d99e8]=(0x0,_0x42ae3a['useState'])([]),[_0x3ee30e,_0x29cf83]=(0x0,_0x42ae3a['useState'])(!0x1),[_0x51ea68,_0x3a5c8d]=(0x0,_0x42ae3a[_0x1ee358(0x222)])(!0x1),[_0x3c6b24,_0x251c3a]=(0x0,_0x42ae3a[_0x1ee358(0x222)])(''),[_0x104474,_0xdcb5d2]=(0x0,_0x42ae3a['useState'])(''),[_0x33e0a7,_0x24b4dc]=(0x0,_0x42ae3a['useState'])(!0x0),[_0x382173,_0x501094]=(0x0,_0x42ae3a['useState'])(''),[_0x1933a8,_0x40bf55]=(0x0,_0x42ae3a['useState'])(0x64),[_0x188717,_0x27aca9]=(0x0,_0x42ae3a['useState'])(''),[_0x4aa543,_0x310de7]=(0x0,_0x42ae3a['useState'])('');(0x0,_0x42ae3a['useEffect'])(()=>{const _0x53288c=_0x1ee358;_0x7ec7f6||(_0x3e898a(''),_0x3428b4([]),_0x4d99e8([]),_0x4c7074(_0x53288c(0x2b2)),_0x2fe9c3());},[_0x7ec7f6]),(0x0,_0x42ae3a[_0x1ee358(0x28a)])(()=>{const _0x49afc2=_0x1ee358;_0x24874d['length']>=0x2?_0x49afc2(0x231)===_0xf5abce?_0x15cb47():_0x916770():(_0x3428b4([]),_0x4d99e8([]));},[_0x24874d,_0xf5abce]);let _0x2fe9c3=()=>{_0x251c3a(''),_0xdcb5d2(''),_0x24b4dc(!0x0),_0x501094(''),_0x40bf55(0x64),_0x27aca9(''),_0x310de7('');},_0x15cb47=async()=>{const _0x57cc00=_0x1ee358;_0x29cf83(!0x0);try{let {data:_0x150f08,error:_0x31b32b}=await _0x1d7928[_0x57cc00(0x348)]['from'](_0x57cc00(0x237))[_0x57cc00(0x22a)]('id,\x20display_name,\x20avatar_url,\x20last_seen')['ilike'](_0x57cc00(0x215),'%'+_0x24874d+'%')[_0x57cc00(0x1a0)]('id',_0x518b28?.['id'])['limit'](0x14);!_0x31b32b&&_0x150f08&&_0x3428b4(_0x150f08['map'](_0x395c64=>({'id':_0x395c64['id'],'displayName':_0x395c64['display_name'],'avatarUrl':_0x395c64['avatar_url'],'lastSeen':_0x395c64['last_seen']})));}catch(_0x27c751){console[_0x57cc00(0x1d2)](_0x57cc00(0x208),_0x27c751);}finally{_0x29cf83(!0x1);}},_0x916770=async()=>{const _0x90ae9c=_0x1ee358;_0x29cf83(!0x0);try{let _0x46e0b9=await _0x1d7928[_0x90ae9c(0x348)]['auth']['getSession'](),_0x12f78d=_0x46e0b9[_0x90ae9c(0x357)][_0x90ae9c(0x33e)]?.['access_token'],_0x2884fb=await fetch('http://localhost:8100/functions/v1/list-rooms',{'method':_0x90ae9c(0x2be),'headers':{'Content-Type':'application/json','Authorization':_0x90ae9c(0x1f8)+_0x12f78d},'body':JSON['stringify']({'type':'public','search':_0x24874d})}),_0xcbedd7=await _0x2884fb[_0x90ae9c(0x261)]();_0xcbedd7['success']&&_0x4d99e8(_0xcbedd7[_0x90ae9c(0x1bf)]||[]);}catch(_0x451de4){console['error'](_0x90ae9c(0x309),_0x451de4);}finally{_0x29cf83(!0x1);}},_0x54502a=async _0x4d627d=>{const _0x8e4fa6=_0x1ee358;try{let _0x250e1d=await _0x1d7928[_0x8e4fa6(0x348)][_0x8e4fa6(0x1b1)]['getSession'](),_0x121785=_0x250e1d['data'][_0x8e4fa6(0x33e)]?.[_0x8e4fa6(0x2a4)],_0x4267b0=await fetch(_0x8e4fa6(0x34f),{'method':'POST','headers':{'Content-Type':_0x8e4fa6(0x280),'Authorization':'Bearer\x20'+_0x121785},'body':JSON['stringify']({'roomId':_0x4d627d['id']})}),_0x70c73d=await _0x4267b0[_0x8e4fa6(0x261)]();_0x70c73d[_0x8e4fa6(0x20d)]?(_0x1cc7ec({'type':_0x8e4fa6(0x249),'id':_0x4d627d['id'],'name':_0x4d627d['name'],'isPublic':_0x4d627d['isPublic']}),_0xa6fe4a(!0x1)):alert(_0x70c73d['error']||_0x8e4fa6(0x1c9));}catch(_0x2efa6f){console[_0x8e4fa6(0x1d2)](_0x8e4fa6(0x1b0),_0x2efa6f);}},_0x3439e5=async()=>{const _0xb9c1fa=_0x1ee358;if(_0x3c6b24['trim']()){_0x3a5c8d(!0x0);try{let _0x3b6daf=await _0x1d7928['supabase']['auth'][_0xb9c1fa(0x325)](),_0x54d1f8=_0x3b6daf['data'][_0xb9c1fa(0x33e)]?.['access_token'],_0x42d198=await fetch('http://localhost:8100/functions/v1/create-room',{'method':_0xb9c1fa(0x2be),'headers':{'Content-Type':_0xb9c1fa(0x280),'Authorization':_0xb9c1fa(0x1f8)+_0x54d1f8},'body':JSON[_0xb9c1fa(0x1ce)]({'name':_0x3c6b24[_0xb9c1fa(0x350)](),'description':_0x104474['trim']()||null,'isPublic':_0x33e0a7,'password':_0x33e0a7?null:_0x382173,'maxMembers':_0x1933a8})}),_0x3f813d=await _0x42d198[_0xb9c1fa(0x261)]();_0x3f813d[_0xb9c1fa(0x20d)]?(_0x1cc7ec({'type':_0xb9c1fa(0x249),'id':_0x3f813d[_0xb9c1fa(0x249)]['id'],'name':_0x3f813d['room']['name'],'isPublic':_0x3f813d[_0xb9c1fa(0x249)][_0xb9c1fa(0x232)]}),_0xa6fe4a(!0x1)):alert(_0x3f813d['error']||'Failed\x20to\x20create\x20room');}catch(_0x5ed770){console[_0xb9c1fa(0x1d2)]('Create\x20room\x20error:',_0x5ed770);}finally{_0x3a5c8d(!0x1);}}},_0x3500c5=async()=>{const _0x3cd0c0=_0x1ee358;if(_0x188717[_0x3cd0c0(0x350)]()){_0x3a5c8d(!0x0);try{let _0x27f9ae=await _0x1d7928[_0x3cd0c0(0x348)]['auth']['getSession'](),_0x2768b7=_0x27f9ae[_0x3cd0c0(0x357)]['session']?.['access_token'],_0x1c929a=await fetch('http://localhost:8100/functions/v1/join-room',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x2768b7},'body':JSON[_0x3cd0c0(0x1ce)]({'roomId':_0x188717['trim'](),'password':_0x4aa543})}),_0x3dd9b6=await _0x1c929a['json']();_0x3dd9b6['success']?(_0x1cc7ec({'type':'room','id':_0x3dd9b6['room']['id'],'name':_0x3dd9b6['room'][_0x3cd0c0(0x1c1)],'isPublic':!0x1}),_0xa6fe4a(!0x1)):alert(_0x3dd9b6[_0x3cd0c0(0x1d2)]||'Failed\x20to\x20join\x20room');}catch(_0x674b86){console[_0x3cd0c0(0x1d2)]('Join\x20private\x20room\x20error:',_0x674b86);}finally{_0x3a5c8d(!0x1);}}};return _0x7ec7f6?(0x0,_0x2d7443[_0x1ee358(0x2da)])('div',{'className':'fixed\x20inset-0\x20z-50\x20flex\x20items-center\x20justify-center\x20bg-black/50','children':(0x0,_0x2d7443[_0x1ee358(0x2fb)])(_0x1ee358(0x2f6),{'className':_0x1ee358(0x328),'children':[(0x0,_0x2d7443['jsxs'])('div',{'className':'h-14\x20px-4\x20flex\x20items-center\x20justify-between\x20bg-neutral-950\x20border-b\x20border-neutral-800','children':[(0x0,_0x2d7443['jsx'])('h2',{'className':_0x1ee358(0x20c),'children':'dms'===_0xf5abce?_0x1ee358(0x28d):_0x1ee358(0x203)}),(0x0,_0x2d7443['jsx'])(_0x1ee358(0x248),{'onClick':()=>_0xa6fe4a(!0x1),'className':_0x1ee358(0x25d),'children':(0x0,_0x2d7443[_0x1ee358(0x2da)])(_0x1d4014['X'],{'size':0x14})})]}),_0x1ee358(0x1bf)===_0xf5abce&&(0x0,_0x2d7443['jsxs'])('div',{'className':_0x1ee358(0x1ea),'children':[(0x0,_0x2d7443['jsx'])('button',{'onClick':()=>_0x4c7074('search'),'className':_0x1ee358(0x310)+('search'===_0x3521fd?_0x1ee358(0x1cf):'text-neutral-400'),'children':_0x1ee358(0x1bb)}),(0x0,_0x2d7443['jsx'])(_0x1ee358(0x248),{'onClick':()=>_0x4c7074(_0x1ee358(0x23d)),'className':'flex-1\x20py-3\x20text-sm\x20font-medium\x20'+('create'===_0x3521fd?'text-green-500\x20border-b-2\x20border-green-500':'text-neutral-400'),'children':'Create\x20/\x20Join'})]}),'search'===_0x3521fd&&(0x0,_0x2d7443[_0x1ee358(0x2fb)])('div',{'className':'p-4','children':[(0x0,_0x2d7443[_0x1ee358(0x2fb)])('div',{'className':'relative\x20mb-4','children':[(0x0,_0x2d7443['jsx'])(_0x128a06['Search'],{'size':0x12,'className':'absolute\x20left-3\x20top-1/2\x20-translate-y-1/2\x20text-neutral-500'}),(0x0,_0x2d7443[_0x1ee358(0x2da)])('input',{'type':_0x1ee358(0x258),'value':_0x24874d,'onChange':_0x459ce1=>_0x3e898a(_0x459ce1['target'][_0x1ee358(0x2b4)]),'placeholder':'dms'===_0xf5abce?'Search\x20users...':_0x1ee358(0x359),'className':'w-full\x20pl-10\x20pr-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'})]}),(0x0,_0x2d7443[_0x1ee358(0x2da)])('div',{'className':_0x1ee358(0x2c3),'children':_0x3ee30e?(0x0,_0x2d7443['jsx'])(_0x1ee358(0x2f6),{'className':'flex\x20justify-center\x20py-8','children':(0x0,_0x2d7443[_0x1ee358(0x2da)])('div',{'className':_0x1ee358(0x1f6)})}):_0x1ee358(0x231)===_0xf5abce?0x0===_0x3950e4['length']?(0x0,_0x2d7443['jsx'])('p',{'className':_0x1ee358(0x339),'children':_0x24874d[_0x1ee358(0x240)]>=0x2?'No\x20users\x20found':_0x1ee358(0x201)}):_0x3950e4['map'](_0x57fa5e=>(0x0,_0x2d7443['jsxs'])('button',{'onClick':()=>{const _0x136218=_0x1ee358;_0x1cc7ec({'type':'dm','id':_0x57fa5e['id'],'name':_0x57fa5e[_0x136218(0x197)],'avatar':_0x57fa5e[_0x136218(0x345)]||void 0x0}),_0xa6fe4a(!0x1);},'className':_0x1ee358(0x233),'children':[(0x0,_0x2d7443['jsx'])(_0x1ee358(0x2f6),{'className':_0x1ee358(0x2e2),'children':_0x57fa5e['avatarUrl']?(0x0,_0x2d7443['jsx'])(_0x1ee358(0x30e),{'src':_0x57fa5e[_0x1ee358(0x345)],'alt':'','className':'w-full\x20h-full\x20rounded-full\x20object-cover'}):_0x57fa5e[_0x1ee358(0x197)]['charAt'](0x0)['toUpperCase']()}),(0x0,_0x2d7443[_0x1ee358(0x2fb)])('div',{'className':'text-left','children':[(0x0,_0x2d7443[_0x1ee358(0x2da)])('p',{'className':'font-medium','children':_0x57fa5e['displayName']}),(0x0,_0x2d7443[_0x1ee358(0x2da)])('p',{'className':'text-xs\x20text-neutral-400','children':_0x57fa5e[_0x1ee358(0x23e)]?_0x1ee358(0x1e0)+new Date(_0x57fa5e[_0x1ee358(0x23e)])[_0x1ee358(0x1f0)]():'Offline'})]}),(0x0,_0x2d7443['jsx'])(_0x464756[_0x1ee358(0x1c2)],{'size':0x12,'className':_0x1ee358(0x206)})]},_0x57fa5e['id'])):0x0===_0x127b42[_0x1ee358(0x240)]?(0x0,_0x2d7443[_0x1ee358(0x2da)])('p',{'className':_0x1ee358(0x339),'children':_0x24874d[_0x1ee358(0x240)]>=0x2?_0x1ee358(0x33c):'Type\x20to\x20search\x20rooms'}):_0x127b42[_0x1ee358(0x235)](_0x2c99f7=>(0x0,_0x2d7443[_0x1ee358(0x2fb)])('button',{'onClick':()=>_0x54502a(_0x2c99f7),'className':_0x1ee358(0x233),'children':[(0x0,_0x2d7443['jsx'])(_0x1ee358(0x2f6),{'className':_0x1ee358(0x1ba),'children':(0x0,_0x2d7443['jsx'])(_0x4244e6[_0x1ee358(0x284)],{'size':0x14,'className':'text-white'})}),(0x0,_0x2d7443['jsxs'])('div',{'className':'text-left\x20flex-1\x20min-w-0','children':[(0x0,_0x2d7443[_0x1ee358(0x2da)])('p',{'className':_0x1ee358(0x29b),'children':_0x2c99f7['name']}),(0x0,_0x2d7443['jsxs'])('p',{'className':'text-xs\x20text-neutral-400\x20flex\x20items-center\x20gap-1','children':[(0x0,_0x2d7443[_0x1ee358(0x2da)])(_0x5089cb[_0x1ee358(0x291)],{'size':0xc}),_0x2c99f7['memberCount'],'/',_0x2c99f7['maxMembers'],'\x20members']})]}),(0x0,_0x2d7443['jsx'])(_0x464756[_0x1ee358(0x1c2)],{'size':0x12,'className':_0x1ee358(0x234)})]},_0x2c99f7['id']))})]}),_0x1ee358(0x23d)===_0x3521fd&&_0x1ee358(0x1bf)===_0xf5abce&&(0x0,_0x2d7443['jsxs'])(_0x1ee358(0x2f6),{'className':'p-4\x20space-y-6','children':[(0x0,_0x2d7443[_0x1ee358(0x2fb)])(_0x1ee358(0x2f6),{'className':'space-y-3','children':[(0x0,_0x2d7443[_0x1ee358(0x2da)])('h3',{'className':_0x1ee358(0x1e7),'children':'Create\x20New\x20Room'}),(0x0,_0x2d7443[_0x1ee358(0x2da)])(_0x1ee358(0x22e),{'type':_0x1ee358(0x258),'value':_0x3c6b24,'onChange':_0x2f16dc=>_0x251c3a(_0x2f16dc[_0x1ee358(0x2b9)][_0x1ee358(0x2b4)]),'placeholder':_0x1ee358(0x219),'className':_0x1ee358(0x278)}),(0x0,_0x2d7443[_0x1ee358(0x2da)])('textarea',{'value':_0x104474,'onChange':_0x59d70c=>_0xdcb5d2(_0x59d70c['target'][_0x1ee358(0x2b4)]),'placeholder':_0x1ee358(0x1d4),'rows':0x2,'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20resize-none\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x2d7443[_0x1ee358(0x2fb)])(_0x1ee358(0x2f6),{'className':_0x1ee358(0x18e),'children':[(0x0,_0x2d7443['jsxs'])(_0x1ee358(0x263),{'className':_0x1ee358(0x2e9),'children':[(0x0,_0x2d7443[_0x1ee358(0x2da)])('input',{'type':_0x1ee358(0x285),'checked':_0x33e0a7,'onChange':()=>_0x24b4dc(!0x0),'className':_0x1ee358(0x25b)}),(0x0,_0x2d7443[_0x1ee358(0x2da)])(_0x4244e6['Globe'],{'size':0x10}),(0x0,_0x2d7443['jsx'])('span',{'className':_0x1ee358(0x2c1),'children':'Public'})]}),(0x0,_0x2d7443[_0x1ee358(0x2fb)])(_0x1ee358(0x263),{'className':'flex\x20items-center\x20gap-2\x20cursor-pointer','children':[(0x0,_0x2d7443['jsx'])(_0x1ee358(0x22e),{'type':_0x1ee358(0x285),'checked':!_0x33e0a7,'onChange':()=>_0x24b4dc(!0x1),'className':_0x1ee358(0x25b)}),(0x0,_0x2d7443['jsx'])(_0x4695e4[_0x1ee358(0x333)],{'size':0x10}),(0x0,_0x2d7443['jsx'])('span',{'className':'text-sm','children':'Private'})]})]}),!_0x33e0a7&&(0x0,_0x2d7443[_0x1ee358(0x2da)])(_0x1ee358(0x22e),{'type':'password','value':_0x382173,'onChange':_0x2d1fe0=>_0x501094(_0x2d1fe0['target']['value']),'placeholder':_0x1ee358(0x2c6),'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x2d7443['jsxs'])(_0x1ee358(0x248),{'onClick':_0x3439e5,'disabled':!_0x3c6b24[_0x1ee358(0x350)]()||_0x51ea68,'className':_0x1ee358(0x265),'children':[(0x0,_0x2d7443['jsx'])(_0x1326e4,{'size':0x12}),'Create\x20Room']})]}),(0x0,_0x2d7443['jsxs'])('div',{'className':'flex\x20items-center\x20gap-3','children':[(0x0,_0x2d7443['jsx'])('div',{'className':_0x1ee358(0x2aa)}),(0x0,_0x2d7443[_0x1ee358(0x2da)])(_0x1ee358(0x2ba),{'className':'text-xs\x20text-neutral-500','children':'OR'}),(0x0,_0x2d7443[_0x1ee358(0x2da)])('div',{'className':_0x1ee358(0x2aa)})]}),(0x0,_0x2d7443[_0x1ee358(0x2fb)])(_0x1ee358(0x2f6),{'className':_0x1ee358(0x2d4),'children':[(0x0,_0x2d7443[_0x1ee358(0x2da)])('h3',{'className':'text-sm\x20font-medium\x20text-neutral-300','children':_0x1ee358(0x19c)}),(0x0,_0x2d7443['jsx'])('input',{'type':'text','value':_0x188717,'onChange':_0x25d363=>_0x27aca9(_0x25d363['target'][_0x1ee358(0x2b4)]),'placeholder':_0x1ee358(0x26b),'className':_0x1ee358(0x278)}),(0x0,_0x2d7443[_0x1ee358(0x2da)])('input',{'type':'password','value':_0x4aa543,'onChange':_0x1b961d=>_0x310de7(_0x1b961d[_0x1ee358(0x2b9)]['value']),'placeholder':_0x1ee358(0x2c6),'className':_0x1ee358(0x278)}),(0x0,_0x2d7443['jsxs'])(_0x1ee358(0x248),{'onClick':_0x3500c5,'disabled':!_0x188717[_0x1ee358(0x350)]()||_0x51ea68,'className':'w-full\x20py-2\x20bg-neutral-700\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-neutral-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center\x20gap-2','children':[(0x0,_0x2d7443[_0x1ee358(0x2da)])(_0x464756['ArrowRight'],{'size':0x12}),'Join\x20Room']})]})]})]})}):null;}let _0x557608=(0x0,_0x2dc075[_0x307a2f(0x273)])('settings',[['path',{'d':'M9.671\x204.136a2.34\x202.34\x200\x200\x201\x204.659\x200\x202.34\x202.34\x200\x200\x200\x203.319\x201.915\x202.34\x202.34\x200\x200\x201\x202.33\x204.033\x202.34\x202.34\x200\x200\x200\x200\x203.831\x202.34\x202.34\x200\x200\x201-2.33\x204.033\x202.34\x202.34\x200\x200\x200-3.319\x201.915\x202.34\x202.34\x200\x200\x201-4.659\x200\x202.34\x202.34\x200\x200\x200-3.32-1.915\x202.34\x202.34\x200\x200\x201-2.33-4.033\x202.34\x202.34\x200\x200\x200\x200-3.831A2.34\x202.34\x200\x200\x201\x206.35\x206.051a2.34\x202.34\x200\x200\x200\x203.319-1.915','key':'1i5ecw'}],[_0x307a2f(0x216),{'cx':'12','cy':'12','r':'3','key':'1v7zrd'}]]);var _0x1a6934=_0x14789b['i'](0x17307),_0xf23c60=_0x14789b['i'](0x1686e);function _0x72aaef(){const _0xbbe451=_0x307a2f;let {user:_0x538e41,signOut:_0xa088c9,isKeyUnlocked:_0x2085d7}=(0x0,_0x5175b6['useAuth'])(),[_0x1dc3f2,_0x2765b9]=(0x0,_0x42ae3a[_0xbbe451(0x222)])('dms'),[_0x1c87de,_0x405856]=(0x0,_0x42ae3a[_0xbbe451(0x222)])(null),[_0x46a201,_0x206454]=(0x0,_0x42ae3a['useState'])(!0x1),[_0x391083,_0x512ca4]=(0x0,_0x42ae3a['useState'])(!0x1),_0x2e8cec=_0x67a0ad=>{_0x405856(_0x67a0ad),_0x512ca4(!0x0);};return _0x538e41?(0x0,_0x2d7443[_0xbbe451(0x2fb)])(_0xbbe451(0x2f6),{'className':_0xbbe451(0x1ca),'children':[(0x0,_0x2d7443['jsxs'])(_0xbbe451(0x2f6),{'className':'hidden\x20md:flex\x20flex-col\x20w-16\x20bg-neutral-950\x20border-r\x20border-neutral-800','children':[(0x0,_0x2d7443['jsx'])(_0xbbe451(0x2f6),{'className':_0xbbe451(0x305),'children':(0x0,_0x2d7443['jsx'])('div',{'className':_0xbbe451(0x29e),'children':_0x538e41[_0xbbe451(0x215)]?.['charAt'](0x0)['toUpperCase']()||'U'})}),(0x0,_0x2d7443['jsxs'])(_0xbbe451(0x181),{'className':'flex-1\x20py-4','children':[(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0xbbe451(0x248),{'onClick':()=>_0x2765b9(_0xbbe451(0x231)),'className':'w-full\x20p-3\x20flex\x20justify-center\x20'+(_0xbbe451(0x231)===_0x1dc3f2?_0xbbe451(0x2a9):'text-neutral-400\x20hover:text-white\x20hover:bg-neutral-900'),'title':'Direct\x20Messages','children':(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0x1a6934['MessageCircle'],{'size':0x18})}),(0x0,_0x2d7443['jsx'])('button',{'onClick':()=>_0x2765b9('rooms'),'className':_0xbbe451(0x30c)+('rooms'===_0x1dc3f2?_0xbbe451(0x2a9):_0xbbe451(0x352)),'title':_0xbbe451(0x306),'children':(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0x5089cb[_0xbbe451(0x291)],{'size':0x18})})]}),(0x0,_0x2d7443['jsxs'])(_0xbbe451(0x2f6),{'className':_0xbbe451(0x2bb),'children':[(0x0,_0x2d7443['jsx'])(_0x4069f4,{}),(0x0,_0x2d7443['jsx'])(_0xbbe451(0x248),{'onClick':()=>{},'className':'w-full\x20p-3\x20flex\x20justify-center\x20text-neutral-400\x20hover:text-white\x20hover:bg-neutral-900','title':_0xbbe451(0x1f5),'children':(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0x557608,{'size':0x18})}),(0x0,_0x2d7443[_0xbbe451(0x2da)])('button',{'onClick':_0xa088c9,'className':_0xbbe451(0x227),'title':'Sign\x20Out','children':(0x0,_0x2d7443['jsx'])(_0xf23c60[_0xbbe451(0x229)],{'size':0x18})})]})]}),(0x0,_0x2d7443['jsxs'])(_0xbbe451(0x2f6),{'className':'w-full\x20md:w-96\x20flex-shrink-0\x20border-r\x20border-neutral-800\x20flex\x20flex-col\x20'+(_0x391083?_0xbbe451(0x190):'flex'),'children':[(0x0,_0x2d7443[_0xbbe451(0x2fb)])('div',{'className':_0xbbe451(0x1b3),'children':[(0x0,_0x2d7443['jsx'])('h1',{'className':_0xbbe451(0x2db),'children':'dms'===_0x1dc3f2?_0xbbe451(0x2b3):_0xbbe451(0x203)}),(0x0,_0x2d7443[_0xbbe451(0x2da)])('button',{'onClick':()=>_0x206454(!0x0),'className':'p-2\x20rounded-full\x20hover:bg-neutral-800\x20text-green-500','children':(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0x1326e4,{'size':0x18})})]}),(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0xbbe451(0x2f6),{'className':'p-3\x20bg-neutral-950','children':(0x0,_0x2d7443[_0xbbe451(0x2fb)])('div',{'className':_0xbbe451(0x21a),'children':[(0x0,_0x2d7443[_0xbbe451(0x2da)])('input',{'type':'text','placeholder':_0xbbe451(0x1f4),'className':'w-full\x20px-4\x20py-2\x20pl-10\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x2d7443[_0xbbe451(0x2da)])('svg',{'className':_0xbbe451(0x223),'fill':_0xbbe451(0x24b),'stroke':_0xbbe451(0x2ac),'viewBox':_0xbbe451(0x2ca),'children':(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0xbbe451(0x270),{'strokeLinecap':_0xbbe451(0x1a6),'strokeLinejoin':_0xbbe451(0x1a6),'strokeWidth':0x2,'d':_0xbbe451(0x296)})})]})}),(0x0,_0x2d7443['jsx'])(_0x1b2206,{'view':_0x1dc3f2,'activeChat':_0x1c87de,'onSelectChat':_0x2e8cec}),(0x0,_0x2d7443[_0xbbe451(0x2fb)])('div',{'className':_0xbbe451(0x19f),'children':[(0x0,_0x2d7443[_0xbbe451(0x2fb)])('button',{'onClick':()=>_0x2765b9('dms'),'className':_0xbbe451(0x180)+(_0xbbe451(0x231)===_0x1dc3f2?_0xbbe451(0x194):_0xbbe451(0x23c)),'children':[(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0x1a6934[_0xbbe451(0x1a4)],{'size':0x14}),(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0xbbe451(0x2ba),{'className':_0xbbe451(0x19b),'children':'Chats'})]}),(0x0,_0x2d7443['jsxs'])('button',{'onClick':()=>_0x2765b9('rooms'),'className':'flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs\x20'+('rooms'===_0x1dc3f2?'text-green-500':_0xbbe451(0x23c)),'children':[(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0x5089cb['Users'],{'size':0x14}),(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0xbbe451(0x2ba),{'className':'mt-1','children':'Rooms'})]}),(0x0,_0x2d7443[_0xbbe451(0x2da)])('div',{'className':_0xbbe451(0x214),'children':(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0x4069f4,{})}),(0x0,_0x2d7443[_0xbbe451(0x2fb)])(_0xbbe451(0x248),{'onClick':()=>{},'className':_0xbbe451(0x244),'children':[(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0x557608,{'size':0x14}),(0x0,_0x2d7443['jsx'])(_0xbbe451(0x2ba),{'className':_0xbbe451(0x19b),'children':_0xbbe451(0x1f5)})]})]})]}),(0x0,_0x2d7443[_0xbbe451(0x2da)])('div',{'className':_0xbbe451(0x20e)+(_0x391083?_0xbbe451(0x293):'hidden\x20md:flex'),'children':_0x1c87de?(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0x1c858a,{'chat':_0x1c87de,'onBack':()=>{_0x512ca4(!0x1),_0x405856(null);}}):(0x0,_0x2d7443['jsxs'])(_0xbbe451(0x2f6),{'className':_0xbbe451(0x21e),'children':[(0x0,_0x2d7443['jsx'])('div',{'className':_0xbbe451(0x1c7),'children':(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0x1a6934['MessageCircle'],{'size':0x30,'className':'text-neutral-600'})}),(0x0,_0x2d7443[_0xbbe451(0x2da)])('h2',{'className':_0xbbe451(0x1da),'children':_0xbbe451(0x2e0)}),(0x0,_0x2d7443[_0xbbe451(0x2da)])('p',{'className':'text-sm','children':_0xbbe451(0x29f)}),!_0x2085d7&&(0x0,_0x2d7443[_0xbbe451(0x2da)])('p',{'className':_0xbbe451(0x1bd),'children':'Enter\x20your\x20passphrase\x20to\x20decrypt\x20messages'})]})}),(0x0,_0x2d7443[_0xbbe451(0x2da)])(_0x459eb4,{'open':_0x46a201,'onOpenChange':_0x206454,'view':_0x1dc3f2,'onChatCreated':_0x2e8cec})]}):null;}var _0x10a9d9=_0x14789b['i'](0x8571),_0x4329e5=_0x14789b['i'](0x1342e);let _0x22266e=(0x0,_0x2dc075['default'])('skull',[['path',{'d':'m12.5\x2017-.5-1-.5\x201h1z','key':_0x307a2f(0x28e)}],['path',{'d':'M15\x2022a1\x201\x200\x200\x200\x201-1v-1a2\x202\x200\x200\x200\x201.56-3.25\x208\x208\x200\x201\x200-11.12\x200A2\x202\x200\x200\x200\x208\x2020v1a1\x201\x200\x200\x200\x201\x201z','key':_0x307a2f(0x1a1)}],[_0x307a2f(0x216),{'cx':'15','cy':'12','r':'1','key':_0x307a2f(0x31d)}],['circle',{'cx':'9','cy':'12','r':'1','key':'1vctgf'}]]);function _0x42ae45({attemptsRemaining:_0x50fb42}){const _0x390ce9=_0x307a2f;let _0x40085b=_0x50fb42<=0x1,_0x54d645=_0x50fb42<=0x2;return(0x0,_0x2d7443[_0x390ce9(0x2da)])('div',{'className':_0x390ce9(0x257)+(_0x40085b?'bg-red-500/20\x20border-red-500/50':_0x54d645?_0x390ce9(0x198):'bg-amber-500/10\x20border-amber-500/30'),'children':(0x0,_0x2d7443['jsxs'])(_0x390ce9(0x2f6),{'className':'flex\x20items-start\x20gap-3','children':[_0x40085b?(0x0,_0x2d7443[_0x390ce9(0x2da)])(_0x22266e,{'className':'text-red-500\x20flex-shrink-0','size':0x14}):(0x0,_0x2d7443['jsx'])(_0x4329e5[_0x390ce9(0x1f2)],{'className':'flex-shrink-0\x20'+(_0x54d645?_0x390ce9(0x317):'text-amber-500'),'size':0x14}),(0x0,_0x2d7443['jsxs'])('div',{'children':[(0x0,_0x2d7443[_0x390ce9(0x2da)])('h4',{'className':'font-semibold\x20'+(_0x40085b?_0x390ce9(0x24a):_0x390ce9(0x317)),'children':_0x40085b?'CRITICAL:\x20Last\x20Attempt!':'Warning:\x20'+_0x50fb42+'\x20'+(0x1===_0x50fb42?'Attempt':'Attempts')+_0x390ce9(0x353)}),(0x0,_0x2d7443[_0x390ce9(0x2da)])('p',{'className':'mt-1\x20text-sm\x20'+(_0x40085b?'text-red-300/80':_0x390ce9(0x19e)),'children':_0x40085b?_0x390ce9(0x186):_0x390ce9(0x183)+_0x50fb42+_0x390ce9(0x29d)+(0x1===_0x50fb42?_0x390ce9(0x2e1):'attempts')+_0x390ce9(0x1b7)}),_0x40085b&&(0x0,_0x2d7443['jsx'])('p',{'className':_0x390ce9(0x18b),'children':_0x390ce9(0x2dd)})]})]})});}function _0x29bc79({isOpen:_0x108cc4,onClose:_0x4fa384}){const _0x33b99b=_0x307a2f;let {unlockKey:_0x4f9e24}=(0x0,_0x5175b6[_0x33b99b(0x321)])(),[_0x207c40,_0x486484]=(0x0,_0x42ae3a['useState'])(''),[_0x3ae729,_0x4309d1]=(0x0,_0x42ae3a['useState'])(''),[_0x222350,_0x357f13]=(0x0,_0x42ae3a[_0x33b99b(0x222)])(!0x1),[_0x53aa35,_0x4274d7]=(0x0,_0x42ae3a[_0x33b99b(0x222)])(null),[_0x6b2740,_0x35fbca]=(0x0,_0x42ae3a[_0x33b99b(0x222)])(!0x1),_0x758c5b=async _0x21092e=>{const _0x52b649=_0x33b99b;if(_0x21092e['preventDefault'](),_0x207c40){_0x4309d1(''),_0x357f13(!0x0);try{let _0x59059e=await _0x4f9e24(_0x207c40);if(_0x59059e['wiped']){_0x35fbca(!0x0),_0x486484(''),_0x357f13(!0x1);return;}_0x59059e[_0x52b649(0x20d)]?(_0x486484(''),_0x4274d7(null),_0x4fa384()):(_0x4309d1(_0x59059e['error']||'Invalid\x20passphrase'),void 0x0!==_0x59059e['attemptsRemaining']&&_0x4274d7(_0x59059e['attemptsRemaining']));}catch{_0x4309d1('Invalid\x20passphrase.\x20Please\x20try\x20again.');}finally{_0x357f13(!0x1);}}};return _0x108cc4?_0x6b2740?(0x0,_0x2d7443['jsx'])('div',{'className':_0x33b99b(0x2ee),'children':(0x0,_0x2d7443['jsx'])('div',{'className':_0x33b99b(0x2f0),'children':(0x0,_0x2d7443['jsxs'])('div',{'className':'p-6\x20text-center','children':[(0x0,_0x2d7443['jsx'])('div',{'className':'w-16\x20h-16\x20mx-auto\x20mb-4\x20rounded-full\x20bg-red-500/20\x20flex\x20items-center\x20justify-center','children':(0x0,_0x2d7443[_0x33b99b(0x2da)])(_0x22266e,{'className':'text-red-500','size':0x20})}),(0x0,_0x2d7443[_0x33b99b(0x2da)])('h2',{'className':'text-xl\x20font-semibold\x20text-red-400','children':_0x33b99b(0x26f)}),(0x0,_0x2d7443['jsx'])('p',{'className':_0x33b99b(0x2d2),'children':'Maximum\x20passphrase\x20attempts\x20exceeded.\x20All\x20your\x20encrypted\x20messages\x20and\x20data\x20have\x20been\x20permanently\x20deleted\x20as\x20a\x20security\x20measure.'}),(0x0,_0x2d7443[_0x33b99b(0x2da)])('p',{'className':'mt-4\x20text-sm\x20text-neutral-500','children':_0x33b99b(0x275)}),(0x0,_0x2d7443[_0x33b99b(0x2da)])('button',{'onClick':()=>window['location'][_0x33b99b(0x27d)](),'className':'mt-6\x20w-full\x20py-3\x20bg-neutral-700\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-neutral-600','children':_0x33b99b(0x182)})]})})}):(0x0,_0x2d7443['jsx'])('div',{'className':_0x33b99b(0x2ee),'children':(0x0,_0x2d7443['jsxs'])(_0x33b99b(0x2f6),{'className':'w-full\x20max-w-md\x20max-h-[90vh]\x20mx-4\x20bg-neutral-900\x20rounded-2xl\x20shadow-2xl\x20overflow-y-auto','children':[(0x0,_0x2d7443[_0x33b99b(0x2fb)])('div',{'className':'p-6\x20pb-0','children':[(0x0,_0x2d7443['jsxs'])('div',{'className':_0x33b99b(0x318),'children':[(0x0,_0x2d7443['jsx'])(_0x33b99b(0x2f6),{'className':_0x33b99b(0x1ab),'children':(0x0,_0x2d7443['jsx'])(_0x4695e4[_0x33b99b(0x333)],{'className':_0x33b99b(0x194),'size':0x18})}),(0x0,_0x2d7443[_0x33b99b(0x2da)])(_0x33b99b(0x248),{'onClick':_0x4fa384,'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','children':(0x0,_0x2d7443['jsx'])(_0x1d4014['X'],{'size':0x14})})]}),(0x0,_0x2d7443[_0x33b99b(0x2da)])('h2',{'className':_0x33b99b(0x301),'children':_0x33b99b(0x313)}),(0x0,_0x2d7443[_0x33b99b(0x2da)])('p',{'className':'mt-2\x20text-sm\x20text-neutral-400','children':_0x33b99b(0x2cb)})]}),null!==_0x53aa35&&_0x53aa35<=0x3&&(0x0,_0x2d7443[_0x33b99b(0x2da)])('div',{'className':'px-6\x20pt-4','children':(0x0,_0x2d7443['jsx'])(_0x42ae45,{'attemptsRemaining':_0x53aa35})}),(0x0,_0x2d7443['jsxs'])('form',{'onSubmit':_0x758c5b,'className':'p-6\x20space-y-4','children':[(0x0,_0x2d7443['jsxs'])(_0x33b99b(0x2f6),{'children':[(0x0,_0x2d7443[_0x33b99b(0x2da)])('label',{'className':_0x33b99b(0x21c),'children':_0x33b99b(0x211)}),(0x0,_0x2d7443[_0x33b99b(0x2fb)])('div',{'className':_0x33b99b(0x21a),'children':[(0x0,_0x2d7443[_0x33b99b(0x2da)])(_0x10a9d9['Key'],{'size':0x12,'className':'absolute\x20left-3\x20top-1/2\x20-translate-y-1/2\x20text-neutral-500'}),(0x0,_0x2d7443[_0x33b99b(0x2da)])('input',{'type':_0x33b99b(0x22d),'value':_0x207c40,'onChange':_0x3a6ed2=>_0x486484(_0x3a6ed2['target'][_0x33b99b(0x2b4)]),'placeholder':_0x33b99b(0x1b8),'className':_0x33b99b(0x2c8),'autoFocus':!0x0})]}),_0x3ae729&&(0x0,_0x2d7443[_0x33b99b(0x2da)])('p',{'className':'mt-2\x20text-sm\x20text-red-400','children':_0x3ae729})]}),(0x0,_0x2d7443[_0x33b99b(0x2da)])(_0x33b99b(0x248),{'type':_0x33b99b(0x19d),'disabled':_0x222350||!_0x207c40,'className':_0x33b99b(0x224),'children':_0x222350?(0x0,_0x2d7443[_0x33b99b(0x2da)])('div',{'className':_0x33b99b(0x1a2)}):(0x0,_0x2d7443['jsxs'])(_0x2d7443[_0x33b99b(0x31a)],{'children':[(0x0,_0x2d7443['jsx'])(_0x4695e4[_0x33b99b(0x333)],{'size':0x12}),_0x33b99b(0x2dc)]})}),(0x0,_0x2d7443['jsxs'])('div',{'className':_0x33b99b(0x295),'children':[(0x0,_0x2d7443['jsx'])(_0x4329e5['AlertTriangle'],{'className':'text-amber-500\x20flex-shrink-0\x20mt-0.5','size':0x10}),(0x0,_0x2d7443[_0x33b99b(0x2fb)])('p',{'className':'text-xs\x20text-amber-200/80','children':[(0x0,_0x2d7443['jsx'])('strong',{'children':_0x33b99b(0x1ad)}),_0x33b99b(0x327)]})]})]})]})}):null;}function _0xc2eeb2(){const _0x394770=_0x307a2f;let _0x2ae375=(0x0,_0x258898[_0x394770(0x2d1)])(),{user:_0x51c860,isLoading:_0x3c4d93,isKeyUnlocked:_0x390f8e}=(0x0,_0x5175b6[_0x394770(0x321)])(),[_0xc23c04,_0x24113e]=(0x0,_0x42ae3a[_0x394770(0x222)])(!0x1),[_0x25708d,_0x1761bf]=(0x0,_0x42ae3a['useState'])(!0x1);return((0x0,_0x42ae3a['useEffect'])(()=>{_0x3c4d93||_0x51c860||_0x24113e(!0x0);},[_0x3c4d93,_0x51c860]),(0x0,_0x42ae3a[_0x394770(0x28a)])(()=>{_0x51c860&&!_0x390f8e&&_0x1761bf(!0x0);},[_0x51c860,_0x390f8e]),_0x3c4d93)?(0x0,_0x2d7443['jsx'])('div',{'className':_0x394770(0x1a7),'children':(0x0,_0x2d7443[_0x394770(0x2da)])('div',{'className':_0x394770(0x1dc)})}):_0x51c860?(0x0,_0x2d7443['jsxs'])(_0x2d7443['Fragment'],{'children':[(0x0,_0x2d7443['jsx'])(_0x72aaef,{}),(0x0,_0x2d7443[_0x394770(0x2da)])(_0x29bc79,{'isOpen':_0x25708d,'onClose':()=>_0x1761bf(!0x1)})]}):(0x0,_0x2d7443[_0x394770(0x2da)])(_0x5b815b['AuthModal'],{'open':_0xc23c04,'onOpenChange':_0x3dd212=>!_0x3dd212&&_0x2ae375['push']('/')});}_0x14789b['s']([_0x307a2f(0x273),()=>_0xc2eeb2],0xa106);}]));