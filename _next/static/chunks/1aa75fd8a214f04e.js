function _0x4b66(){const _0x5e09b3=['__scopeTooltip','Tap\x20to\x20view\x20messages','add','flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x20text-neutral-400','file_size','font-semibold\x20','text-blue-300','w-full\x20max-w-md\x20max-h-[90vh]\x20mx-4\x20bg-neutral-900\x20rounded-2xl\x20shadow-2xl\x20overflow-auto','onPointerDown','885HHQZXW','unreadCount','Type\x20to\x20search\x20rooms','2-digit','data','Attempts','Enter\x20your\x20encryption\x20passphrase\x20to\x20unlock\x20your\x20messages.','clientX','Rooms','useComposedRefs','auth','animate-spin\x20rounded-full\x20h-5\x20w-5\x20border-b-2\x20border-white','Enter\x20your\x20passphrase\x20to\x20decrypt\x20and\x20read\x20your\x20messages.\x20Your\x20messages\x20are\x20protected\x20with\x20end-to-end\x20encryption.','2630159JHORHH','auto','.jar','getBoundingClientRect','text-neutral-400\x20hover:text-white\x20hover:bg-neutral-900','lastSeen','trim','Enter\x20your\x20passphrase','Unlock','Some\x20attachments\x20failed\x20to\x20upload','bg-neutral-800\x20border\x20border-neutral-700\x20px-3\x20py-2\x20rounded-lg\x20text-sm\x20text-white\x20shadow-lg\x20z-50','useEffect','CRITICAL:\x20Last\x20Attempt!','AlertCircle','pointermove','\x20remaining\x20this\x20month.','TooltipPortal','max','text-xs\x20opacity-70\x20line-clamp-2','spreadsheet','mt-1\x20text-sm\x20','text-green-500\x20animate-spin','map','application/vnd.ms-powerpoint','mt-6\x20w-full\x20py-3\x20bg-neutral-700\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-neutral-600','document','text-sm\x20font-medium\x20text-neutral-300','text-sm\x20text-center\x20mt-2','text-green-500\x20bg-neutral-900','var(--radix-popper-anchor-height)','video/','w-full\x20py-3\x20bg-green-500\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-green-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center\x20gap-2','image/jpeg','Direct\x20Messages','zip','Search','createObjectURL','mb-4\x20text-green-500','center','application/x-rar-compressed','Search\x20public\x20rooms...','1oefj6','stateAttribute','attemptsRemaining','charAt','w-16\x20h-16\x20mx-auto\x20mb-4\x20rounded-full\x20bg-red-500/20\x20flex\x20items-center\x20justify-center','mime_type','w-full\x20py-2\x20bg-green-500\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-green-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center\x20gap-2','charCodeAt','top','[Encrypted\x20message]','Invalid\x20passphrase.\x20Please\x20try\x20again.','ArrowLeft','Failed\x20to\x20fetch\x20room\x20messages:','getSession','session','forEach','access_token','text-green-500','w-full\x20md:w-96\x20flex-shrink-0\x20border-r\x20border-neutral-800\x20flex\x20flex-col\x20','contentId','fromCharCode','Video','href','flex\x20items-start\x20gap-3','Click\x20to\x20lock\x20and\x20clear\x20decryption\x20keys\x20from\x20memory','TooltipContent','dms','max-h-80\x20overflow-y-auto','\x20members','fixed\x20inset-0\x20z-50\x20bg-black/70\x20backdrop-blur-sm\x20flex\x20items-center\x20justify-center\x20p-4','hover:bg-neutral-700','image/png','password','uploading','toLocaleDateString','Warning:\x20','bg-neutral-800','useControllableState','Lock','M12\x2019v3','w-full\x20h-full\x20rounded-full\x20object-cover','filename','block\x20text-sm\x20font-medium\x20text-neutral-300\x20mb-2','mb-2\x20space-y-2','Download','hidden\x20md:flex','w-12\x20h-12\x20flex\x20items-center\x20justify-center\x20bg-neutral-700\x20rounded','Create\x20or\x20join\x20a\x20room\x20to\x20start\x20chatting','pointerleave','passphrase','.js','92HAXGBH','display_name','Select\x20a\x20conversation\x20to\x20start\x20messaging','closed','text-sm','attachments','.scr','MessageCircle','append','strong','text-red-500\x20flex-shrink-0','word','flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs\x20','excel','image','gzip','font-semibold','w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20transition-colors\x20','var(--radix-popper-available-width)','text-red-400','Upload\x20failed','onClose','attempts','hidden','Bearer\x20','pop','text-neutral-400','isMine','role','replyToContent','Type\x20to\x20search\x20users','joined\x20the\x20conversation','onOpen','flex-1\x20py-2\x20bg-neutral-700\x20hover:bg-neutral-600\x20rounded-lg\x20font-medium\x20transition-colors','jsxs','floor','encryptionIv','current','No\x20rooms\x20found','toLowerCase','pow','name','senderName','AlertTriangle','text-red-400\x20hover:bg-red-500/10\x20hover:text-red-300','path','now','End-to-end\x20encrypted','m12.5\x2017-.5-1-.5\x201h1z','\x20Remaining','Invalid\x20passphrase','right','lock-open','createdAt','text-sm\x20text-neutral-400\x20truncate','contains','text-amber-200/80','DismissableLayer','useCallback','trigger','flex-1\x20min-w-0\x20text-left',',\x20all\x20your\x20encrypted\x20data\x20will\x20be\x20permanently\x20deleted.\x20There\x20is\x20no\x20recovery.','http://localhost:8100/functions/v1/join-room','This\x20is\x20your\x20FINAL\x20attempt.\x20If\x20you\x20enter\x20the\x20wrong\x20passphrase,\x20ALL\x20your\x20messages,\x20rooms,\x20contacts,\x20and\x20encryption\x20keys\x20will\x20be\x20PERMANENTLY\x20DESTROYED.','memberCount','text-green-200','Cancel','useRef','Start\x20a\x20new\x20chat\x20to\x20begin\x20messaging','startsWith','mt-2\x20text-sm\x20text-red-400','2059122ZCvJPz','abs','room','absolute\x20left-3\x20top-2.5\x20w-4\x20h-4\x20text-neutral-500','text-red-500','delete','flex\x20h-screen\x20bg-neutral-900\x20text-white\x20overflow-hidden','m22\x2010-7.5\x207.5L13\x2016','\x20disabled:opacity-50\x20transition-colors','Your\x20account\x20still\x20exists,\x20but\x20all\x20messages,\x20rooms,\x20contacts,\x20and\x20encryption\x20keys\x20have\x20been\x20destroyed.\x20This\x20action\x20cannot\x20be\x20undone.','text-sm\x20text-neutral-400\x20truncate\x20flex\x20items-center\x20gap-1','isPublic','arrayBuffer','onTriggerEnter','3016863fEhMAc','preventDefault','text-xs\x20text-neutral-400','addEventListener','Browse','avatar','default','animate-spin','Attach\x20files','p-2\x20rounded-lg\x20transition-colors\x20','application/x-zip-compressed','content','touch','p-1\x20text-neutral-400\x20hover:text-white','preview','pdf','disableHoverableContent','encrypt','Portal','placeholder','application/pdf','id,\x20display_name,\x20avatar_url,\x20last_seen','application/vnd.ms-excel','create','text-xs\x20text-amber-400','\x20message','flex\x20items-start\x20gap-2\x20p-3\x20bg-amber-500/10\x20border\x20border-amber-500/30\x20rounded-lg','attempt','No\x20users\x20found','http://localhost:8100/functions/v1/get-message-count','pointerup','justify-end','bg-green-800','absolute\x20left-3\x20top-1/2\x20-translate-y-1/2\x20text-neutral-500','fixed\x20inset-0\x20z-50\x20flex\x20items-center\x20justify-center\x20bg-black/60\x20backdrop-blur-sm','displayName','isInside','Chat\x20Locked','video/webm','attachmentType','mb-2\x20p-2\x20bg-blue-900/30\x20border\x20border-blue-700\x20rounded-lg','jsx','slice','text-amber-500\x20flex-shrink-0\x20mt-0.5','instant-open','FREE\x20plan:\x20Max\x205MB\x20per\x20file.','w-24\x20h-24\x20rounded-full\x20bg-neutral-800\x20flex\x20items-center\x20justify-center\x20mb-4','Loader2','last_seen','composeEventHandlers','w-full\x20py-2\x20bg-neutral-700\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-neutral-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center\x20gap-2','encryptedBlob','forwardRef','setTimeout','1w4ew1','Encryption\x20key\x20not\x20available','px-3\x20py-1\x20bg-amber-900/30\x20rounded-lg\x20text-xs\x20text-amber-400\x20flex\x20items-center\x20gap-1','Executable\x20files\x20are\x20not\x20allowed\x20for\x20security\x20reasons','http://localhost:8100/functions/v1/get-dms','Failed\x20to\x20join\x20room','Presence','/settings','text-red-300/80','Join\x20room\x20error:','File\x20is\x20empty','text-center\x20text-neutral-500\x20py-8','onload','object','left','text-xs\x20text-green-500','isPointerInTransitRef','Tooltip','all','wiped','download','paperclip','text-amber-500','Emoji','application/octet-stream','application/x-7z-compressed','createContextScope','json','filter','Globe','flex\x20items-center\x20gap-2\x20cursor-pointer','toFixed','.exe','1vc78b','from','rar','forceMount','min','bg-amber-500/20\x20border-amber-500/50','flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs\x20text-neutral-400','span','Enter\x20your\x20passphrase\x20to\x20decrypt\x20messages','p-6\x20pb-0','3me087','Create\x20Room','p-2\x20bg-green-500\x20text-white\x20rounded-full\x20hover:bg-green-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center','unknown','circle','text-green-500\x20focus:ring-green-500','text-white','text-xs','label','div','text-xs\x20font-medium\x20text-green-400\x20mb-1','flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs','Upload\x20error:','form','flex\x20items-center\x20gap-3','.\x20Please\x20upload\x20images,\x20videos,\x20documents,\x20or\x20archives.','px-3\x20py-1\x20bg-neutral-800/50\x20rounded-full\x20text-xs\x20text-neutral-400','error','originalFilename','text-xs\x20text-neutral-500','button','File\x20decryption\x20error:','Join\x20Private\x20Room','http://localhost:8100/functions/v1/send-message','flex\x20flex-col\x20h-full\x20bg-neutral-950','Upgrade\x20to\x20send\x20messages','input','phone','includes','.vbs','ArrowRight','height','textarea','video/x-msvideo','flex-1\x20overflow-y-auto\x20p-4\x20bg-[url(\x27/images/chat-bg.png\x27)]\x20bg-repeat','application/zip','bottom','application/json','Type\x20a\x20message...','mb-2\x20p-2\x20bg-amber-900/30\x20border\x20border-amber-700\x20rounded-lg','hidden\x20md:flex\x20flex-col\x20w-16\x20bg-neutral-950\x20border-r\x20border-neutral-800','clientY','style','Chat\x20Unlocked','TURBOPACK','animate-spin\x20rounded-full\x20h-6\x20w-6\x20border-b-2\x20border-green-500','Settings','removeEventListener','http://localhost:8100/functions/v1/list-rooms','appendChild','mb-2\x20p-2\x20bg-red-900/30\x20border\x20border-red-700\x20rounded-lg','img','presentation','sort','target','round','push','admin','font-medium','p-3\x20bg-neutral-950','text/html','ml-2\x20px-2\x20py-0.5\x20text-xs\x20bg-green-500\x20text-white\x20rounded-full','No\x20conversations\x20yet','getRandomValues','w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500','log','Public\x20room','305394YtMpRa','Failed\x20to\x20send:','Anchor','p-4\x20space-y-6','avatarUrl','flex\x20items-center\x20justify-between','After\x20','currentColor','Yesterday','md:hidden\x20p-2\x20-ml-2\x20text-neutral-400\x20hover:text-white','Invalid\x20filename','length','w-full\x20p-3\x20flex\x20justify-center\x20','ilike','1ays0h','headers','Last\x20seen\x20','px-6\x20pt-4','.bat','Maximum\x20passphrase\x20attempts\x20exceeded.\x20All\x20your\x20encrypted\x20messages\x20and\x20data\x20have\x20been\x20permanently\x20deleted\x20as\x20a\x20security\x20measure.','w-12\x20h-12\x20rounded-full\x20bg-green-500/20\x20flex\x20items-center\x20justify-center','flex-1\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-neutral-500\x20p-4','onPointerMove','flex\x20items-center\x20justify-between\x20mt-0.5','bg-green-700/50','Lock\x20chat','text-center','text-xs\x20text-blue-400','flex\x20items-center\x20gap-2\x20p-2\x20rounded-lg\x20','type','value','Failed\x20to\x20fetch\x20DM\x20messages:','Users','onTriggerLeave','mt-2\x20space-y-2','p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','flex\x20items-center\x20gap-2\x20p-2\x20bg-neutral-800\x20rounded-lg','supabase','direct_message','useAuth','messages','POST','linear-gradient(rgba(23,\x2023,\x2023,\x200.95),\x20rgba(23,\x2023,\x2023,\x200.95))','Public','rooms','260RQQyLs','text-center\x20font-medium','Voice\x20message','decrypt','text-xs\x20text-red-400','Search\x20users\x20error:','tooltip','md:hidden\x20flex\x20border-t\x20border-neutral-800\x20bg-neutral-950','open','text-[10px]\x20opacity-70','0\x200\x2024\x2024','bg-neutral-800\x20border\x20border-neutral-700\x20rounded-xl\x20p-6\x20w-full\x20max-w-md','toUpperCase','Passphrase','success','stringify','relative','blob','h-14\x20px-4\x20flex\x20items-center\x20justify-between\x20bg-neutral-950\x20border-b\x20border-neutral-800','check-check','Room\x20name','flex','mb-2\x20p-2\x20bg-neutral-800\x20rounded-lg\x20flex\x20items-start\x20justify-between','message','\x20If\x20you\x20forget\x20your\x20passphrase,\x20all\x20encrypted\x20data\x20will\x20be\x20permanently\x20lost.\x20This\x20is\x20by\x20design\x20for\x20maximum\x20security.','some','flex\x20items-center\x20gap-1','1103416xbnZEo','text','wfsgrz','body','Authentication\x20required','scrollHeight','flex-1\x20py-4','file','Fragment','submit','w-full\x20max-w-md\x20max-h-[90vh]\x20mx-4\x20bg-neutral-900\x20rounded-xl\x20shadow-xl\x20overflow-y-auto','subtle','M7\x2011V7a5\x205\x200\x200\x201\x209.9-1','flex-1\x20relative','You','encryption_iv','Room\x20password','space-y-3','w-full\x20px-4\x20py-2\x20bg-neutral-700\x20border\x20border-neutral-600\x20rounded-lg\x20focus:outline-none\x20focus:ring-2\x20focus:ring-blue-500\x20text-white','otherUser','endsWith','Send\x20error:','w-10\x20h-10\x20flex\x20items-center\x20justify-center\x20rounded\x20','17698gbaeAM','valid','Root','useState','clearTimeout','Private\x20room','font-medium\x20truncate','text-xs\x20text-amber-200/80'];_0x4b66=function(){return _0x5e09b3;};return _0x4b66();}function _0x2a2e(_0x615602,_0x59e9c8){_0x615602=_0x615602-0x84;const _0x4b66ed=_0x4b66();let _0x2a2e7e=_0x4b66ed[_0x615602];return _0x2a2e7e;}const _0x464388=_0x2a2e;(function(_0x152ca1,_0x200063){const _0x2b5b1a=_0x2a2e,_0x296d93=_0x152ca1();while(!![]){try{const _0x7285e1=parseInt(_0x2b5b1a(0x85))/0x1*(parseInt(_0x2b5b1a(0xff))/0x2)+-parseInt(_0x2b5b1a(0x1f8))/0x3+-parseInt(_0x2b5b1a(0x225))/0x4*(parseInt(_0x2b5b1a(0x96))/0x5)+-parseInt(_0x2b5b1a(0x146))/0x6+parseInt(_0x2b5b1a(0xa3))/0x7+parseInt(_0x2b5b1a(0x240))/0x8+-parseInt(_0x2b5b1a(0x154))/0x9;if(_0x7285e1===_0x200063)break;else _0x296d93['push'](_0x296d93['shift']());}catch(_0x138553){_0x296d93['push'](_0x296d93['shift']());}}}(_0x4b66,0x82e0b),(globalThis[_0x464388(0x1e1)]||(globalThis[_0x464388(0x1e1)]=[]))[_0x464388(0x1ed)]([_0x464388(0x197)==typeof document?document['currentScript']:void 0x0,0xa106,_0x56ded7=>{'use strict';const _0xdad3c0=_0x464388;var _0x1bef29=_0x56ded7['i'](0xa9d4),_0x27af4d=_0x56ded7['i'](0x117dd),_0x3b6976=_0x56ded7['i'](0x4886),_0x449afa=_0x56ded7['i'](0xb12c),_0x55e690=_0x56ded7['i'](0x1220f);_0x56ded7['i'](0xb83f);var _0x55676b=_0x56ded7['i'](0x4607),_0x21c2e3=_0x56ded7['i'](0xf1d7),_0x2f90a7=_0x56ded7['i'](0x11464),_0x56df28=_0x56ded7['i'](0xbc80);function _0x57d579({view:_0x5e2137,activeChat:_0x5d0197,onSelectChat:_0x5c4699}){const _0x271817=_0x2a2e;let {user:_0x12eef9}=(0x0,_0x449afa[_0x271817(0x21f)])(),[_0x391e94,_0x106eab]=(0x0,_0x27af4d[_0x271817(0x88)])([]),[_0x1b7e90,_0x5b21bc]=(0x0,_0x27af4d['useState'])([]),[_0x26b1e2,_0x11a7aa]=(0x0,_0x27af4d['useState'])(!0x0);(0x0,_0x27af4d['useEffect'])(()=>{_0x12eef9&&('dms'===_0x5e2137?_0x15c910():_0x582223());},[_0x12eef9,_0x5e2137]);let _0x15c910=async()=>{const _0x2aece9=_0x271817;_0x11a7aa(!0x0);try{let _0x301332=await _0x55676b['supabase']['auth'][_0x2aece9(0xd9)](),_0x4d5922=_0x301332['data'][_0x2aece9(0xda)]?.['access_token'],_0x1f88f6=await fetch('http://localhost:8100/functions/v1/get-dms',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x4d5922},'body':JSON[_0x2aece9(0x234)]({'listConversations':!0x0})}),_0x38aa30=await _0x1f88f6[_0x2aece9(0x1a5)]();_0x38aa30['success']&&_0x106eab(_0x38aa30['conversations']||[]);}catch(_0xc45188){console[_0x2aece9(0x1c6)]('Failed\x20to\x20fetch\x20conversations:',_0xc45188);}finally{_0x11a7aa(!0x1);}},_0x582223=async()=>{const _0x1bb684=_0x271817;_0x11a7aa(!0x0);try{let _0xf604f9=await _0x55676b[_0x1bb684(0x21d)]['auth'][_0x1bb684(0xd9)](),_0x31a8f5=_0xf604f9[_0x1bb684(0x9a)]['session']?.[_0x1bb684(0xdc)],_0x465b43=await fetch('http://localhost:8100/functions/v1/list-rooms',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':_0x1bb684(0x117)+_0x31a8f5},'body':JSON['stringify']({'type':'joined'})}),_0x1c450f=await _0x465b43[_0x1bb684(0x1a5)]();_0x1c450f['success']&&_0x5b21bc(_0x1c450f[_0x1bb684(0x224)]||[]);}catch(_0x22094a){console[_0x1bb684(0x1c6)]('Failed\x20to\x20fetch\x20rooms:',_0x22094a);}finally{_0x11a7aa(!0x1);}},_0x3f2211=_0x2f0a73=>{const _0x35ac53=_0x271817;let _0x3a944d=new Date(_0x2f0a73),_0x174f92=Math[_0x35ac53(0x122)]((new Date()['getTime']()-_0x3a944d['getTime']())/0x5265c00);return 0x0===_0x174f92?_0x3a944d['toLocaleTimeString']([],{'hour':'2-digit','minute':_0x35ac53(0x99)}):0x1===_0x174f92?_0x35ac53(0x200):_0x174f92<0x7?_0x3a944d['toLocaleDateString']([],{'weekday':'short'}):_0x3a944d[_0x35ac53(0xee)]([],{'month':'short','day':'numeric'});};return _0x26b1e2?(0x0,_0x1bef29['jsx'])('div',{'className':'flex-1\x20flex\x20items-center\x20justify-center','children':(0x0,_0x1bef29[_0x271817(0x17d)])(_0x271817(0x1be),{'className':'animate-spin\x20rounded-full\x20h-8\x20w-8\x20border-b-2\x20border-green-500'})}):'dms'===_0x5e2137?0x0===_0x391e94['length']?(0x0,_0x1bef29[_0x271817(0x121)])('div',{'className':'flex-1\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-neutral-500\x20p-4','children':[(0x0,_0x1bef29['jsx'])('p',{'className':'text-center','children':_0x271817(0x1f3)}),(0x0,_0x1bef29[_0x271817(0x17d)])('p',{'className':_0x271817(0xbe),'children':_0x271817(0x143)})]}):(0x0,_0x1bef29[_0x271817(0x17d)])('div',{'className':'flex-1\x20overflow-y-auto','children':_0x391e94['map'](_0x2f56f9=>{const _0x2e183c=_0x271817;var _0x4bdef1;return(0x0,_0x1bef29[_0x2e183c(0x121)])(_0x2e183c(0x1c9),{'onClick':()=>_0x5c4699({'type':'dm','id':_0x2f56f9['otherUser']['id'],'name':_0x2f56f9[_0x2e183c(0x253)]['displayName'],'avatar':_0x2f56f9[_0x2e183c(0x253)]['avatarUrl']||void 0x0}),'className':_0x2e183c(0x110)+(_0x5d0197?.['type']==='dm'&&_0x5d0197?.['id']===_0x2f56f9['otherUser']['id']?'bg-neutral-800':''),'children':[(0x0,_0x1bef29['jsxs'])(_0x2e183c(0x1be),{'className':_0x2e183c(0x235),'children':[(0x0,_0x1bef29[_0x2e183c(0x17d)])(_0x2e183c(0x1be),{'className':'w-12\x20h-12\x20rounded-full\x20bg-gradient-to-br\x20from-blue-500\x20to-blue-600\x20flex\x20items-center\x20justify-center\x20text-lg\x20font-semibold','children':_0x2f56f9['otherUser'][_0x2e183c(0x1fc)]?(0x0,_0x1bef29[_0x2e183c(0x17d)])(_0x2e183c(0x1e8),{'src':_0x2f56f9[_0x2e183c(0x253)]['avatarUrl'],'alt':'','className':_0x2e183c(0xf4)}):_0x2f56f9['otherUser']['displayName'][_0x2e183c(0xcf)](0x0)[_0x2e183c(0x231)]()}),!!(_0x4bdef1=_0x2f56f9[_0x2e183c(0x253)]['lastSeen'])&&Date[_0x2e183c(0x12d)]()-new Date(_0x4bdef1)['getTime']()<0x493e0&&(0x0,_0x1bef29[_0x2e183c(0x17d)])('div',{'className':'absolute\x20bottom-0\x20right-0\x20w-3\x20h-3\x20bg-green-500\x20rounded-full\x20border-2\x20border-neutral-900'})]}),(0x0,_0x1bef29['jsxs'])(_0x2e183c(0x1be),{'className':'flex-1\x20min-w-0\x20text-left','children':[(0x0,_0x1bef29['jsxs'])('div',{'className':_0x2e183c(0x1fd),'children':[(0x0,_0x1bef29['jsx'])('span',{'className':'font-medium\x20truncate','children':_0x2f56f9['otherUser'][_0x2e183c(0x177)]}),(0x0,_0x1bef29['jsx'])(_0x2e183c(0x1b2),{'className':'text-xs\x20text-neutral-500','children':_0x3f2211(_0x2f56f9['lastMessageAt'])})]}),(0x0,_0x1bef29[_0x2e183c(0x121)])(_0x2e183c(0x1be),{'className':_0x2e183c(0x20f),'children':[(0x0,_0x1bef29['jsx'])(_0x2e183c(0x1b2),{'className':_0x2e183c(0x135),'children':_0x2e183c(0x8e)}),_0x2f56f9[_0x2e183c(0x97)]>0x0&&(0x0,_0x1bef29[_0x2e183c(0x17d)])(_0x2e183c(0x1b2),{'className':_0x2e183c(0x1f2),'children':_0x2f56f9['unreadCount']})]})]})]},_0x2f56f9['id']);})}):0x0===_0x1b7e90[_0x271817(0x203)]?(0x0,_0x1bef29['jsxs'])('div',{'className':_0x271817(0x20d),'children':[(0x0,_0x1bef29[_0x271817(0x17d)])('p',{'className':_0x271817(0x212),'children':'No\x20rooms\x20joined\x20yet'}),(0x0,_0x1bef29[_0x271817(0x17d)])('p',{'className':_0x271817(0xbe),'children':_0x271817(0xfb)})]}):(0x0,_0x1bef29['jsx'])('div',{'className':'flex-1\x20overflow-y-auto','children':_0x1b7e90[_0x271817(0xb9)](_0x4ab42d=>(0x0,_0x1bef29['jsxs'])('button',{'onClick':()=>_0x5c4699({'type':_0x271817(0x148),'id':_0x4ab42d['id'],'name':_0x4ab42d[_0x271817(0x128)],'isPublic':_0x4ab42d[_0x271817(0x151)]}),'className':'w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20transition-colors\x20'+(_0x5d0197?.['type']==='room'&&_0x5d0197?.['id']===_0x4ab42d['id']?_0x271817(0xf0):''),'children':[(0x0,_0x1bef29['jsx'])(_0x271817(0x1be),{'className':'w-12\x20h-12\x20rounded-full\x20bg-gradient-to-br\x20from-purple-500\x20to-purple-600\x20flex\x20items-center\x20justify-center','children':_0x4ab42d['isPublic']?(0x0,_0x1bef29[_0x271817(0x17d)])(_0x56df28['Globe'],{'size':0x18,'className':_0x271817(0x1bb)}):(0x0,_0x1bef29[_0x271817(0x17d)])(_0x2f90a7[_0x271817(0xf2)],{'size':0x18,'className':'text-white'})}),(0x0,_0x1bef29[_0x271817(0x121)])('div',{'className':_0x271817(0x13b),'children':[(0x0,_0x1bef29['jsxs'])(_0x271817(0x1be),{'className':'flex\x20items-center\x20justify-between','children':[(0x0,_0x1bef29[_0x271817(0x17d)])('span',{'className':'font-medium\x20truncate','children':_0x4ab42d[_0x271817(0x128)]}),_0x4ab42d['joinedAt']&&(0x0,_0x1bef29['jsx'])('span',{'className':_0x271817(0x1c8),'children':_0x3f2211(_0x4ab42d['joinedAt'])})]}),(0x0,_0x1bef29[_0x271817(0x121)])(_0x271817(0x1be),{'className':_0x271817(0x20f),'children':[(0x0,_0x1bef29['jsxs'])(_0x271817(0x1b2),{'className':_0x271817(0x150),'children':[(0x0,_0x1bef29[_0x271817(0x17d)])(_0x21c2e3['Users'],{'size':0xe}),_0x4ab42d[_0x271817(0x13f)],_0x271817(0xe8)]}),_0x4ab42d[_0x271817(0x97)]>0x0&&(0x0,_0x1bef29[_0x271817(0x17d)])('span',{'className':'ml-2\x20px-2\x20py-0.5\x20text-xs\x20bg-green-500\x20text-white\x20rounded-full','children':_0x4ab42d['unreadCount']})]})]})]},_0x4ab42d['id']))});}var _0x226f3a=_0x56ded7['i'](0xb0b7),_0xc4182c=_0x56ded7['i'](0xaa0b),_0x13ef64=_0x56ded7['i'](0x125f6);let _0x750b35=(0x0,_0x13ef64['default'])(_0xdad3c0(0x238),[[_0xdad3c0(0x12c),{'d':'M18\x206\x207\x2017l-5-5','key':'116fxf'}],[_0xdad3c0(0x12c),{'d':_0xdad3c0(0x14d),'key':'ke71qq'}]]);var _0x5534a4=_0x56ded7['i'](0x9ce0);let _0x53d332=(0x0,_0x13ef64[_0xdad3c0(0x15a)])(_0xdad3c0(0x247),[['path',{'d':'M6\x2022a2\x202\x200\x200\x201-2-2V4a2\x202\x200\x200\x201\x202-2h8a2.4\x202.4\x200\x200\x201\x201.704.706l3.588\x203.588A2.4\x202.4\x200\x200\x201\x2020\x208v12a2\x202\x200\x200\x201-2\x202z','key':_0xdad3c0(0xcc)}],['path',{'d':'M14\x202v5a1\x201\x200\x200\x200\x201\x201h5','key':_0xdad3c0(0x242)}]]);var _0x29f522=_0x56ded7['i'](0xd50),_0x29f522=_0x29f522,_0x3dfd65=_0x56ded7['i'](0x7a2e),_0x4d6a13=_0x56ded7['i'](0xf6e9);let _0x1b0763=[_0xdad3c0(0xc3),_0xdad3c0(0xeb),'image/gif','image/webp','image/svg+xml','video/mp4',_0xdad3c0(0x17a),'video/quicktime',_0xdad3c0(0x1d6),_0xdad3c0(0x168),'application/msword','application/vnd.openxmlformats-officedocument.wordprocessingml.document',_0xdad3c0(0x16a),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',_0xdad3c0(0xba),'application/vnd.openxmlformats-officedocument.presentationml.presentation','text/plain','text/csv','text/markdown',_0xdad3c0(0x1d8),_0xdad3c0(0x15e),_0xdad3c0(0xca),_0xdad3c0(0x1a3),'application/gzip','application/x-tar',_0xdad3c0(0x1f1),'text/css','text/javascript','application/json','application/xml','text/xml'];async function _0x1770cb(_0x4e16ce,_0x977b10){const _0x20d2dd=_0xdad3c0;try{let _0x3e01cf,_0x225b22=await _0x4e16ce[_0x20d2dd(0x152)](),_0x567469=new Uint8Array(_0x225b22),_0x1edeaf=(_0x3e01cf=new Uint8Array(0xc),crypto[_0x20d2dd(0x1f4)](_0x3e01cf),_0x3e01cf),_0xf83c68=await crypto['subtle'][_0x20d2dd(0x165)]({'name':'AES-GCM','iv':_0x1edeaf},_0x977b10,_0x567469);return{'encryptedBlob':new Blob([_0xf83c68],{'type':_0x20d2dd(0x1a2)}),'iv':function(_0x382368){const _0x48f68e=_0x20d2dd;let _0xe56da7='';for(let _0x5c59c5=0x0;_0x5c59c5<_0x382368['length'];_0x5c59c5++)_0xe56da7+=String[_0x48f68e(0xe0)](_0x382368[_0x5c59c5]);return btoa(_0xe56da7);}(_0x1edeaf),'originalFilename':_0x4e16ce[_0x20d2dd(0x128)],'mimeType':_0x4e16ce[_0x20d2dd(0x215)],'fileSize':_0x4e16ce['size']};}catch(_0x235ed2){throw console[_0x20d2dd(0x1c6)]('File\x20encryption\x20error:',_0x235ed2),Error('Failed\x20to\x20encrypt\x20file');}}async function _0x4d0524(_0x545520,_0x26e725,_0xe5a7c1,_0xe2e7c){const _0xc411af=_0xdad3c0;try{let _0x359386=await _0x545520['arrayBuffer'](),_0x5bb4f3=new Uint8Array(_0x359386),_0x1f2e7c=function(_0x4ef64e){const _0x51f811=_0x2a2e;let _0x61f3e4=atob(_0x4ef64e),_0x1e1e1d=new Uint8Array(_0x61f3e4['length']);for(let _0x3ecb20=0x0;_0x3ecb20<_0x61f3e4['length'];_0x3ecb20++)_0x1e1e1d[_0x3ecb20]=_0x61f3e4[_0x51f811(0xd3)](_0x3ecb20);return _0x1e1e1d;}(_0x26e725),_0x5db38e=await crypto[_0xc411af(0x24b)][_0xc411af(0x228)]({'name':'AES-GCM','iv':_0x1f2e7c},_0xe2e7c,_0x5bb4f3);return new Blob([_0x5db38e],{'type':_0xe5a7c1});}catch(_0xcbcca6){throw console[_0xc411af(0x1c6)](_0xc411af(0x1ca),_0xcbcca6),Error('Failed\x20to\x20decrypt\x20file.\x20The\x20file\x20may\x20be\x20corrupted\x20or\x20you\x20may\x20not\x20have\x20permission\x20to\x20access\x20it.');}}function _0x5ebba8(_0x455e7e){const _0x4ce70c=_0xdad3c0;if(0x0===_0x455e7e)return'0\x20Bytes';let _0x48e000=Math[_0x4ce70c(0x122)](Math[_0x4ce70c(0x1f6)](_0x455e7e)/Math[_0x4ce70c(0x1f6)](0x400));return Math[_0x4ce70c(0x1ec)](_0x455e7e/Math[_0x4ce70c(0x127)](0x400,_0x48e000)*0x64)/0x64+'\x20'+['Bytes','KB','MB','GB'][_0x48e000];}function _0x5555b7({message:_0x59d781,showSender:_0x1194f7=!0x1,onReply:_0x33ad4f}){const _0x179879=_0xdad3c0;let {user:_0x2beafc,privateKey:_0x47caa4}=(0x0,_0x449afa['useAuth'])(),[_0x2a9e0c,_0x235e4b]=(0x0,_0x27af4d[_0x179879(0x88)])(new Set()),[_0x3a8e6f,_0x44db0f]=(0x0,_0x27af4d['useState'])({}),_0x4f8937=async _0x3427ce=>{const _0x42c677=_0x179879;if(!_0x47caa4)return void _0x44db0f(_0xacbaef=>({..._0xacbaef,[_0x3427ce['id']]:_0x42c677(0x18b)}));try{var _0x4ec1ce,_0x3a36ad;let _0x58ae26,_0x107119;_0x235e4b(_0x4be09e=>new Set(_0x4be09e)[_0x42c677(0x8f)](_0x3427ce['id'])),_0x44db0f(_0x1607b0=>{let _0x16dd8c={..._0x1607b0};return delete _0x16dd8c[_0x3427ce['id']],_0x16dd8c;});let _0x249b3e=await _0x55676b[_0x42c677(0x21d)]['auth']['getSession'](),_0x1039a0=_0x249b3e[_0x42c677(0x9a)]['session']?.['access_token'];if(!_0x1039a0)throw Error('Authentication\x20required');let _0x4b7aac=await fetch('/functions/v1/download-attachment',{'method':_0x42c677(0x221),'headers':{'Content-Type':_0x42c677(0x1da),'Authorization':_0x42c677(0x117)+_0x1039a0},'body':JSON[_0x42c677(0x234)]({'attachmentId':_0x3427ce['id']})});if(!_0x4b7aac['ok']){let _0x5c8929=await _0x4b7aac[_0x42c677(0x1a5)]();throw Error(_0x5c8929['error']||'Download\x20failed');}let _0x59dc9d=await _0x4b7aac[_0x42c677(0x236)](),_0x216ac3=_0x4b7aac[_0x42c677(0x207)]['get']('X-Encryption-Iv')||_0x3427ce[_0x42c677(0x24f)],_0x5bd634=_0x4b7aac[_0x42c677(0x207)]['get']('X-Original-Mime-Type')||_0x3427ce[_0x42c677(0xd1)];_0x4ec1ce=await _0x4d0524(_0x59dc9d,_0x216ac3,_0x5bd634,_0x47caa4),_0x3a36ad=_0x3427ce[_0x42c677(0xf5)],_0x58ae26=URL[_0x42c677(0xc7)](_0x4ec1ce),(_0x107119=document['createElement']('a'))[_0x42c677(0xe2)]=_0x58ae26,_0x107119[_0x42c677(0x19e)]=_0x3a36ad,document[_0x42c677(0x243)][_0x42c677(0x1e6)](_0x107119),_0x107119['click'](),document['body']['removeChild'](_0x107119),URL['revokeObjectURL'](_0x58ae26);}catch(_0x545ca9){console['error']('Download\x20error:',_0x545ca9),_0x44db0f(_0x5ecbb9=>({..._0x5ecbb9,[_0x3427ce['id']]:_0x545ca9 instanceof Error?_0x545ca9['message']:'Download\x20failed'}));}finally{_0x235e4b(_0xde5757=>{const _0x2226f5=_0x42c677;let _0x516ffa=new Set(_0xde5757);return _0x516ffa[_0x2226f5(0x14b)](_0x3427ce['id']),_0x516ffa;});}};if(_0x59d781['isSystem'])return(0x0,_0x1bef29['jsx'])('div',{'className':'flex\x20justify-center\x20my-2','children':(0x0,_0x1bef29['jsxs'])('div',{'className':_0x179879(0x1c5),'children':[_0x59d781['senderName'],'\x20',_0x59d781[_0x179879(0x15f)]]})});let _0x50dbbb=_0x59d781['attachments']&&_0x59d781['attachments']['length']>0x0;return(0x0,_0x1bef29[_0x179879(0x17d)])('div',{'className':'flex\x20'+(_0x59d781[_0x179879(0x11a)]?_0x179879(0x173):'justify-start')+'\x20mb-1','children':(0x0,_0x1bef29[_0x179879(0x121)])(_0x179879(0x1be),{'className':'max-w-[75%]\x20'+(_0x59d781['isMine']?'bg-green-600\x20rounded-tl-xl\x20rounded-tr-sm\x20rounded-bl-xl\x20rounded-br-xl':'bg-neutral-700\x20rounded-tl-sm\x20rounded-tr-xl\x20rounded-bl-xl\x20rounded-br-xl')+'\x20px-3\x20py-2\x20shadow-sm','onDoubleClick':()=>_0x33ad4f?.(_0x59d781),'children':[_0x1194f7&&!_0x59d781['isMine']&&(0x0,_0x1bef29[_0x179879(0x17d)])('div',{'className':_0x179879(0x1bf),'children':_0x59d781[_0x179879(0x129)]}),_0x59d781['replyToContent']&&(0x0,_0x1bef29['jsx'])('div',{'className':'mb-2\x20pl-2\x20border-l-2\x20'+(_0x59d781[_0x179879(0x11a)]?'border-green-400':'border-neutral-500'),'children':(0x0,_0x1bef29['jsx'])('p',{'className':_0x179879(0xb5),'children':_0x59d781[_0x179879(0x11c)]})}),_0x59d781['content']&&(0x0,_0x1bef29[_0x179879(0x17d)])('p',{'className':'text-sm\x20whitespace-pre-wrap\x20break-words','children':_0x59d781['content']}),_0x50dbbb&&(0x0,_0x1bef29['jsx'])('div',{'className':_0x179879(0x21a),'children':_0x59d781[_0x179879(0x104)][_0x179879(0xb9)](_0x2e5d24=>{const _0x3ef338=_0x179879;var _0x5b2578;let _0x76f6ba=_0x2a9e0c['has'](_0x2e5d24['id']),_0x2cdbbf=_0x3a8e6f[_0x2e5d24['id']],_0xd96504=(_0x5b2578=_0x2e5d24['mime_type'])['startsWith']('image/')?_0x3ef338(0x10d):_0x5b2578[_0x3ef338(0x144)](_0x3ef338(0xc1))?'video':_0x5b2578[_0x3ef338(0x1d1)](_0x3ef338(0x163))?_0x3ef338(0x163):_0x5b2578['includes'](_0x3ef338(0x10c))||_0x5b2578['includes']('sheet')?_0x3ef338(0xb6):_0x5b2578['includes']('powerpoint')||_0x5b2578[_0x3ef338(0x1d1)](_0x3ef338(0x1e9))?'presentation':_0x5b2578[_0x3ef338(0x1d1)](_0x3ef338(0x10a))||_0x5b2578['includes'](_0x3ef338(0xbc))?_0x3ef338(0xbc):_0x5b2578['includes'](_0x3ef338(0xc5))||_0x5b2578[_0x3ef338(0x1d1)](_0x3ef338(0x1ad))||_0x5b2578[_0x3ef338(0x1d1)]('tar')||_0x5b2578[_0x3ef338(0x1d1)](_0x3ef338(0x10e))?'archive':_0x5b2578['includes'](_0x3ef338(0x241))?_0x3ef338(0x241):_0x5b2578[_0x3ef338(0x1d1)]('json')||_0x5b2578['includes']('xml')?'code':_0x3ef338(0x247);return(0x0,_0x1bef29['jsxs'])(_0x3ef338(0x1be),{'className':_0x3ef338(0x214)+(_0x59d781['isMine']?_0x3ef338(0x210):'bg-neutral-800/50'),'children':[(0x0,_0x1bef29[_0x3ef338(0x121)])(_0x3ef338(0x1be),{'className':_0x3ef338(0x84)+(_0x59d781[_0x3ef338(0x11a)]?_0x3ef338(0x174):'bg-neutral-700'),'children':['image'===_0xd96504&&(0x0,_0x1bef29[_0x3ef338(0x17d)])(_0x29f522[_0x3ef338(0x15a)],{'size':0x14}),_0x3ef338(0x10d)!==_0xd96504&&(0x0,_0x1bef29[_0x3ef338(0x17d)])(_0x53d332,{'size':0x14})]}),(0x0,_0x1bef29[_0x3ef338(0x121)])(_0x3ef338(0x1be),{'className':'flex-1\x20min-w-0','children':[(0x0,_0x1bef29['jsx'])('p',{'className':'text-xs\x20font-medium\x20truncate','children':_0x2e5d24['filename']}),(0x0,_0x1bef29['jsx'])('p',{'className':_0x3ef338(0x22e),'children':_0x5ebba8(_0x2e5d24[_0x3ef338(0x91)])}),_0x2cdbbf&&(0x0,_0x1bef29['jsxs'])(_0x3ef338(0x1be),{'className':'flex\x20items-center\x20gap-1\x20mt-1','children':[(0x0,_0x1bef29['jsx'])(_0x4d6a13[_0x3ef338(0xb0)],{'size':0xc,'className':_0x3ef338(0x112)}),(0x0,_0x1bef29['jsx'])('p',{'className':'text-[10px]\x20text-red-400','children':_0x2cdbbf})]})]}),(0x0,_0x1bef29[_0x3ef338(0x17d)])(_0x3ef338(0x1c9),{'onClick':()=>_0x4f8937(_0x2e5d24),'disabled':_0x76f6ba,'className':'p-2\x20rounded-full\x20'+(_0x59d781[_0x3ef338(0x11a)]?'hover:bg-green-800':_0x3ef338(0xea))+_0x3ef338(0x14e),'title':'Download','children':_0x76f6ba?(0x0,_0x1bef29[_0x3ef338(0x17d)])(_0x3dfd65[_0x3ef338(0x183)],{'size':0x10,'className':'animate-spin'}):(0x0,_0x1bef29['jsx'])(_0x5534a4[_0x3ef338(0xf8)],{'size':0x10})})]},_0x2e5d24['id']);})}),(0x0,_0x1bef29[_0x179879(0x121)])(_0x179879(0x1be),{'className':'flex\x20items-center\x20justify-end\x20gap-1\x20mt-1\x20'+(_0x59d781['isMine']?_0x179879(0x140):_0x179879(0x119)),'children':[(0x0,_0x1bef29[_0x179879(0x17d)])(_0x179879(0x1b2),{'className':'text-[10px]','children':new Date(_0x59d781[_0x179879(0x134)])['toLocaleTimeString']([],{'hour':_0x179879(0x99),'minute':_0x179879(0x99)})}),_0x59d781['isMine']&&(0x0,_0x1bef29[_0x179879(0x17d)])('span',{'className':_0x179879(0x1bc),'children':_0x59d781['readAt']?(0x0,_0x1bef29[_0x179879(0x17d)])(_0x750b35,{'size':0xe,'className':_0x179879(0x93)}):(0x0,_0x1bef29['jsx'])(_0xc4182c['Check'],{'size':0xe})})]})]})});}var _0x39703a=_0x56ded7['i'](0x39ac),_0x1eae32=_0x56ded7['i'](0x935f),_0x4b7596=_0x56ded7['i'](0x17ea8);let _0x47ecb1=(0x0,_0x13ef64['default'])(_0xdad3c0(0x19f),[['path',{'d':'m16\x206-8.414\x208.586a2\x202\x200\x200\x200\x202.829\x202.829l8.414-8.586a4\x204\x200\x201\x200-5.657-5.657l-8.379\x208.551a6\x206\x200\x201\x200\x208.485\x208.485l8.379-8.551','key':'1miecu'}]]),_0x2412b8=(0x0,_0x13ef64['default'])('mic',[[_0xdad3c0(0x12c),{'d':_0xdad3c0(0xf3),'key':'npa21l'}],['path',{'d':'M19\x2010v2a7\x207\x200\x200\x201-14\x200v-2','key':_0xdad3c0(0x1ab)}],['rect',{'x':'9','y':'2','width':'6','height':'13','rx':'3','key':'s6n7sd'}]]);function _0x2ab000({onSend:_0x1000a7,replyTo:_0xffda9,onCancelReply:_0x5a5790,disabled:_0x18cf0c=!0x1,placeholder:_0x8051ca=_0xdad3c0(0x1db),remainingMessages:_0x219c56,messageType:_0xb37cd2=_0xdad3c0(0x148)}){const _0x373e92=_0xdad3c0;let [_0x164eb4,_0x1e812]=(0x0,_0x27af4d[_0x373e92(0x88)])(''),[_0x55c709,_0x2b5e66]=(0x0,_0x27af4d[_0x373e92(0x88)])([]),[_0x12d20f,_0x13f4a6]=(0x0,_0x27af4d['useState'])(!0x1),_0x324ae9=(0x0,_0x27af4d[_0x373e92(0x142)])(null),_0x57d23a=(0x0,_0x27af4d['useRef'])(null),{user:_0x5d0bbd,privateKey:_0x3637d4}=(0x0,_0x449afa[_0x373e92(0x21f)])(),_0x3beff3=_0x5d0bbd?.[_0x373e92(0x11b)]===_0x373e92(0x1ee),_0x2d7ab3=_0x3beff3?0x3200000:0x500000;(0x0,_0x27af4d[_0x373e92(0xae)])(()=>{const _0x55e7b7=_0x373e92;_0x324ae9[_0x55e7b7(0x124)]&&(_0x324ae9[_0x55e7b7(0x124)][_0x55e7b7(0x1df)]['height']=_0x55e7b7(0xa4),_0x324ae9[_0x55e7b7(0x124)][_0x55e7b7(0x1df)][_0x55e7b7(0x1d4)]=Math[_0x55e7b7(0x1af)](_0x324ae9[_0x55e7b7(0x124)][_0x55e7b7(0x245)],0x96)+'px');},[_0x164eb4]);let _0x3e645c=async()=>{const _0x5106cf=_0x373e92;let _0x24cc5a=_0x55c709[_0x5106cf(0x1a6)](_0xd6655c=>!_0xd6655c[_0x5106cf(0x1c6)]);if(0x0===_0x24cc5a['length'])return[];if(!_0x3637d4)throw Error(_0x5106cf(0x18b));let _0x1b3a59=[];for(let _0x541c9e of _0x24cc5a)try{_0x2b5e66(_0x244e57=>_0x244e57['map'](_0x473ad4=>_0x473ad4['id']===_0x541c9e['id']?{..._0x473ad4,'uploading':!0x0}:_0x473ad4));let _0x18d4eb=await _0x1770cb(_0x541c9e['file'],_0x3637d4),_0x5e0cad=new FormData();_0x5e0cad['append']('file',_0x18d4eb[_0x5106cf(0x187)]),_0x5e0cad[_0x5106cf(0x107)]('filename',_0x18d4eb[_0x5106cf(0x1c7)]),_0x5e0cad['append']('mimeType',_0x18d4eb['mimeType']),_0x5e0cad[_0x5106cf(0x107)](_0x5106cf(0x123),_0x18d4eb['iv']),_0x5e0cad[_0x5106cf(0x107)](_0x5106cf(0x17b),'dm'===_0xb37cd2?_0x5106cf(0x21e):'message');let _0x43b8b6=await _0x55676b['supabase']['auth']['getSession'](),_0x55e34b=_0x43b8b6['data'][_0x5106cf(0xda)]?.[_0x5106cf(0xdc)];if(!_0x55e34b)throw Error(_0x5106cf(0x244));let _0x26c725=await fetch('/functions/v1/upload-attachment',{'method':'POST','headers':{'Authorization':'Bearer\x20'+_0x55e34b},'body':_0x5e0cad});if(!_0x26c725['ok']){let _0xcdf689=await _0x26c725['json']();throw Error(_0xcdf689['error']||_0x5106cf(0x113));}let _0x9b8e38=await _0x26c725[_0x5106cf(0x1a5)]();_0x1b3a59[_0x5106cf(0x1ed)](_0x9b8e38['attachment']['id']),_0x2b5e66(_0x5a350d=>_0x5a350d['map'](_0x57c287=>_0x57c287['id']===_0x541c9e['id']?{..._0x57c287,'uploading':!0x1,'uploadedId':_0x9b8e38['attachment']['id']}:_0x57c287));}catch(_0xf70f9c){console['error'](_0x5106cf(0x1c1),_0xf70f9c),_0x2b5e66(_0x4fda9c=>_0x4fda9c['map'](_0x49d990=>_0x49d990['id']===_0x541c9e['id']?{..._0x49d990,'uploading':!0x1,'error':_0xf70f9c instanceof Error?_0xf70f9c[_0x5106cf(0x23c)]:_0x5106cf(0x113)}:_0x49d990));}return _0x1b3a59;},_0x3060ec=async()=>{const _0x4a98c7=_0x373e92;let _0x4db7a9=_0x164eb4['trim']();if((_0x4db7a9||0x0!==_0x55c709['length'])&&!_0x18cf0c)try{_0x13f4a6(!0x0);let _0x210955=await _0x3e645c();if(_0x55c709[_0x4a98c7(0x1a6)](_0x3001b7=>!_0x3001b7[_0x4a98c7(0x1c6)]&&!_0x210955['includes'](_0x3001b7['uploadedId']||''))['length']>0x0)throw Error(_0x4a98c7(0xac));_0x1000a7(_0x4db7a9||'',_0x210955['length']>0x0?_0x210955:void 0x0),_0x1e812(''),_0x2b5e66([]),_0x324ae9['current']&&(_0x324ae9['current']['style']['height']='auto');}catch(_0x409215){console[_0x4a98c7(0x1c6)](_0x4a98c7(0x255),_0x409215);}finally{_0x13f4a6(!0x1);}},_0x655c5a=null!=_0x219c56&&_0x219c56<=0x0,_0x16bcad=_0x164eb4[_0x373e92(0xa9)]()||_0x55c709[_0x373e92(0x203)]>0x0;return(0x0,_0x1bef29[_0x373e92(0x121)])(_0x373e92(0x1be),{'className':'bg-neutral-900\x20border-t\x20border-neutral-800\x20p-3','children':[_0xffda9&&(0x0,_0x1bef29['jsxs'])(_0x373e92(0x1be),{'className':_0x373e92(0x23b),'children':[(0x0,_0x1bef29[_0x373e92(0x121)])('div',{'className':'flex-1\x20min-w-0','children':[(0x0,_0x1bef29['jsxs'])('p',{'className':'text-xs\x20text-green-500\x20font-medium','children':['Replying\x20to\x20',_0xffda9['senderName']]}),(0x0,_0x1bef29[_0x373e92(0x17d)])('p',{'className':'text-sm\x20text-neutral-300\x20truncate','children':_0xffda9['content']})]}),(0x0,_0x1bef29[_0x373e92(0x17d)])('button',{'onClick':_0x5a5790,'className':'ml-2\x20p-1\x20text-neutral-400\x20hover:text-white','children':(0x0,_0x1bef29[_0x373e92(0x17d)])(_0x1eae32['X'],{'size':0x12})})]}),null!=_0x219c56&&_0x219c56<=0xa&&!_0x655c5a&&(0x0,_0x1bef29['jsx'])('div',{'className':_0x373e92(0x1dc),'children':(0x0,_0x1bef29[_0x373e92(0x121)])('p',{'className':_0x373e92(0x16c),'children':[_0x219c56,_0x373e92(0x16d),0x1!==_0x219c56?'s':'',_0x373e92(0xb2),'\x20',(0x0,_0x1bef29[_0x373e92(0x17d)])('a',{'href':'/settings','className':'underline\x20hover:text-amber-300','children':'Upgrade\x20to\x20unlimited'})]})}),_0x655c5a&&(0x0,_0x1bef29[_0x373e92(0x17d)])(_0x373e92(0x1be),{'className':_0x373e92(0x1e7),'children':(0x0,_0x1bef29[_0x373e92(0x121)])('p',{'className':_0x373e92(0x229),'children':['You\x27ve\x20reached\x20your\x20monthly\x20message\x20limit.','\x20',(0x0,_0x1bef29['jsx'])('a',{'href':_0x373e92(0x191),'className':'underline\x20hover:text-red-300','children':'Upgrade\x20to\x20unlimited\x20for\x20$6.99/month'})]})}),!_0x3beff3&&(0x0,_0x1bef29[_0x373e92(0x17d)])(_0x373e92(0x1be),{'className':_0x373e92(0x17c),'children':(0x0,_0x1bef29[_0x373e92(0x121)])('p',{'className':_0x373e92(0x213),'children':[_0x373e92(0x181),'\x20',(0x0,_0x1bef29['jsx'])('a',{'href':'/settings','className':'underline\x20hover:text-blue-300','children':'Upgrade\x20for\x2050MB\x20files'})]})}),_0x55c709['length']>0x0&&(0x0,_0x1bef29[_0x373e92(0x17d)])(_0x373e92(0x1be),{'className':_0x373e92(0xf7),'children':_0x55c709[_0x373e92(0xb9)](_0x3470d9=>(0x0,_0x1bef29['jsxs'])('div',{'className':_0x373e92(0x21c),'children':[_0x3470d9[_0x373e92(0x162)]?(0x0,_0x1bef29['jsx'])(_0x373e92(0x1e8),{'src':_0x3470d9[_0x373e92(0x162)],'alt':_0x3470d9['file'][_0x373e92(0x128)],'className':'w-12\x20h-12\x20object-cover\x20rounded'}):(0x0,_0x1bef29[_0x373e92(0x17d)])('div',{'className':_0x373e92(0xfa),'children':(0x0,_0x1bef29[_0x373e92(0x17d)])(_0x53d332,{'size':0x18,'className':_0x373e92(0x119)})}),(0x0,_0x1bef29[_0x373e92(0x121)])(_0x373e92(0x1be),{'className':'flex-1\x20min-w-0','children':[(0x0,_0x1bef29['jsx'])('p',{'className':'text-sm\x20text-white\x20truncate','children':_0x3470d9['file'][_0x373e92(0x128)]}),(0x0,_0x1bef29[_0x373e92(0x17d)])('p',{'className':'text-xs\x20text-neutral-400','children':_0x5ebba8(_0x3470d9[_0x373e92(0x247)]['size'])}),_0x3470d9['error']&&(0x0,_0x1bef29['jsx'])('p',{'className':'text-xs\x20text-red-400','children':_0x3470d9[_0x373e92(0x1c6)]})]}),_0x3470d9[_0x373e92(0xed)]?(0x0,_0x1bef29['jsx'])(_0x3dfd65['Loader2'],{'size':0x14,'className':_0x373e92(0xb8)}):_0x3470d9['uploadedId']?(0x0,_0x1bef29['jsx'])(_0x373e92(0x1b2),{'className':_0x373e92(0x199),'children':'Uploaded'}):(0x0,_0x1bef29['jsx'])(_0x373e92(0x1c9),{'onClick':()=>{var _0x18e7dd;return _0x18e7dd=_0x3470d9['id'],void _0x2b5e66(_0x2cd062=>_0x2cd062['filter'](_0x17c89b=>_0x17c89b['id']!==_0x18e7dd));},'className':_0x373e92(0x161),'children':(0x0,_0x1bef29['jsx'])(_0x1eae32['X'],{'size':0x12})})]},_0x3470d9['id']))}),(0x0,_0x1bef29['jsxs'])(_0x373e92(0x1be),{'className':'flex\x20items-end\x20gap-2','children':[(0x0,_0x1bef29[_0x373e92(0x17d)])('input',{'ref':_0x57d23a,'type':'file','multiple':!0x0,'className':_0x373e92(0x116),'onChange':_0x53ba89=>{const _0x3325ec=_0x373e92;let _0x3e79d1=Array[_0x3325ec(0x1ac)](_0x53ba89['target']['files']||[]);if(0x0===_0x3e79d1['length'])return;let _0x217b46=_0x3e79d1[_0x3325ec(0xb9)](_0x20f713=>{const _0x447b86=_0x3325ec;let _0xd7dba7=function(_0x59ddd0,_0x2bf3fc=0x3200000){const _0x1db6f2=_0x2a2e;if(!_0x59ddd0)return{'valid':!0x1,'error':'No\x20file\x20provided'};if(0x0===_0x59ddd0['size'])return{'valid':!0x1,'error':_0x1db6f2(0x194)};if(_0x59ddd0['size']>_0x2bf3fc){let _0x12c648=(_0x2bf3fc/0x100000)[_0x1db6f2(0x1a9)](0x0);return{'valid':!0x1,'error':'File\x20too\x20large.\x20Maximum\x20size:\x20'+_0x12c648+'MB'};}if(!_0x1b0763[_0x1db6f2(0x1d1)](_0x59ddd0[_0x1db6f2(0x215)]))return{'valid':!0x1,'error':'File\x20type\x20not\x20allowed:\x20'+(_0x59ddd0[_0x1db6f2(0x215)]||_0x1db6f2(0x1b8))+_0x1db6f2(0x1c4)};if(!_0x59ddd0[_0x1db6f2(0x128)]||_0x59ddd0['name'][_0x1db6f2(0x203)]>0xff)return{'valid':!0x1,'error':_0x1db6f2(0x202)};let _0x2a36ff=_0x59ddd0[_0x1db6f2(0x128)][_0x1db6f2(0x126)]();return[_0x1db6f2(0x1aa),_0x1db6f2(0x20a),'.cmd','.com',_0x1db6f2(0x105),_0x1db6f2(0x1d2),_0x1db6f2(0xfe),_0x1db6f2(0xa5)][_0x1db6f2(0x23e)](_0x581665=>_0x2a36ff[_0x1db6f2(0x254)](_0x581665))?{'valid':!0x1,'error':_0x1db6f2(0x18d)}:{'valid':!0x0};}(_0x20f713,_0x2d7ab3);return{'id':crypto['randomUUID'](),'file':_0x20f713,'uploading':!0x1,'error':_0xd7dba7[_0x447b86(0x86)]?void 0x0:_0xd7dba7[_0x447b86(0x1c6)]};});_0x217b46[_0x3325ec(0xdb)](_0x316ef7=>{const _0x4fb814=_0x3325ec;if(!_0x316ef7['error']&&_0x316ef7[_0x4fb814(0x247)]['type'][_0x4fb814(0x144)]('image/')){let _0x59ec8c=new FileReader();_0x59ec8c[_0x4fb814(0x196)]=_0x3104ee=>{const _0x3f9e6a=_0x4fb814;_0x2b5e66(_0x10bfde=>_0x10bfde[_0x3f9e6a(0xb9)](_0x326012=>_0x326012['id']===_0x316ef7['id']?{..._0x326012,'preview':_0x3104ee[_0x3f9e6a(0x1eb)]?.['result']}:_0x326012));},_0x59ec8c['readAsDataURL'](_0x316ef7['file']);}}),_0x2b5e66(_0x52d961=>[..._0x52d961,..._0x217b46]),_0x57d23a['current']&&(_0x57d23a['current'][_0x3325ec(0x216)]='');},'accept':'image/*,video/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.zip,.rar,.7z,.tar,.gz,.txt,.csv,.md'}),(0x0,_0x1bef29['jsx'])('button',{'className':_0x373e92(0x21b),'title':_0x373e92(0x1a1),'disabled':_0x18cf0c||_0x655c5a,'children':(0x0,_0x1bef29['jsx'])(_0x4b7596['Smile'],{'size':0x18})}),(0x0,_0x1bef29[_0x373e92(0x17d)])(_0x373e92(0x1c9),{'onClick':()=>_0x57d23a[_0x373e92(0x124)]?.['click'](),'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800\x20disabled:opacity-50','title':_0x373e92(0x15c),'disabled':_0x18cf0c||_0x655c5a||_0x12d20f,'children':(0x0,_0x1bef29[_0x373e92(0x17d)])(_0x47ecb1,{'size':0x18})}),(0x0,_0x1bef29['jsx'])('div',{'className':_0x373e92(0x24d),'children':(0x0,_0x1bef29['jsx'])(_0x373e92(0x1d5),{'ref':_0x324ae9,'value':_0x164eb4,'onChange':_0x591af8=>_0x1e812(_0x591af8['target']['value']),'onKeyDown':_0x2cad59=>{const _0x20bf76=_0x373e92;'Enter'!==_0x2cad59['key']||_0x2cad59['shiftKey']||(_0x2cad59[_0x20bf76(0x155)](),_0x3060ec());},'placeholder':_0x655c5a?_0x373e92(0x1ce):_0x8051ca,'disabled':_0x18cf0c||_0x655c5a||_0x12d20f,'rows':0x1,'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-2xl\x20text-sm\x20resize-none\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500\x20disabled:opacity-50\x20disabled:cursor-not-allowed','style':{'maxHeight':'150px'}})}),_0x16bcad?(0x0,_0x1bef29[_0x373e92(0x17d)])(_0x373e92(0x1c9),{'onClick':_0x3060ec,'disabled':_0x18cf0c||_0x655c5a||_0x12d20f,'className':_0x373e92(0x1b7),'title':'Send','children':_0x12d20f?(0x0,_0x1bef29[_0x373e92(0x17d)])(_0x3dfd65[_0x373e92(0x183)],{'size':0x18,'className':_0x373e92(0x15b)}):(0x0,_0x1bef29['jsx'])(_0x39703a['Send'],{'size':0x18})}):(0x0,_0x1bef29['jsx'])(_0x373e92(0x1c9),{'className':_0x373e92(0x21b),'title':_0x373e92(0x227),'disabled':_0x18cf0c||_0x655c5a,'children':(0x0,_0x1bef29['jsx'])(_0x2412b8,{'size':0x18})})]})]});}let _0x496b23=(0x0,_0x13ef64['default'])(_0xdad3c0(0x133),[['rect',{'width':'18','height':'11','x':'3','y':'11','rx':'2','ry':'2','key':_0xdad3c0(0x18a)}],[_0xdad3c0(0x12c),{'d':_0xdad3c0(0x24c),'key':'1mm8w8'}]]);var _0x34638b=_0x56ded7['i'](0x13cf4),_0x35abb8=_0x56ded7['i'](0x512f),_0x5a798f=_0x56ded7['i'](0x754e),_0x239013=_0x56ded7['i'](0x66da),_0x3a0b42=_0x56ded7['i'](0x2a14),_0x47f1ce=_0x56ded7['i'](0xd19c),_0x227731=_0x56ded7['i'](0x1236e),_0x45fed1=_0x56ded7['i'](0x17972),_0xeed545=_0x56ded7['i'](0xbd29),_0x441f7f=_0x56ded7['i'](0x1670e),_0x179485=_0x56ded7['i'](0x10edc),_0xd979c9=_0x56ded7['i'](0xe813),[_0x3f783e,_0x2e6fe9]=(0x0,_0x5a798f[_0xdad3c0(0x1a4)])(_0xdad3c0(0x19b),[_0x47f1ce['createPopperScope']]),_0xcd86fc=(0x0,_0x47f1ce['createPopperScope'])(),_0xa95120='TooltipProvider',_0x420ab1='tooltip.open',[_0x54cb16,_0x120b3c]=_0x3f783e(_0xa95120),_0x522e55=_0x170216=>{const _0x2f5d98=_0xdad3c0;let {__scopeTooltip:_0x37c128,delayDuration:_0x496ef8=0x2bc,skipDelayDuration:_0x55c50a=0x12c,disableHoverableContent:_0x55aa0a=!0x1,children:_0x15b7ca}=_0x170216,_0xa803b=_0x27af4d['useRef'](!0x0),_0x317305=_0x27af4d[_0x2f5d98(0x142)](!0x1),_0x19c770=_0x27af4d['useRef'](0x0);return _0x27af4d[_0x2f5d98(0xae)](()=>{const _0x337f96=_0x2f5d98;let _0x242810=_0x19c770['current'];return()=>window[_0x337f96(0x89)](_0x242810);},[]),(0x0,_0x1bef29['jsx'])(_0x54cb16,{'scope':_0x37c128,'isOpenDelayedRef':_0xa803b,'delayDuration':_0x496ef8,'onOpen':_0x27af4d[_0x2f5d98(0x139)](()=>{const _0x31a958=_0x2f5d98;window['clearTimeout'](_0x19c770[_0x31a958(0x124)]),_0xa803b[_0x31a958(0x124)]=!0x1;},[]),'onClose':_0x27af4d['useCallback'](()=>{const _0x227c24=_0x2f5d98;window[_0x227c24(0x89)](_0x19c770['current']),_0x19c770[_0x227c24(0x124)]=window[_0x227c24(0x189)](()=>_0xa803b[_0x227c24(0x124)]=!0x0,_0x55c50a);},[_0x55c50a]),'isPointerInTransitRef':_0x317305,'onPointerInTransitChange':_0x27af4d['useCallback'](_0x575228=>{const _0x17c62c=_0x2f5d98;_0x317305[_0x17c62c(0x124)]=_0x575228;},[]),'disableHoverableContent':_0x55aa0a,'children':_0x15b7ca});};_0x522e55['displayName']=_0xa95120;var _0x9b1def='Tooltip',[_0x4870e5,_0x573fca]=_0x3f783e(_0x9b1def),_0x1c49dc=_0x2907de=>{const _0x44b27d=_0xdad3c0;let {__scopeTooltip:_0x382843,children:_0x468a9e,open:_0xdf55a6,defaultOpen:_0xe113c2,onOpenChange:_0x44df83,disableHoverableContent:_0x2ed5da,delayDuration:_0x3919ee}=_0x2907de,_0x155f2e=_0x120b3c(_0x9b1def,_0x2907de['__scopeTooltip']),_0xb6e9c6=_0xcd86fc(_0x382843),[_0x209b8f,_0x3083fd]=_0x27af4d['useState'](null),_0x107214=(0x0,_0x3a0b42['useId'])(),_0x660469=_0x27af4d['useRef'](0x0),_0x1c74c0=_0x2ed5da??_0x155f2e[_0x44b27d(0x164)],_0x514232=_0x3919ee??_0x155f2e['delayDuration'],_0x11cdfb=_0x27af4d['useRef'](!0x1),[_0x59905c,_0xa5b208]=(0x0,_0x179485[_0x44b27d(0xf1)])({'prop':_0xdf55a6,'defaultProp':_0xe113c2??!0x1,'onChange':_0xdf33b3=>{const _0x29c447=_0x44b27d;_0xdf33b3?(_0x155f2e[_0x29c447(0x11f)](),document['dispatchEvent'](new CustomEvent(_0x420ab1))):_0x155f2e[_0x29c447(0x114)](),_0x44df83?.(_0xdf33b3);},'caller':_0x9b1def}),_0x4e1a75=_0x27af4d['useMemo'](()=>_0x59905c?_0x11cdfb[_0x44b27d(0x124)]?'delayed-open':_0x44b27d(0x180):_0x44b27d(0x102),[_0x59905c]),_0x5e5e10=_0x27af4d['useCallback'](()=>{const _0x235f5c=_0x44b27d;window[_0x235f5c(0x89)](_0x660469['current']),_0x660469['current']=0x0,_0x11cdfb['current']=!0x1,_0xa5b208(!0x0);},[_0xa5b208]),_0x290f7c=_0x27af4d[_0x44b27d(0x139)](()=>{window['clearTimeout'](_0x660469['current']),_0x660469['current']=0x0,_0xa5b208(!0x1);},[_0xa5b208]),_0x33a647=_0x27af4d[_0x44b27d(0x139)](()=>{const _0x114bc9=_0x44b27d;window['clearTimeout'](_0x660469['current']),_0x660469[_0x114bc9(0x124)]=window[_0x114bc9(0x189)](()=>{_0x11cdfb['current']=!0x0,_0xa5b208(!0x0),_0x660469['current']=0x0;},_0x514232);},[_0x514232,_0xa5b208]);return _0x27af4d[_0x44b27d(0xae)](()=>()=>{const _0xd8438c=_0x44b27d;_0x660469['current']&&(window[_0xd8438c(0x89)](_0x660469['current']),_0x660469[_0xd8438c(0x124)]=0x0);},[]),(0x0,_0x1bef29['jsx'])(_0x47f1ce[_0x44b27d(0x87)],{..._0xb6e9c6,'children':(0x0,_0x1bef29['jsx'])(_0x4870e5,{'scope':_0x382843,'contentId':_0x107214,'open':_0x59905c,'stateAttribute':_0x4e1a75,'trigger':_0x209b8f,'onTriggerChange':_0x3083fd,'onTriggerEnter':_0x27af4d['useCallback'](()=>{const _0x5b99d4=_0x44b27d;_0x155f2e['isOpenDelayedRef'][_0x5b99d4(0x124)]?_0x33a647():_0x5e5e10();},[_0x155f2e['isOpenDelayedRef'],_0x33a647,_0x5e5e10]),'onTriggerLeave':_0x27af4d['useCallback'](()=>{const _0x4726bc=_0x44b27d;_0x1c74c0?_0x290f7c():(window[_0x4726bc(0x89)](_0x660469[_0x4726bc(0x124)]),_0x660469['current']=0x0);},[_0x290f7c,_0x1c74c0]),'onOpen':_0x5e5e10,'onClose':_0x290f7c,'disableHoverableContent':_0x1c74c0,'children':_0x468a9e})});};_0x1c49dc['displayName']=_0x9b1def;var _0x5727cf='TooltipTrigger',_0x1620b4=_0x27af4d['forwardRef']((_0x5d82c3,_0x1c42d5)=>{const _0x660d6e=_0xdad3c0;let {__scopeTooltip:_0x245e4b,..._0x59a07a}=_0x5d82c3,_0x54ee5a=_0x573fca(_0x5727cf,_0x245e4b),_0x23a61d=_0x120b3c(_0x5727cf,_0x245e4b),_0x2a8e8a=_0xcd86fc(_0x245e4b),_0x554b16=_0x27af4d['useRef'](null),_0x1a46c7=(0x0,_0x35abb8[_0x660d6e(0x9f)])(_0x1c42d5,_0x554b16,_0x54ee5a['onTriggerChange']),_0x14e322=_0x27af4d['useRef'](!0x1),_0x3c46f4=_0x27af4d[_0x660d6e(0x142)](!0x1),_0x53cb9b=_0x27af4d['useCallback'](()=>_0x14e322['current']=!0x1,[]);return _0x27af4d[_0x660d6e(0xae)](()=>()=>document['removeEventListener']('pointerup',_0x53cb9b),[_0x53cb9b]),(0x0,_0x1bef29['jsx'])(_0x47f1ce[_0x660d6e(0x1fa)],{'asChild':!0x0,..._0x2a8e8a,'children':(0x0,_0x1bef29[_0x660d6e(0x17d)])(_0xeed545['Primitive']['button'],{'aria-describedby':_0x54ee5a[_0x660d6e(0x22d)]?_0x54ee5a['contentId']:void 0x0,'data-state':_0x54ee5a['stateAttribute'],..._0x59a07a,'ref':_0x1a46c7,'onPointerMove':(0x0,_0x34638b[_0x660d6e(0x185)])(_0x5d82c3[_0x660d6e(0x20e)],_0x408d8f=>{const _0x5f3a24=_0x660d6e;_0x5f3a24(0x160)!==_0x408d8f['pointerType']&&(_0x3c46f4['current']||_0x23a61d[_0x5f3a24(0x19a)]['current']||(_0x54ee5a[_0x5f3a24(0x153)](),_0x3c46f4[_0x5f3a24(0x124)]=!0x0));}),'onPointerLeave':(0x0,_0x34638b[_0x660d6e(0x185)])(_0x5d82c3['onPointerLeave'],()=>{const _0x3f918d=_0x660d6e;_0x54ee5a[_0x3f918d(0x219)](),_0x3c46f4[_0x3f918d(0x124)]=!0x1;}),'onPointerDown':(0x0,_0x34638b['composeEventHandlers'])(_0x5d82c3[_0x660d6e(0x95)],()=>{const _0x1ccc05=_0x660d6e;_0x54ee5a[_0x1ccc05(0x22d)]&&_0x54ee5a['onClose'](),_0x14e322['current']=!0x0,document['addEventListener'](_0x1ccc05(0x172),_0x53cb9b,{'once':!0x0});}),'onFocus':(0x0,_0x34638b['composeEventHandlers'])(_0x5d82c3['onFocus'],()=>{_0x14e322['current']||_0x54ee5a['onOpen']();}),'onBlur':(0x0,_0x34638b[_0x660d6e(0x185)])(_0x5d82c3['onBlur'],_0x54ee5a[_0x660d6e(0x114)]),'onClick':(0x0,_0x34638b[_0x660d6e(0x185)])(_0x5d82c3['onClick'],_0x54ee5a['onClose'])})});});_0x1620b4['displayName']=_0x5727cf;var _0x3c7787=_0xdad3c0(0xb3),[_0x57b283,_0x346122]=_0x3f783e(_0x3c7787,{'forceMount':void 0x0}),_0x47f90a=_0x1ca58b=>{const _0x3b7dba=_0xdad3c0;let {__scopeTooltip:_0x1b66ba,forceMount:_0x96baf9,children:_0x107166,container:_0x274122}=_0x1ca58b,_0x5b794d=_0x573fca(_0x3c7787,_0x1b66ba);return(0x0,_0x1bef29['jsx'])(_0x57b283,{'scope':_0x1b66ba,'forceMount':_0x96baf9,'children':(0x0,_0x1bef29['jsx'])(_0x45fed1[_0x3b7dba(0x190)],{'present':_0x96baf9||_0x5b794d[_0x3b7dba(0x22d)],'children':(0x0,_0x1bef29['jsx'])(_0x227731[_0x3b7dba(0x166)],{'asChild':!0x0,'container':_0x274122,'children':_0x107166})})});};_0x47f90a['displayName']=_0x3c7787;var _0x50ffbf=_0xdad3c0(0xe5),_0x34cc5f=_0x27af4d[_0xdad3c0(0x188)]((_0x55c1fa,_0x4a64ff)=>{const _0x456a96=_0xdad3c0;let _0x101891=_0x346122(_0x50ffbf,_0x55c1fa[_0x456a96(0x8d)]),{forceMount:_0xb5cd1b=_0x101891[_0x456a96(0x1ae)],side:_0x34fea4=_0x456a96(0xd4),..._0x154759}=_0x55c1fa,_0x3b3ee0=_0x573fca(_0x50ffbf,_0x55c1fa[_0x456a96(0x8d)]);return(0x0,_0x1bef29['jsx'])(_0x45fed1['Presence'],{'present':_0xb5cd1b||_0x3b3ee0[_0x456a96(0x22d)],'children':_0x3b3ee0[_0x456a96(0x164)]?(0x0,_0x1bef29['jsx'])(_0x18a6bd,{'side':_0x34fea4,..._0x154759,'ref':_0x4a64ff}):(0x0,_0x1bef29['jsx'])(_0x12d286,{'side':_0x34fea4,..._0x154759,'ref':_0x4a64ff})});}),_0x12d286=_0x27af4d['forwardRef']((_0x3f963c,_0x27344a)=>{const _0x4a5177=_0xdad3c0;let _0x5ec463=_0x573fca(_0x50ffbf,_0x3f963c[_0x4a5177(0x8d)]),_0x380008=_0x120b3c(_0x50ffbf,_0x3f963c[_0x4a5177(0x8d)]),_0x313e39=_0x27af4d['useRef'](null),_0x4e39a3=(0x0,_0x35abb8[_0x4a5177(0x9f)])(_0x27344a,_0x313e39),[_0x5433ea,_0x2ac25d]=_0x27af4d[_0x4a5177(0x88)](null),{trigger:_0x5a8cdf,onClose:_0x26ec82}=_0x5ec463,_0x56aaa3=_0x313e39[_0x4a5177(0x124)],{onPointerInTransitChange:_0x122b6c}=_0x380008,_0x5d98a6=_0x27af4d[_0x4a5177(0x139)](()=>{_0x2ac25d(null),_0x122b6c(!0x1);},[_0x122b6c]),_0x24e302=_0x27af4d[_0x4a5177(0x139)]((_0x1f6aad,_0x7e19ec)=>{const _0x43393e=_0x4a5177;let _0x346648,_0x58ba40=_0x1f6aad['currentTarget'],_0x3a7cf3={'x':_0x1f6aad[_0x43393e(0x9d)],'y':_0x1f6aad[_0x43393e(0x1de)]},_0x23c998=function(_0x3d78a8,_0x4a6ebf){const _0x34c3b0=_0x43393e;let _0x330665=Math[_0x34c3b0(0x147)](_0x4a6ebf['top']-_0x3d78a8['y']),_0x133ef2=Math[_0x34c3b0(0x147)](_0x4a6ebf['bottom']-_0x3d78a8['y']),_0x525423=Math['abs'](_0x4a6ebf[_0x34c3b0(0x132)]-_0x3d78a8['x']),_0x3a587d=Math['abs'](_0x4a6ebf[_0x34c3b0(0x198)]-_0x3d78a8['x']);switch(Math['min'](_0x330665,_0x133ef2,_0x525423,_0x3a587d)){case _0x3a587d:return _0x34c3b0(0x198);case _0x525423:return'right';case _0x330665:return _0x34c3b0(0xd4);case _0x133ef2:return _0x34c3b0(0x1d9);default:throw Error('unreachable');}}(_0x3a7cf3,_0x58ba40[_0x43393e(0xa6)]());_0x2ac25d(((_0x346648=[...function(_0x357824,_0x14711f,_0x55a8b0=0x5){const _0x22a7f9=_0x43393e;let _0x11521a=[];switch(_0x14711f){case'top':_0x11521a['push']({'x':_0x357824['x']-_0x55a8b0,'y':_0x357824['y']+_0x55a8b0},{'x':_0x357824['x']+_0x55a8b0,'y':_0x357824['y']+_0x55a8b0});break;case'bottom':_0x11521a[_0x22a7f9(0x1ed)]({'x':_0x357824['x']-_0x55a8b0,'y':_0x357824['y']-_0x55a8b0},{'x':_0x357824['x']+_0x55a8b0,'y':_0x357824['y']-_0x55a8b0});break;case'left':_0x11521a['push']({'x':_0x357824['x']+_0x55a8b0,'y':_0x357824['y']-_0x55a8b0},{'x':_0x357824['x']+_0x55a8b0,'y':_0x357824['y']+_0x55a8b0});break;case _0x22a7f9(0x132):_0x11521a['push']({'x':_0x357824['x']-_0x55a8b0,'y':_0x357824['y']-_0x55a8b0},{'x':_0x357824['x']-_0x55a8b0,'y':_0x357824['y']+_0x55a8b0});}return _0x11521a;}(_0x3a7cf3,_0x23c998),...function(_0x2e4c84){let {top:_0x1189ba,right:_0x35a429,bottom:_0x46da73,left:_0x18a1b2}=_0x2e4c84;return[{'x':_0x18a1b2,'y':_0x1189ba},{'x':_0x35a429,'y':_0x1189ba},{'x':_0x35a429,'y':_0x46da73},{'x':_0x18a1b2,'y':_0x46da73}];}(_0x7e19ec['getBoundingClientRect']())]['slice']())[_0x43393e(0x1ea)]((_0x1adcd6,_0x3fbc48)=>_0x1adcd6['x']<_0x3fbc48['x']?-0x1:_0x1adcd6['x']>_0x3fbc48['x']?0x1:_0x1adcd6['y']<_0x3fbc48['y']?-0x1:0x1*!!(_0x1adcd6['y']>_0x3fbc48['y'])),function(_0x55c823){const _0x19ec0a=_0x43393e;if(_0x55c823['length']<=0x1)return _0x55c823[_0x19ec0a(0x17e)]();let _0x5f4acb=[];for(let _0x146d79=0x0;_0x146d79<_0x55c823['length'];_0x146d79++){let _0x4efdad=_0x55c823[_0x146d79];for(;_0x5f4acb['length']>=0x2;){let _0x29c784=_0x5f4acb[_0x5f4acb['length']-0x1],_0xaf4528=_0x5f4acb[_0x5f4acb[_0x19ec0a(0x203)]-0x2];if((_0x29c784['x']-_0xaf4528['x'])*(_0x4efdad['y']-_0xaf4528['y'])>=(_0x29c784['y']-_0xaf4528['y'])*(_0x4efdad['x']-_0xaf4528['x']))_0x5f4acb[_0x19ec0a(0x118)]();else break;}_0x5f4acb[_0x19ec0a(0x1ed)](_0x4efdad);}_0x5f4acb['pop']();let _0x5040dc=[];for(let _0x2cff5b=_0x55c823[_0x19ec0a(0x203)]-0x1;_0x2cff5b>=0x0;_0x2cff5b--){let _0x20fabe=_0x55c823[_0x2cff5b];for(;_0x5040dc[_0x19ec0a(0x203)]>=0x2;){let _0x26740d=_0x5040dc[_0x5040dc['length']-0x1],_0x35ed54=_0x5040dc[_0x5040dc[_0x19ec0a(0x203)]-0x2];if((_0x26740d['x']-_0x35ed54['x'])*(_0x20fabe['y']-_0x35ed54['y'])>=(_0x26740d['y']-_0x35ed54['y'])*(_0x20fabe['x']-_0x35ed54['x']))_0x5040dc['pop']();else break;}_0x5040dc['push'](_0x20fabe);}return(_0x5040dc['pop'](),0x1===_0x5f4acb[_0x19ec0a(0x203)]&&0x1===_0x5040dc[_0x19ec0a(0x203)]&&_0x5f4acb[0x0]['x']===_0x5040dc[0x0]['x']&&_0x5f4acb[0x0]['y']===_0x5040dc[0x0]['y'])?_0x5f4acb:_0x5f4acb['concat'](_0x5040dc);}(_0x346648))),_0x122b6c(!0x0);},[_0x122b6c]);return _0x27af4d[_0x4a5177(0xae)](()=>()=>_0x5d98a6(),[_0x5d98a6]),_0x27af4d[_0x4a5177(0xae)](()=>{const _0x5eb115=_0x4a5177;if(_0x5a8cdf&&_0x56aaa3){let _0x3466ca=_0xfa5b0e=>_0x24e302(_0xfa5b0e,_0x56aaa3),_0x281780=_0x1053a0=>_0x24e302(_0x1053a0,_0x5a8cdf);return _0x5a8cdf['addEventListener'](_0x5eb115(0xfc),_0x3466ca),_0x56aaa3[_0x5eb115(0x157)](_0x5eb115(0xfc),_0x281780),()=>{const _0x583c3e=_0x5eb115;_0x5a8cdf['removeEventListener'](_0x583c3e(0xfc),_0x3466ca),_0x56aaa3[_0x583c3e(0x1e4)](_0x583c3e(0xfc),_0x281780);};}},[_0x5a8cdf,_0x56aaa3,_0x24e302,_0x5d98a6]),_0x27af4d[_0x4a5177(0xae)](()=>{const _0x4eb113=_0x4a5177;if(_0x5433ea){let _0x13d899=_0x1bc68f=>{let _0x7627d9=_0x1bc68f['target'],_0x5e07d2={'x':_0x1bc68f['clientX'],'y':_0x1bc68f['clientY']},_0x1e5d34=_0x5a8cdf?.['contains'](_0x7627d9)||_0x56aaa3?.['contains'](_0x7627d9),_0x94b328=!function(_0x23ba9b,_0x2d77c7){let {x:_0x40ac5a,y:_0x16c160}=_0x23ba9b,_0x291210=!0x1;for(let _0x24cfeb=0x0,_0x340ad3=_0x2d77c7['length']-0x1;_0x24cfeb<_0x2d77c7['length'];_0x340ad3=_0x24cfeb++){let _0x21cb20=_0x2d77c7[_0x24cfeb],_0xfa48b0=_0x2d77c7[_0x340ad3],_0x92e0be=_0x21cb20['x'],_0x4de5a6=_0x21cb20['y'],_0x3925bd=_0xfa48b0['x'],_0x19ebdb=_0xfa48b0['y'];_0x4de5a6>_0x16c160!=_0x19ebdb>_0x16c160&&_0x40ac5a<(_0x3925bd-_0x92e0be)*(_0x16c160-_0x4de5a6)/(_0x19ebdb-_0x4de5a6)+_0x92e0be&&(_0x291210=!_0x291210);}return _0x291210;}(_0x5e07d2,_0x5433ea);_0x1e5d34?_0x5d98a6():_0x94b328&&(_0x5d98a6(),_0x26ec82());};return document['addEventListener']('pointermove',_0x13d899),()=>document[_0x4eb113(0x1e4)](_0x4eb113(0xb1),_0x13d899);}},[_0x5a8cdf,_0x56aaa3,_0x5433ea,_0x26ec82,_0x5d98a6]),(0x0,_0x1bef29['jsx'])(_0x18a6bd,{..._0x3f963c,'ref':_0x4e39a3});}),[_0x38f4e9,_0x5d0216]=_0x3f783e(_0x9b1def,{'isInside':!0x1}),_0xe685c5=(0x0,_0x441f7f['createSlottable'])('TooltipContent'),_0x18a6bd=_0x27af4d['forwardRef']((_0x4a0fd2,_0x19e07b)=>{const _0x226fe6=_0xdad3c0;let {__scopeTooltip:_0x4fdcc3,children:_0x4d7c74,'aria-label':_0x133ad7,onEscapeKeyDown:_0xe8f4a3,onPointerDownOutside:_0x3637f5,..._0x3c7fe3}=_0x4a0fd2,_0x558952=_0x573fca(_0x50ffbf,_0x4fdcc3),_0x3440df=_0xcd86fc(_0x4fdcc3),{onClose:_0x788740}=_0x558952;return _0x27af4d['useEffect'](()=>(document[_0x226fe6(0x157)](_0x420ab1,_0x788740),()=>document['removeEventListener'](_0x420ab1,_0x788740)),[_0x788740]),_0x27af4d[_0x226fe6(0xae)](()=>{const _0x5a3d23=_0x226fe6;if(_0x558952[_0x5a3d23(0x13a)]){let _0x41c89c=_0x42b3e8=>{const _0x521850=_0x5a3d23;let _0x1031b9=_0x42b3e8['target'];_0x1031b9?.[_0x521850(0x136)](_0x558952['trigger'])&&_0x788740();};return window['addEventListener']('scroll',_0x41c89c,{'capture':!0x0}),()=>window[_0x5a3d23(0x1e4)]('scroll',_0x41c89c,{'capture':!0x0});}},[_0x558952[_0x226fe6(0x13a)],_0x788740]),(0x0,_0x1bef29['jsx'])(_0x239013[_0x226fe6(0x138)],{'asChild':!0x0,'disableOutsidePointerEvents':!0x1,'onEscapeKeyDown':_0xe8f4a3,'onPointerDownOutside':_0x3637f5,'onFocusOutside':_0x3ebc9c=>_0x3ebc9c['preventDefault'](),'onDismiss':_0x788740,'children':(0x0,_0x1bef29['jsxs'])(_0x47f1ce['Content'],{'data-state':_0x558952[_0x226fe6(0xcd)],..._0x3440df,..._0x3c7fe3,'ref':_0x19e07b,'style':{..._0x3c7fe3['style'],'--radix-tooltip-content-transform-origin':'var(--radix-popper-transform-origin)','--radix-tooltip-content-available-width':_0x226fe6(0x111),'--radix-tooltip-content-available-height':'var(--radix-popper-available-height)','--radix-tooltip-trigger-width':'var(--radix-popper-anchor-width)','--radix-tooltip-trigger-height':_0x226fe6(0xc0)},'children':[(0x0,_0x1bef29[_0x226fe6(0x17d)])(_0xe685c5,{'children':_0x4d7c74}),(0x0,_0x1bef29['jsx'])(_0x38f4e9,{'scope':_0x4fdcc3,'isInside':!0x0,'children':(0x0,_0x1bef29['jsx'])(_0xd979c9['Root'],{'id':_0x558952[_0x226fe6(0xdf)],'role':_0x226fe6(0x22b),'children':_0x133ad7||_0x4d7c74})})]})});});_0x34cc5f[_0xdad3c0(0x177)]=_0x50ffbf;var _0x56c45c='TooltipArrow',_0xcba12e=_0x27af4d[_0xdad3c0(0x188)]((_0xf687d6,_0x31e07d)=>{const _0x152c1a=_0xdad3c0;let {__scopeTooltip:_0x10efb4,..._0x4e1e1e}=_0xf687d6,_0x52666d=_0xcd86fc(_0x10efb4);return _0x5d0216(_0x56c45c,_0x10efb4)[_0x152c1a(0x178)]?null:(0x0,_0x1bef29['jsx'])(_0x47f1ce['Arrow'],{..._0x52666d,..._0x4e1e1e,'ref':_0x31e07d});});function _0x400700(){const _0x342911=_0xdad3c0;let {isLocked:_0x1324c3,lockKey:_0x4de3b6,unlockKey:_0x58dcf9}=(0x0,_0x449afa[_0x342911(0x21f)])(),[_0x242d66,_0x5caa21]=(0x0,_0x27af4d[_0x342911(0x88)])(!0x1),[_0x4de7d7,_0x1f2779]=(0x0,_0x27af4d['useState'])(''),[_0x2d7388,_0x462da3]=(0x0,_0x27af4d['useState'])(null),[_0x4385ad,_0x448a96]=(0x0,_0x27af4d['useState'])(!0x1),_0x477e71=async _0x3d7322=>{const _0x538dbc=_0x342911;_0x3d7322[_0x538dbc(0x155)](),_0x462da3(null),_0x448a96(!0x0);try{await _0x58dcf9(_0x4de7d7)?(_0x5caa21(!0x1),_0x1f2779('')):_0x462da3('Invalid\x20passphrase.\x20Please\x20try\x20again.');}catch(_0x49bc5b){_0x462da3('Failed\x20to\x20unlock.\x20Please\x20try\x20again.');}finally{_0x448a96(!0x1);}};return _0x242d66?(0x0,_0x1bef29[_0x342911(0x17d)])('div',{'className':_0x342911(0xe9),'children':(0x0,_0x1bef29[_0x342911(0x121)])('div',{'className':_0x342911(0x230),'children':[(0x0,_0x1bef29['jsx'])('h2',{'className':'text-xl\x20font-bold\x20mb-2','children':'Unlock\x20Chat'}),(0x0,_0x1bef29['jsx'])('p',{'className':'text-sm\x20text-neutral-400\x20mb-4','children':_0x342911(0x9c)}),_0x2d7388&&(0x0,_0x1bef29[_0x342911(0x17d)])(_0x342911(0x1be),{'className':'mb-4\x20p-3\x20bg-red-500/10\x20border\x20border-red-500/20\x20rounded-lg\x20text-red-500\x20text-sm','children':_0x2d7388}),(0x0,_0x1bef29[_0x342911(0x121)])('form',{'onSubmit':_0x477e71,'className':'space-y-4','children':[(0x0,_0x1bef29['jsxs'])(_0x342911(0x1be),{'children':[(0x0,_0x1bef29[_0x342911(0x17d)])(_0x342911(0x1bd),{'htmlFor':'passphrase','className':'block\x20text-sm\x20font-medium\x20text-neutral-300\x20mb-1','children':_0x342911(0x232)}),(0x0,_0x1bef29[_0x342911(0x17d)])(_0x342911(0x1cf),{'id':_0x342911(0xfd),'type':'password','value':_0x4de7d7,'onChange':_0x575e9f=>_0x1f2779(_0x575e9f[_0x342911(0x1eb)][_0x342911(0x216)]),'required':!0x0,'autoFocus':!0x0,'className':_0x342911(0x252),'placeholder':'Your\x20encryption\x20passphrase'})]}),(0x0,_0x1bef29[_0x342911(0x121)])(_0x342911(0x1be),{'className':'flex\x20gap-2','children':[(0x0,_0x1bef29['jsx'])(_0x342911(0x1c9),{'type':_0x342911(0x1c9),'onClick':()=>{_0x5caa21(!0x1),_0x1f2779(''),_0x462da3(null);},'className':_0x342911(0x120),'children':_0x342911(0x141)}),(0x0,_0x1bef29['jsx'])('button',{'type':_0x342911(0x249),'disabled':_0x4385ad||!_0x4de7d7,'className':'flex-1\x20py-2\x20bg-blue-600\x20hover:bg-blue-700\x20disabled:bg-blue-800\x20disabled:cursor-not-allowed\x20rounded-lg\x20font-medium\x20transition-colors','children':_0x4385ad?'Unlocking...':_0x342911(0xab)})]})]})]})}):(0x0,_0x1bef29['jsx'])(_0x522e55,{'children':(0x0,_0x1bef29['jsxs'])(_0x1c49dc,{'delayDuration':0x12c,'children':[(0x0,_0x1bef29['jsx'])(_0x1620b4,{'asChild':!0x0,'children':(0x0,_0x1bef29[_0x342911(0x17d)])(_0x342911(0x1c9),{'onClick':_0x1324c3?()=>{_0x5caa21(!0x0),_0x462da3(null),_0x1f2779('');}:()=>{_0x4de3b6();},'className':_0x342911(0x15d)+(_0x1324c3?_0x342911(0x12b):'text-green-400\x20hover:bg-green-500/10\x20hover:text-green-300'),'aria-label':_0x1324c3?'Unlock\x20chat':_0x342911(0x211),'children':_0x1324c3?(0x0,_0x1bef29[_0x342911(0x17d)])(_0x2f90a7['Lock'],{'size':0x14}):(0x0,_0x1bef29['jsx'])(_0x496b23,{'size':0x14})})}),(0x0,_0x1bef29[_0x342911(0x17d)])(_0x47f90a,{'children':(0x0,_0x1bef29['jsxs'])(_0x34cc5f,{'side':'bottom','align':_0x342911(0xc9),'className':_0x342911(0xad),'sideOffset':0x5,'children':[_0x1324c3?(0x0,_0x1bef29['jsxs'])(_0x1bef29[_0x342911(0x248)],{'children':[(0x0,_0x1bef29['jsx'])('p',{'className':_0x342911(0x1ef),'children':_0x342911(0x179)}),(0x0,_0x1bef29[_0x342911(0x17d)])('p',{'className':'text-neutral-400\x20text-xs','children':'Click\x20to\x20unlock\x20and\x20decrypt\x20messages'})]}):(0x0,_0x1bef29[_0x342911(0x121)])(_0x1bef29['Fragment'],{'children':[(0x0,_0x1bef29[_0x342911(0x17d)])('p',{'className':'font-medium','children':_0x342911(0x1e0)}),(0x0,_0x1bef29[_0x342911(0x17d)])('p',{'className':'text-neutral-400\x20text-xs','children':_0x342911(0xe4)})]}),(0x0,_0x1bef29[_0x342911(0x17d)])(_0xcba12e,{'className':'fill-neutral-700'})]})})]})});}_0xcba12e['displayName']=_0x56c45c;var _0x3f589e=_0x56ded7['i'](0x11809);let _0x3822db=(0x0,_0x13ef64['default'])(_0xdad3c0(0x1d0),[['path',{'d':'M13.832\x2016.568a1\x201\x200\x200\x200\x201.213-.303l.355-.465A2\x202\x200\x200\x201\x2017\x2015h3a2\x202\x200\x200\x201\x202\x202v3a2\x202\x200\x200\x201-2\x202A18\x2018\x200\x200\x201\x202\x204a2\x202\x200\x200\x201\x202-2h3a2\x202\x200\x200\x201\x202\x202v3a2\x202\x200\x200\x201-.8\x201.6l-.468.351a1\x201\x200\x200\x200-.292\x201.233\x2014\x2014\x200\x200\x200\x206.392\x206.384','key':'9njp5v'}]]);var _0x289391=_0x56ded7['i'](0x1337c),_0x24b633=_0x56ded7['i'](0x5c21),_0x145bdd=_0x56ded7['i'](0x18267);function _0x311a53({chat:_0x1521e5,onBack:_0x1103b2}){const _0x503692=_0xdad3c0;let {user:_0x96b16d,privateKey:_0x37621a,isKeyUnlocked:_0x5ae98d}=(0x0,_0x449afa[_0x503692(0x21f)])(),[_0x1f9ce8,_0x2733fe]=(0x0,_0x27af4d['useState'])([]),[_0x53efc2,_0x354898]=(0x0,_0x27af4d['useState'])(!0x0),[_0x591bf2,_0x118b04]=(0x0,_0x27af4d[_0x503692(0x88)])(!0x1),[_0x43a223,_0x396062]=(0x0,_0x27af4d[_0x503692(0x88)])(null),[_0xb2d048,_0x34013f]=(0x0,_0x27af4d[_0x503692(0x88)])(null),[_0x2a21cc,_0x4c9e9b]=(0x0,_0x27af4d['useState'])(null),_0x56f3ba=(0x0,_0x27af4d['useRef'])(null),_0x8be4a8=(0x0,_0x27af4d[_0x503692(0x142)])(null),_0x1d30e2=(0x0,_0x27af4d['useCallback'])(()=>{const _0x46a3e2=_0x503692;_0x56f3ba[_0x46a3e2(0x124)]?.['scrollIntoView']({'behavior':'smooth'});},[]);(0x0,_0x27af4d['useEffect'])(()=>{_0x1d30e2();},[_0x1f9ce8,_0x1d30e2]),(0x0,_0x27af4d['useEffect'])(()=>{const _0x3c56f9=_0x503692;_0x96b16d&&_0x5ae98d&&('dm'===_0x1521e5[_0x3c56f9(0x215)]?_0x4e5cad():_0x5cf591(),_0x259ed6());},[_0x96b16d,_0x1521e5,_0x5ae98d]);let _0x259ed6=async()=>{const _0x37c10e=_0x503692;try{let _0x584521=await _0x55676b[_0x37c10e(0x21d)]['auth']['getSession'](),_0x7f118=_0x584521[_0x37c10e(0x9a)]['session']?.[_0x37c10e(0xdc)],_0x3d7c75=await fetch(_0x37c10e(0x171),{'method':_0x37c10e(0x221),'headers':{'Content-Type':_0x37c10e(0x1da),'Authorization':'Bearer\x20'+_0x7f118}}),_0x5b629f=await _0x3d7c75['json']();_0x5b629f['success']&&_0x4c9e9b(_0x5b629f['remaining']);}catch(_0x77a45b){console['error']('Failed\x20to\x20fetch\x20message\x20count:',_0x77a45b);}},_0x4e5cad=async()=>{const _0x211016=_0x503692;_0x354898(!0x0);try{let _0x4b8495=await _0x55676b[_0x211016(0x21d)][_0x211016(0xa0)][_0x211016(0xd9)](),_0x1d6fbe=_0x4b8495['data']['session']?.['access_token'],_0xd2b380=await fetch(_0x211016(0x18e),{'method':_0x211016(0x221),'headers':{'Content-Type':'application/json','Authorization':_0x211016(0x117)+_0x1d6fbe},'body':JSON['stringify']({'userId':_0x1521e5['id']})}),_0x4cbce9=await _0xd2b380['json']();if(_0x4cbce9['success']){_0x34013f(_0x4cbce9['otherUser']['publicKey']);let _0x5ac2ef=await _0x8d4568(_0x4cbce9[_0x211016(0x220)],_0x4cbce9['otherUser']['publicKey']);_0x2733fe(_0x5ac2ef);}}catch(_0x3bf2c1){console['error'](_0x211016(0x217),_0x3bf2c1);}finally{_0x354898(!0x1);}},_0x5cf591=async()=>{const _0x57fd48=_0x503692;_0x354898(!0x0);try{let _0x1a1ecb=await _0x55676b[_0x57fd48(0x21d)]['auth'][_0x57fd48(0xd9)](),_0x53be74=_0x1a1ecb[_0x57fd48(0x9a)][_0x57fd48(0xda)]?.['access_token'],_0x1062ec=await fetch('http://localhost:8100/functions/v1/get-messages',{'method':_0x57fd48(0x221),'headers':{'Content-Type':'application/json','Authorization':_0x57fd48(0x117)+_0x53be74},'body':JSON[_0x57fd48(0x234)]({'roomId':_0x1521e5['id']})}),_0x1e2d90=await _0x1062ec['json']();if(_0x1e2d90[_0x57fd48(0x233)]){let _0x905309=_0x1e2d90['messages']['map'](_0x26b84c=>({..._0x26b84c,'content':_0x26b84c['isSystem']?'joined\x20the\x20room':_0x57fd48(0xd5)}));_0x2733fe(_0x905309);}}catch(_0x290b66){console['error'](_0x57fd48(0xd8),_0x290b66);}finally{_0x354898(!0x1);}},_0x8d4568=async(_0x315bf3,_0x858769)=>{const _0x36ee9b=_0x503692;if(!_0x37621a||!_0x858769)return _0x315bf3['map'](_0x4eb160=>({..._0x4eb160,'content':'[Key\x20required\x20to\x20decrypt]'}));try{let _0x52477f=await(0x0,_0x226f3a['importPublicKey'])(_0x858769),_0xd4e5b0=await(0x0,_0x226f3a['deriveSharedSecret'])(_0x37621a,_0x52477f);return await Promise[_0x36ee9b(0x19c)](_0x315bf3[_0x36ee9b(0xb9)](async _0x1b3232=>{const _0x42024c=_0x36ee9b;if(_0x1b3232['isSystem'])return{..._0x1b3232,'content':_0x42024c(0x11e)};try{let _0x2d7217=await(0x0,_0x226f3a['decryptSymmetric'])({'ciphertext':_0x1b3232['encryptedContent'],'nonce':_0x1b3232['nonce']},_0xd4e5b0);return{..._0x1b3232,'content':_0x2d7217};}catch{return{..._0x1b3232,'content':'[Failed\x20to\x20decrypt]'};}}));}catch{return _0x315bf3[_0x36ee9b(0xb9)](_0x122a3a=>({..._0x122a3a,'content':'[Decryption\x20error]'}));}},_0x19939=async _0x515085=>{const _0x2ce3b7=_0x503692;if(_0x96b16d&&_0x37621a){_0x118b04(!0x0);try{let _0x192f59=await _0x55676b['supabase'][_0x2ce3b7(0xa0)]['getSession'](),_0x918a4d=_0x192f59[_0x2ce3b7(0x9a)][_0x2ce3b7(0xda)]?.['access_token'];if('dm'===_0x1521e5['type']){if(!_0xb2d048)return void console['error']('No\x20public\x20key\x20for\x20recipient');let {encryptSymmetric:_0x60fad8,deriveSharedSecret:_0x3f87f8,importPublicKey:_0x492758}=await _0x56ded7['A'](0x183d9),_0x3d9ff7=await _0x492758(_0xb2d048),_0x3f2ff1=await _0x3f87f8(_0x37621a,_0x3d9ff7),{ciphertext:_0x97acbf,nonce:_0x2b76d8}=await _0x60fad8(_0x515085,_0x3f2ff1),{ciphertext:_0x22a2a1}=await _0x60fad8(_0x515085,_0x3f2ff1),_0x1bcc04=await fetch('http://localhost:8100/functions/v1/send-dm',{'method':'POST','headers':{'Content-Type':_0x2ce3b7(0x1da),'Authorization':'Bearer\x20'+_0x918a4d},'body':JSON['stringify']({'recipientId':_0x1521e5['id'],'encryptedContentSender':_0x97acbf,'encryptedContentRecipient':_0x22a2a1,'nonce':_0x2b76d8,'replyTo':_0x43a223?.['id']})}),_0x358401=await _0x1bcc04[_0x2ce3b7(0x1a5)]();if(_0x358401['success']){let _0x5055e1={'id':_0x358401['message']['id'],'senderId':_0x96b16d['id'],'senderName':_0x96b16d[_0x2ce3b7(0x100)]||_0x2ce3b7(0x24e),'content':_0x515085,'isMine':!0x0,'createdAt':_0x358401[_0x2ce3b7(0x23c)][_0x2ce3b7(0x134)],'replyTo':_0x43a223?.['id'],'replyToContent':_0x43a223?.['content']};_0x2733fe(_0xf4a1d4=>[..._0xf4a1d4,_0x5055e1]),_0x396062(null),null!==_0x2a21cc&&_0x4c9e9b(Math['max'](0x0,_0x2a21cc-0x1));}else console['error'](_0x2ce3b7(0x1f9),_0x358401['error']);}else{let _0x685ff9=await fetch(_0x2ce3b7(0x1cc),{'method':'POST','headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x918a4d},'body':JSON[_0x2ce3b7(0x234)]({'roomId':_0x1521e5['id'],'encryptedContent':_0x515085,'nonce':_0x2ce3b7(0x167),'replyTo':_0x43a223?.['id']})}),_0x3c74e5=await _0x685ff9[_0x2ce3b7(0x1a5)]();if(_0x3c74e5['success']){let _0x111590={'id':_0x3c74e5[_0x2ce3b7(0x23c)]['id'],'senderId':_0x96b16d['id'],'senderName':_0x96b16d[_0x2ce3b7(0x100)]||'You','content':_0x515085,'isMine':!0x0,'createdAt':_0x3c74e5[_0x2ce3b7(0x23c)]['createdAt']};_0x2733fe(_0xbe9bf1=>[..._0xbe9bf1,_0x111590]),_0x396062(null),null!==_0x2a21cc&&_0x4c9e9b(Math[_0x2ce3b7(0xb4)](0x0,_0x2a21cc-0x1));}}}catch(_0x25cdbf){console[_0x2ce3b7(0x1c6)](_0x2ce3b7(0x255),_0x25cdbf);}finally{_0x118b04(!0x1);}}};return(0x0,_0x1bef29['jsxs'])(_0x503692(0x1be),{'className':_0x503692(0x1cd),'children':[(0x0,_0x1bef29['jsxs'])('div',{'className':'h-16\x20px-4\x20flex\x20items-center\x20justify-between\x20bg-neutral-900\x20border-b\x20border-neutral-800','children':[(0x0,_0x1bef29['jsxs'])(_0x503692(0x1be),{'className':_0x503692(0x1c3),'children':[(0x0,_0x1bef29['jsx'])(_0x503692(0x1c9),{'onClick':_0x1103b2,'className':_0x503692(0x201),'children':(0x0,_0x1bef29['jsx'])(_0x3f589e[_0x503692(0xd7)],{'size':0x18})}),(0x0,_0x1bef29[_0x503692(0x17d)])(_0x503692(0x1be),{'className':'w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-blue-500\x20to-blue-600\x20flex\x20items-center\x20justify-center\x20text-lg\x20font-semibold','children':_0x1521e5[_0x503692(0x159)]?(0x0,_0x1bef29[_0x503692(0x17d)])(_0x503692(0x1e8),{'src':_0x1521e5[_0x503692(0x159)],'alt':'','className':_0x503692(0xf4)}):'room'===_0x1521e5['type']?(0x0,_0x1bef29[_0x503692(0x17d)])(_0x21c2e3[_0x503692(0x218)],{'size':0x14,'className':_0x503692(0x1bb)}):_0x1521e5[_0x503692(0x128)][_0x503692(0xcf)](0x0)[_0x503692(0x231)]()}),(0x0,_0x1bef29['jsxs'])('div',{'children':[(0x0,_0x1bef29['jsx'])('h2',{'className':_0x503692(0x1ef),'children':_0x1521e5[_0x503692(0x128)]}),(0x0,_0x1bef29['jsx'])('p',{'className':_0x503692(0x156),'children':'room'===_0x1521e5[_0x503692(0x215)]?(0x0,_0x1bef29[_0x503692(0x17d)])('span',{'className':_0x503692(0x23f),'children':_0x1521e5['isPublic']?_0x503692(0x1f7):_0x503692(0x8a)}):'tap\x20here\x20for\x20contact\x20info'})]})]}),(0x0,_0x1bef29[_0x503692(0x121)])('div',{'className':_0x503692(0x23f),'children':[(0x0,_0x1bef29[_0x503692(0x17d)])(_0x400700,{}),(0x0,_0x1bef29['jsx'])('button',{'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','children':(0x0,_0x1bef29['jsx'])(_0x289391[_0x503692(0xe1)],{'size':0x16})}),(0x0,_0x1bef29[_0x503692(0x17d)])(_0x503692(0x1c9),{'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','children':(0x0,_0x1bef29[_0x503692(0x17d)])(_0x3822db,{'size':0x16})}),(0x0,_0x1bef29[_0x503692(0x17d)])(_0x503692(0x1c9),{'className':_0x503692(0x21b),'children':(0x0,_0x1bef29[_0x503692(0x17d)])(_0x24b633['MoreVertical'],{'size':0x16})})]})]}),(0x0,_0x1bef29['jsx'])('div',{'ref':_0x8be4a8,'className':_0x503692(0x1d7),'style':{'backgroundImage':_0x503692(0x222)},'children':_0x5ae98d?_0x53efc2?(0x0,_0x1bef29[_0x503692(0x17d)])(_0x503692(0x1be),{'className':'flex\x20items-center\x20justify-center\x20h-full','children':(0x0,_0x1bef29[_0x503692(0x17d)])(_0x503692(0x1be),{'className':'animate-spin\x20rounded-full\x20h-8\x20w-8\x20border-b-2\x20border-green-500'})}):0x0===_0x1f9ce8['length']?(0x0,_0x1bef29[_0x503692(0x121)])(_0x503692(0x1be),{'className':_0x503692(0x90),'children':[(0x0,_0x1bef29[_0x503692(0x17d)])(_0x145bdd['Shield'],{'size':0x30,'className':_0x503692(0xc8)}),(0x0,_0x1bef29[_0x503692(0x17d)])('p',{'className':_0x503692(0x226),'children':_0x503692(0x12e)}),(0x0,_0x1bef29[_0x503692(0x121)])('p',{'className':_0x503692(0xbe),'children':['Messages\x20are\x20secured\x20with\x20end-to-end\x20encryption.',(0x0,_0x1bef29[_0x503692(0x17d)])('br',{}),'Only\x20you\x20and\x20',_0x1521e5[_0x503692(0x128)],'\x20can\x20read\x20them.']})]}):(0x0,_0x1bef29['jsxs'])(_0x1bef29[_0x503692(0x248)],{'children':[(0x0,_0x1bef29['jsx'])(_0x503692(0x1be),{'className':'flex\x20justify-center\x20mb-4','children':(0x0,_0x1bef29['jsxs'])(_0x503692(0x1be),{'className':_0x503692(0x18c),'children':[(0x0,_0x1bef29['jsx'])(_0x2f90a7['Lock'],{'size':0xc}),'Messages\x20are\x20end-to-end\x20encrypted']})}),_0x1f9ce8['map']((_0x16cdc8,_0x520ccb)=>{const _0x2082ef=_0x503692;let _0x557b3f='room'===_0x1521e5['type']&&!_0x16cdc8[_0x2082ef(0x11a)]&&(0x0===_0x520ccb||_0x1f9ce8[_0x520ccb-0x1]['senderId']!==_0x16cdc8['senderId']);return(0x0,_0x1bef29[_0x2082ef(0x17d)])(_0x5555b7,{'message':_0x16cdc8,'showSender':_0x557b3f,'onReply':_0x396062},_0x16cdc8['id']);}),(0x0,_0x1bef29['jsx'])('div',{'ref':_0x56f3ba})]}):(0x0,_0x1bef29[_0x503692(0x121)])(_0x503692(0x1be),{'className':'flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x20text-neutral-400','children':[(0x0,_0x1bef29['jsx'])(_0x2f90a7[_0x503692(0xf2)],{'size':0x30,'className':'mb-4'}),(0x0,_0x1bef29['jsx'])('p',{'className':'text-center','children':_0x503692(0x1b3)})]})}),_0x5ae98d&&(0x0,_0x1bef29['jsx'])(_0x2ab000,{'onSend':_0x19939,'replyTo':_0x43a223,'onCancelReply':()=>_0x396062(null),'disabled':_0x591bf2,'remainingMessages':_0x2a21cc})]});}var _0x44acd7=_0x56ded7['i'](0xd88c);let _0x31911a=(0x0,_0x13ef64['default'])('plus',[[_0xdad3c0(0x12c),{'d':'M5\x2012h14','key':_0xdad3c0(0x206)}],['path',{'d':'M12\x205v14','key':'s699le'}]]);var _0x31ddde=_0x56ded7['i'](0x11b48);function _0x5b61a6({open:_0x521270,onOpenChange:_0x5a8449,view:_0x3c3ebe,onChatCreated:_0x2390ae}){const _0x28d071=_0xdad3c0;let {user:_0xb7214c}=(0x0,_0x449afa[_0x28d071(0x21f)])(),[_0x148c03,_0x15577e]=(0x0,_0x27af4d[_0x28d071(0x88)])('search'),[_0x2cb7e2,_0x3b7ada]=(0x0,_0x27af4d[_0x28d071(0x88)])(''),[_0xcaf1e3,_0x121409]=(0x0,_0x27af4d[_0x28d071(0x88)])([]),[_0x270cfb,_0x49fe3b]=(0x0,_0x27af4d[_0x28d071(0x88)])([]),[_0x5eb88a,_0x46b73b]=(0x0,_0x27af4d['useState'])(!0x1),[_0x5e3686,_0x56f3d2]=(0x0,_0x27af4d['useState'])(!0x1),[_0x430a87,_0x1dcb57]=(0x0,_0x27af4d['useState'])(''),[_0x4930c9,_0x180864]=(0x0,_0x27af4d[_0x28d071(0x88)])(''),[_0x37b013,_0x5ca817]=(0x0,_0x27af4d[_0x28d071(0x88)])(!0x0),[_0x34c3d8,_0x1a31ce]=(0x0,_0x27af4d[_0x28d071(0x88)])(''),[_0x1c3f6c,_0x58c9a9]=(0x0,_0x27af4d[_0x28d071(0x88)])(0x64),[_0x1f2dec,_0x373e9e]=(0x0,_0x27af4d[_0x28d071(0x88)])(''),[_0x4227d5,_0x3789ae]=(0x0,_0x27af4d[_0x28d071(0x88)])('');(0x0,_0x27af4d[_0x28d071(0xae)])(()=>{_0x521270||(_0x3b7ada(''),_0x121409([]),_0x49fe3b([]),_0x15577e('search'),_0x426926());},[_0x521270]),(0x0,_0x27af4d[_0x28d071(0xae)])(()=>{const _0x336c92=_0x28d071;_0x2cb7e2[_0x336c92(0x203)]>=0x2?'dms'===_0x3c3ebe?_0xc403a4():_0x4a19d7():(_0x121409([]),_0x49fe3b([]));},[_0x2cb7e2,_0x3c3ebe]);let _0x426926=()=>{_0x1dcb57(''),_0x180864(''),_0x5ca817(!0x0),_0x1a31ce(''),_0x58c9a9(0x64),_0x373e9e(''),_0x3789ae('');},_0xc403a4=async()=>{const _0x3fe7eb=_0x28d071;_0x46b73b(!0x0);try{let {data:_0x4134df,error:_0x2cd7a5}=await _0x55676b['supabase'][_0x3fe7eb(0x1ac)]('user_profiles')['select'](_0x3fe7eb(0x169))[_0x3fe7eb(0x205)](_0x3fe7eb(0x100),'%'+_0x2cb7e2+'%')['neq']('id',_0xb7214c?.['id'])['limit'](0x14);!_0x2cd7a5&&_0x4134df&&_0x121409(_0x4134df[_0x3fe7eb(0xb9)](_0x29fba4=>({'id':_0x29fba4['id'],'displayName':_0x29fba4['display_name'],'avatarUrl':_0x29fba4['avatar_url'],'lastSeen':_0x29fba4[_0x3fe7eb(0x184)]})));}catch(_0x25b27a){console[_0x3fe7eb(0x1c6)](_0x3fe7eb(0x22a),_0x25b27a);}finally{_0x46b73b(!0x1);}},_0x4a19d7=async()=>{const _0x12a107=_0x28d071;_0x46b73b(!0x0);try{let _0x98ce70=await _0x55676b['supabase']['auth'][_0x12a107(0xd9)](),_0x1451dc=_0x98ce70['data']['session']?.[_0x12a107(0xdc)],_0x2405a0=await fetch(_0x12a107(0x1e5),{'method':_0x12a107(0x221),'headers':{'Content-Type':'application/json','Authorization':_0x12a107(0x117)+_0x1451dc},'body':JSON[_0x12a107(0x234)]({'type':'public','search':_0x2cb7e2})}),_0x5cd80a=await _0x2405a0['json']();_0x5cd80a['success']&&_0x49fe3b(_0x5cd80a['rooms']||[]);}catch(_0x1ab1ec){console[_0x12a107(0x1c6)]('Search\x20rooms\x20error:',_0x1ab1ec);}finally{_0x46b73b(!0x1);}},_0x77212b=async _0x4c3fb3=>{const _0x9a6ffd=_0x28d071;try{let _0x57de2d=await _0x55676b[_0x9a6ffd(0x21d)]['auth']['getSession'](),_0x2ec3b2=_0x57de2d[_0x9a6ffd(0x9a)][_0x9a6ffd(0xda)]?.['access_token'],_0x26f57c=await fetch('http://localhost:8100/functions/v1/join-room',{'method':'POST','headers':{'Content-Type':_0x9a6ffd(0x1da),'Authorization':_0x9a6ffd(0x117)+_0x2ec3b2},'body':JSON[_0x9a6ffd(0x234)]({'roomId':_0x4c3fb3['id']})}),_0x40f53f=await _0x26f57c[_0x9a6ffd(0x1a5)]();_0x40f53f[_0x9a6ffd(0x233)]?(_0x2390ae({'type':'room','id':_0x4c3fb3['id'],'name':_0x4c3fb3[_0x9a6ffd(0x128)],'isPublic':_0x4c3fb3[_0x9a6ffd(0x151)]}),_0x5a8449(!0x1)):alert(_0x40f53f['error']||_0x9a6ffd(0x18f));}catch(_0x7b42e4){console['error'](_0x9a6ffd(0x193),_0x7b42e4);}},_0x1c0aac=async()=>{const _0x8d4d52=_0x28d071;if(_0x430a87['trim']()){_0x56f3d2(!0x0);try{let _0x3423df=await _0x55676b[_0x8d4d52(0x21d)]['auth'][_0x8d4d52(0xd9)](),_0x3cc05a=_0x3423df['data'][_0x8d4d52(0xda)]?.[_0x8d4d52(0xdc)],_0x473da8=await fetch('http://localhost:8100/functions/v1/create-room',{'method':'POST','headers':{'Content-Type':_0x8d4d52(0x1da),'Authorization':_0x8d4d52(0x117)+_0x3cc05a},'body':JSON['stringify']({'name':_0x430a87['trim'](),'description':_0x4930c9[_0x8d4d52(0xa9)]()||null,'isPublic':_0x37b013,'password':_0x37b013?null:_0x34c3d8,'maxMembers':_0x1c3f6c})}),_0x5a28f1=await _0x473da8[_0x8d4d52(0x1a5)]();_0x5a28f1['success']?(_0x2390ae({'type':_0x8d4d52(0x148),'id':_0x5a28f1[_0x8d4d52(0x148)]['id'],'name':_0x5a28f1['room'][_0x8d4d52(0x128)],'isPublic':_0x5a28f1[_0x8d4d52(0x148)]['isPublic']}),_0x5a8449(!0x1)):alert(_0x5a28f1['error']||'Failed\x20to\x20create\x20room');}catch(_0x235260){console['error']('Create\x20room\x20error:',_0x235260);}finally{_0x56f3d2(!0x1);}}},_0x16a2b3=async()=>{const _0x58b95b=_0x28d071;if(_0x1f2dec['trim']()){_0x56f3d2(!0x0);try{let _0x2628a8=await _0x55676b['supabase']['auth'][_0x58b95b(0xd9)](),_0x4c5fb6=_0x2628a8[_0x58b95b(0x9a)]['session']?.['access_token'],_0x289a77=await fetch(_0x58b95b(0x13d),{'method':_0x58b95b(0x221),'headers':{'Content-Type':_0x58b95b(0x1da),'Authorization':'Bearer\x20'+_0x4c5fb6},'body':JSON['stringify']({'roomId':_0x1f2dec['trim'](),'password':_0x4227d5})}),_0x910cea=await _0x289a77['json']();_0x910cea['success']?(_0x2390ae({'type':_0x58b95b(0x148),'id':_0x910cea[_0x58b95b(0x148)]['id'],'name':_0x910cea['room'][_0x58b95b(0x128)],'isPublic':!0x1}),_0x5a8449(!0x1)):alert(_0x910cea[_0x58b95b(0x1c6)]||_0x58b95b(0x18f));}catch(_0x44377c){console['error']('Join\x20private\x20room\x20error:',_0x44377c);}finally{_0x56f3d2(!0x1);}}};return _0x521270?(0x0,_0x1bef29['jsx'])(_0x28d071(0x1be),{'className':'fixed\x20inset-0\x20z-50\x20flex\x20items-center\x20justify-center\x20bg-black/50','children':(0x0,_0x1bef29['jsxs'])(_0x28d071(0x1be),{'className':_0x28d071(0x24a),'children':[(0x0,_0x1bef29['jsxs'])('div',{'className':_0x28d071(0x237),'children':[(0x0,_0x1bef29[_0x28d071(0x17d)])('h2',{'className':_0x28d071(0x10f),'children':'dms'===_0x3c3ebe?'New\x20Chat':'Rooms'}),(0x0,_0x1bef29[_0x28d071(0x17d)])('button',{'onClick':()=>_0x5a8449(!0x1),'className':_0x28d071(0x21b),'children':(0x0,_0x1bef29[_0x28d071(0x17d)])(_0x1eae32['X'],{'size':0x14})})]}),'rooms'===_0x3c3ebe&&(0x0,_0x1bef29[_0x28d071(0x121)])(_0x28d071(0x1be),{'className':'flex\x20border-b\x20border-neutral-800','children':[(0x0,_0x1bef29[_0x28d071(0x17d)])('button',{'onClick':()=>_0x15577e('search'),'className':'flex-1\x20py-3\x20text-sm\x20font-medium\x20'+('search'===_0x148c03?'text-green-500\x20border-b-2\x20border-green-500':_0x28d071(0x119)),'children':_0x28d071(0x158)}),(0x0,_0x1bef29[_0x28d071(0x17d)])(_0x28d071(0x1c9),{'onClick':()=>_0x15577e(_0x28d071(0x16b)),'className':'flex-1\x20py-3\x20text-sm\x20font-medium\x20'+('create'===_0x148c03?'text-green-500\x20border-b-2\x20border-green-500':'text-neutral-400'),'children':'Create\x20/\x20Join'})]}),'search'===_0x148c03&&(0x0,_0x1bef29[_0x28d071(0x121)])('div',{'className':'p-4','children':[(0x0,_0x1bef29[_0x28d071(0x121)])(_0x28d071(0x1be),{'className':'relative\x20mb-4','children':[(0x0,_0x1bef29['jsx'])(_0x44acd7[_0x28d071(0xc6)],{'size':0x12,'className':'absolute\x20left-3\x20top-1/2\x20-translate-y-1/2\x20text-neutral-500'}),(0x0,_0x1bef29[_0x28d071(0x17d)])(_0x28d071(0x1cf),{'type':'text','value':_0x2cb7e2,'onChange':_0x80a78c=>_0x3b7ada(_0x80a78c[_0x28d071(0x1eb)][_0x28d071(0x216)]),'placeholder':'dms'===_0x3c3ebe?'Search\x20users...':_0x28d071(0xcb),'className':'w-full\x20pl-10\x20pr-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'})]}),(0x0,_0x1bef29[_0x28d071(0x17d)])(_0x28d071(0x1be),{'className':_0x28d071(0xe7),'children':_0x5eb88a?(0x0,_0x1bef29['jsx'])('div',{'className':'flex\x20justify-center\x20py-8','children':(0x0,_0x1bef29[_0x28d071(0x17d)])('div',{'className':_0x28d071(0x1e2)})}):_0x28d071(0xe6)===_0x3c3ebe?0x0===_0xcaf1e3[_0x28d071(0x203)]?(0x0,_0x1bef29['jsx'])('p',{'className':'text-center\x20text-neutral-500\x20py-8','children':_0x2cb7e2[_0x28d071(0x203)]>=0x2?_0x28d071(0x170):_0x28d071(0x11d)}):_0xcaf1e3['map'](_0x3e2e4b=>(0x0,_0x1bef29['jsxs'])('button',{'onClick':()=>{const _0x29cf63=_0x28d071;_0x2390ae({'type':'dm','id':_0x3e2e4b['id'],'name':_0x3e2e4b[_0x29cf63(0x177)],'avatar':_0x3e2e4b['avatarUrl']||void 0x0}),_0x5a8449(!0x1);},'className':'w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20rounded-lg','children':[(0x0,_0x1bef29[_0x28d071(0x17d)])('div',{'className':'w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-blue-500\x20to-blue-600\x20flex\x20items-center\x20justify-center\x20font-semibold','children':_0x3e2e4b[_0x28d071(0x1fc)]?(0x0,_0x1bef29[_0x28d071(0x17d)])('img',{'src':_0x3e2e4b['avatarUrl'],'alt':'','className':_0x28d071(0xf4)}):_0x3e2e4b['displayName']['charAt'](0x0)[_0x28d071(0x231)]()}),(0x0,_0x1bef29[_0x28d071(0x121)])(_0x28d071(0x1be),{'className':'text-left','children':[(0x0,_0x1bef29['jsx'])('p',{'className':_0x28d071(0x1ef),'children':_0x3e2e4b['displayName']}),(0x0,_0x1bef29[_0x28d071(0x17d)])('p',{'className':'text-xs\x20text-neutral-400','children':_0x3e2e4b[_0x28d071(0xa8)]?_0x28d071(0x208)+new Date(_0x3e2e4b['lastSeen'])[_0x28d071(0xee)]():'Offline'})]}),(0x0,_0x1bef29[_0x28d071(0x17d)])(_0x31ddde[_0x28d071(0x1d3)],{'size':0x12,'className':'ml-auto\x20text-neutral-500'})]},_0x3e2e4b['id'])):0x0===_0x270cfb['length']?(0x0,_0x1bef29[_0x28d071(0x17d)])('p',{'className':_0x28d071(0x195),'children':_0x2cb7e2[_0x28d071(0x203)]>=0x2?_0x28d071(0x125):_0x28d071(0x98)}):_0x270cfb[_0x28d071(0xb9)](_0x2080b6=>(0x0,_0x1bef29[_0x28d071(0x121)])(_0x28d071(0x1c9),{'onClick':()=>_0x77212b(_0x2080b6),'className':'w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20rounded-lg','children':[(0x0,_0x1bef29[_0x28d071(0x17d)])('div',{'className':'w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-purple-500\x20to-purple-600\x20flex\x20items-center\x20justify-center','children':(0x0,_0x1bef29['jsx'])(_0x56df28[_0x28d071(0x1a7)],{'size':0x14,'className':'text-white'})}),(0x0,_0x1bef29['jsxs'])('div',{'className':'text-left\x20flex-1\x20min-w-0','children':[(0x0,_0x1bef29[_0x28d071(0x17d)])('p',{'className':_0x28d071(0x8b),'children':_0x2080b6['name']}),(0x0,_0x1bef29['jsxs'])('p',{'className':'text-xs\x20text-neutral-400\x20flex\x20items-center\x20gap-1','children':[(0x0,_0x1bef29[_0x28d071(0x17d)])(_0x21c2e3[_0x28d071(0x218)],{'size':0xc}),_0x2080b6['memberCount'],'/',_0x2080b6['maxMembers'],'\x20members']})]}),(0x0,_0x1bef29['jsx'])(_0x31ddde['ArrowRight'],{'size':0x12,'className':'text-neutral-500'})]},_0x2080b6['id']))})]}),'create'===_0x148c03&&_0x28d071(0x224)===_0x3c3ebe&&(0x0,_0x1bef29['jsxs'])(_0x28d071(0x1be),{'className':_0x28d071(0x1fb),'children':[(0x0,_0x1bef29[_0x28d071(0x121)])('div',{'className':_0x28d071(0x251),'children':[(0x0,_0x1bef29[_0x28d071(0x17d)])('h3',{'className':'text-sm\x20font-medium\x20text-neutral-300','children':'Create\x20New\x20Room'}),(0x0,_0x1bef29[_0x28d071(0x17d)])(_0x28d071(0x1cf),{'type':'text','value':_0x430a87,'onChange':_0x399ce4=>_0x1dcb57(_0x399ce4[_0x28d071(0x1eb)]['value']),'placeholder':_0x28d071(0x239),'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x1bef29[_0x28d071(0x17d)])(_0x28d071(0x1d5),{'value':_0x4930c9,'onChange':_0x181f07=>_0x180864(_0x181f07['target']['value']),'placeholder':'Description\x20(optional)','rows':0x2,'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20resize-none\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x1bef29[_0x28d071(0x121)])(_0x28d071(0x1be),{'className':'flex\x20items-center\x20gap-4','children':[(0x0,_0x1bef29['jsxs'])('label',{'className':_0x28d071(0x1a8),'children':[(0x0,_0x1bef29['jsx'])('input',{'type':'radio','checked':_0x37b013,'onChange':()=>_0x5ca817(!0x0),'className':'text-green-500\x20focus:ring-green-500'}),(0x0,_0x1bef29[_0x28d071(0x17d)])(_0x56df28[_0x28d071(0x1a7)],{'size':0x10}),(0x0,_0x1bef29[_0x28d071(0x17d)])('span',{'className':_0x28d071(0x103),'children':_0x28d071(0x223)})]}),(0x0,_0x1bef29[_0x28d071(0x121)])(_0x28d071(0x1bd),{'className':'flex\x20items-center\x20gap-2\x20cursor-pointer','children':[(0x0,_0x1bef29['jsx'])('input',{'type':'radio','checked':!_0x37b013,'onChange':()=>_0x5ca817(!0x1),'className':_0x28d071(0x1ba)}),(0x0,_0x1bef29[_0x28d071(0x17d)])(_0x2f90a7[_0x28d071(0xf2)],{'size':0x10}),(0x0,_0x1bef29[_0x28d071(0x17d)])('span',{'className':'text-sm','children':'Private'})]})]}),!_0x37b013&&(0x0,_0x1bef29[_0x28d071(0x17d)])('input',{'type':_0x28d071(0xec),'value':_0x34c3d8,'onChange':_0x1b3719=>_0x1a31ce(_0x1b3719[_0x28d071(0x1eb)][_0x28d071(0x216)]),'placeholder':_0x28d071(0x250),'className':_0x28d071(0x1f5)}),(0x0,_0x1bef29['jsxs'])('button',{'onClick':_0x1c0aac,'disabled':!_0x430a87['trim']()||_0x5e3686,'className':_0x28d071(0xd2),'children':[(0x0,_0x1bef29['jsx'])(_0x31911a,{'size':0x12}),_0x28d071(0x1b6)]})]}),(0x0,_0x1bef29[_0x28d071(0x121)])('div',{'className':'flex\x20items-center\x20gap-3','children':[(0x0,_0x1bef29['jsx'])('div',{'className':'flex-1\x20h-px\x20bg-neutral-700'}),(0x0,_0x1bef29[_0x28d071(0x17d)])('span',{'className':_0x28d071(0x1c8),'children':'OR'}),(0x0,_0x1bef29['jsx'])('div',{'className':'flex-1\x20h-px\x20bg-neutral-700'})]}),(0x0,_0x1bef29['jsxs'])('div',{'className':'space-y-3','children':[(0x0,_0x1bef29['jsx'])('h3',{'className':_0x28d071(0xbd),'children':_0x28d071(0x1cb)}),(0x0,_0x1bef29['jsx'])('input',{'type':_0x28d071(0x241),'value':_0x1f2dec,'onChange':_0x1a3ed7=>_0x373e9e(_0x1a3ed7['target']['value']),'placeholder':'Room\x20ID','className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x1bef29[_0x28d071(0x17d)])(_0x28d071(0x1cf),{'type':'password','value':_0x4227d5,'onChange':_0x4f802e=>_0x3789ae(_0x4f802e['target']['value']),'placeholder':_0x28d071(0x250),'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x1bef29['jsxs'])(_0x28d071(0x1c9),{'onClick':_0x16a2b3,'disabled':!_0x1f2dec[_0x28d071(0xa9)]()||_0x5e3686,'className':_0x28d071(0x186),'children':[(0x0,_0x1bef29['jsx'])(_0x31ddde['ArrowRight'],{'size':0x12}),'Join\x20Room']})]})]})]})}):null;}let _0x20caa5=(0x0,_0x13ef64[_0xdad3c0(0x15a)])('settings',[['path',{'d':'M9.671\x204.136a2.34\x202.34\x200\x200\x201\x204.659\x200\x202.34\x202.34\x200\x200\x200\x203.319\x201.915\x202.34\x202.34\x200\x200\x201\x202.33\x204.033\x202.34\x202.34\x200\x200\x200\x200\x203.831\x202.34\x202.34\x200\x200\x201-2.33\x204.033\x202.34\x202.34\x200\x200\x200-3.319\x201.915\x202.34\x202.34\x200\x200\x201-4.659\x200\x202.34\x202.34\x200\x200\x200-3.32-1.915\x202.34\x202.34\x200\x200\x201-2.33-4.033\x202.34\x202.34\x200\x200\x200\x200-3.831A2.34\x202.34\x200\x200\x201\x206.35\x206.051a2.34\x202.34\x200\x200\x200\x203.319-1.915','key':'1i5ecw'}],['circle',{'cx':'12','cy':'12','r':'3','key':'1v7zrd'}]]);var _0x592b43=_0x56ded7['i'](0x17307),_0x595f5b=_0x56ded7['i'](0x1686e);function _0x20411a(){const _0x49f94b=_0xdad3c0;let {user:_0x773789,signOut:_0x480638,isKeyUnlocked:_0x14eba8}=(0x0,_0x449afa[_0x49f94b(0x21f)])(),[_0x10dac5,_0x406968]=(0x0,_0x27af4d[_0x49f94b(0x88)])('dms'),[_0x49f1de,_0x1f31f4]=(0x0,_0x27af4d['useState'])(null),[_0x2af95d,_0x7c2659]=(0x0,_0x27af4d[_0x49f94b(0x88)])(!0x1),[_0x48f6a0,_0x31ccfc]=(0x0,_0x27af4d['useState'])(!0x1),_0x8a0bc1=_0x5c3b75=>{_0x1f31f4(_0x5c3b75),_0x31ccfc(!0x0);};return _0x773789?(0x0,_0x1bef29['jsxs'])(_0x49f94b(0x1be),{'className':_0x49f94b(0x14c),'children':[(0x0,_0x1bef29['jsxs'])('div',{'className':_0x49f94b(0x1dd),'children':[(0x0,_0x1bef29['jsx'])(_0x49f94b(0x1be),{'className':'p-3\x20border-b\x20border-neutral-800','children':(0x0,_0x1bef29['jsx'])('div',{'className':'w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-green-500\x20to-green-600\x20flex\x20items-center\x20justify-center\x20text-lg\x20font-semibold','children':_0x773789['display_name']?.['charAt'](0x0)[_0x49f94b(0x231)]()||'U'})}),(0x0,_0x1bef29['jsxs'])('nav',{'className':_0x49f94b(0x246),'children':[(0x0,_0x1bef29[_0x49f94b(0x17d)])('button',{'onClick':()=>_0x406968(_0x49f94b(0xe6)),'className':_0x49f94b(0x204)+(_0x49f94b(0xe6)===_0x10dac5?'text-green-500\x20bg-neutral-900':'text-neutral-400\x20hover:text-white\x20hover:bg-neutral-900'),'title':_0x49f94b(0xc4),'children':(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x592b43[_0x49f94b(0x106)],{'size':0x18})}),(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x49f94b(0x1c9),{'onClick':()=>_0x406968('rooms'),'className':_0x49f94b(0x204)+(_0x49f94b(0x224)===_0x10dac5?_0x49f94b(0xbf):_0x49f94b(0xa7)),'title':'Chat\x20Rooms','children':(0x0,_0x1bef29['jsx'])(_0x21c2e3['Users'],{'size':0x18})})]}),(0x0,_0x1bef29[_0x49f94b(0x121)])(_0x49f94b(0x1be),{'className':'py-4\x20border-t\x20border-neutral-800\x20flex\x20flex-col\x20items-center','children':[(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x400700,{}),(0x0,_0x1bef29[_0x49f94b(0x17d)])('button',{'onClick':()=>{},'className':'w-full\x20p-3\x20flex\x20justify-center\x20text-neutral-400\x20hover:text-white\x20hover:bg-neutral-900','title':_0x49f94b(0x1e3),'children':(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x20caa5,{'size':0x18})}),(0x0,_0x1bef29['jsx'])(_0x49f94b(0x1c9),{'onClick':_0x480638,'className':'w-full\x20p-3\x20flex\x20justify-center\x20text-neutral-400\x20hover:text-red-500\x20hover:bg-neutral-900','title':'Sign\x20Out','children':(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x595f5b['LogOut'],{'size':0x18})})]})]}),(0x0,_0x1bef29[_0x49f94b(0x121)])('div',{'className':_0x49f94b(0xde)+(_0x48f6a0?_0x49f94b(0xf9):_0x49f94b(0x23a)),'children':[(0x0,_0x1bef29['jsxs'])(_0x49f94b(0x1be),{'className':'h-16\x20px-4\x20flex\x20items-center\x20justify-between\x20bg-neutral-950\x20border-b\x20border-neutral-800','children':[(0x0,_0x1bef29[_0x49f94b(0x17d)])('h1',{'className':'text-xl\x20font-semibold','children':_0x49f94b(0xe6)===_0x10dac5?'Messages':_0x49f94b(0x9e)}),(0x0,_0x1bef29['jsx'])('button',{'onClick':()=>_0x7c2659(!0x0),'className':'p-2\x20rounded-full\x20hover:bg-neutral-800\x20text-green-500','children':(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x31911a,{'size':0x18})})]}),(0x0,_0x1bef29[_0x49f94b(0x17d)])('div',{'className':_0x49f94b(0x1f0),'children':(0x0,_0x1bef29[_0x49f94b(0x121)])('div',{'className':'relative','children':[(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x49f94b(0x1cf),{'type':'text','placeholder':'Search...','className':'w-full\x20px-4\x20py-2\x20pl-10\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x1bef29['jsx'])('svg',{'className':_0x49f94b(0x149),'fill':'none','stroke':_0x49f94b(0x1ff),'viewBox':_0x49f94b(0x22f),'children':(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x49f94b(0x12c),{'strokeLinecap':'round','strokeLinejoin':_0x49f94b(0x1ec),'strokeWidth':0x2,'d':'M21\x2021l-6-6m2-5a7\x207\x200\x2011-14\x200\x207\x207\x200\x200114\x200z'})})]})}),(0x0,_0x1bef29['jsx'])(_0x57d579,{'view':_0x10dac5,'activeChat':_0x49f1de,'onSelectChat':_0x8a0bc1}),(0x0,_0x1bef29['jsxs'])(_0x49f94b(0x1be),{'className':_0x49f94b(0x22c),'children':[(0x0,_0x1bef29['jsxs'])('button',{'onClick':()=>_0x406968(_0x49f94b(0xe6)),'className':_0x49f94b(0x10b)+(_0x49f94b(0xe6)===_0x10dac5?'text-green-500':'text-neutral-400'),'children':[(0x0,_0x1bef29['jsx'])(_0x592b43['MessageCircle'],{'size':0x14}),(0x0,_0x1bef29[_0x49f94b(0x17d)])('span',{'className':'mt-1','children':'Chats'})]}),(0x0,_0x1bef29['jsxs'])(_0x49f94b(0x1c9),{'onClick':()=>_0x406968(_0x49f94b(0x224)),'className':_0x49f94b(0x10b)+(_0x49f94b(0x224)===_0x10dac5?_0x49f94b(0xdd):_0x49f94b(0x119)),'children':[(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x21c2e3[_0x49f94b(0x218)],{'size':0x14}),(0x0,_0x1bef29[_0x49f94b(0x17d)])('span',{'className':'mt-1','children':_0x49f94b(0x9e)})]}),(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x49f94b(0x1be),{'className':_0x49f94b(0x1c0),'children':(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x400700,{})}),(0x0,_0x1bef29[_0x49f94b(0x121)])(_0x49f94b(0x1c9),{'onClick':()=>{},'className':_0x49f94b(0x1b1),'children':[(0x0,_0x1bef29['jsx'])(_0x20caa5,{'size':0x14}),(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x49f94b(0x1b2),{'className':'mt-1','children':_0x49f94b(0x1e3)})]})]})]}),(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x49f94b(0x1be),{'className':'flex-1\x20flex\x20flex-col\x20'+(_0x48f6a0?'flex':'hidden\x20md:flex'),'children':_0x49f1de?(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x311a53,{'chat':_0x49f1de,'onBack':()=>{_0x31ccfc(!0x1),_0x1f31f4(null);}}):(0x0,_0x1bef29[_0x49f94b(0x121)])(_0x49f94b(0x1be),{'className':'flex-1\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-neutral-500\x20bg-neutral-950','children':[(0x0,_0x1bef29['jsx'])(_0x49f94b(0x1be),{'className':_0x49f94b(0x182),'children':(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x592b43['MessageCircle'],{'size':0x30,'className':'text-neutral-600'})}),(0x0,_0x1bef29['jsx'])('h2',{'className':'text-xl\x20font-medium\x20text-neutral-300\x20mb-2','children':'ZZZDaily\x20Chat'}),(0x0,_0x1bef29[_0x49f94b(0x17d)])('p',{'className':_0x49f94b(0x103),'children':_0x49f94b(0x101)}),!_0x14eba8&&(0x0,_0x1bef29[_0x49f94b(0x17d)])('p',{'className':'mt-4\x20text-amber-500\x20text-sm','children':'Enter\x20your\x20passphrase\x20to\x20decrypt\x20messages'})]})}),(0x0,_0x1bef29[_0x49f94b(0x17d)])(_0x5b61a6,{'open':_0x2af95d,'onOpenChange':_0x7c2659,'view':_0x10dac5,'onChatCreated':_0x8a0bc1})]}):null;}var _0x559777=_0x56ded7['i'](0x8571),_0x372721=_0x56ded7['i'](0x1342e);let _0x1287d8=(0x0,_0x13ef64[_0xdad3c0(0x15a)])('skull',[[_0xdad3c0(0x12c),{'d':_0xdad3c0(0x12f),'key':_0xdad3c0(0x1b5)}],['path',{'d':'M15\x2022a1\x201\x200\x200\x200\x201-1v-1a2\x202\x200\x200\x200\x201.56-3.25\x208\x208\x200\x201\x200-11.12\x200A2\x202\x200\x200\x200\x208\x2020v1a1\x201\x200\x200\x200\x201\x201z','key':'1o5pge'}],[_0xdad3c0(0x1b9),{'cx':'15','cy':'12','r':'1','key':'1tmaij'}],[_0xdad3c0(0x1b9),{'cx':'9','cy':'12','r':'1','key':'1vctgf'}]]);function _0x4e71fa({attemptsRemaining:_0x5366f7}){const _0x4b41a2=_0xdad3c0;let _0x1b40b5=_0x5366f7<=0x1,_0x2bda3c=_0x5366f7<=0x2;return(0x0,_0x1bef29['jsx'])(_0x4b41a2(0x1be),{'className':'p-4\x20rounded-lg\x20border\x20overflow-auto\x20'+(_0x1b40b5?'bg-red-500/20\x20border-red-500/50':_0x2bda3c?_0x4b41a2(0x1b0):'bg-amber-500/10\x20border-amber-500/30'),'children':(0x0,_0x1bef29[_0x4b41a2(0x121)])('div',{'className':_0x4b41a2(0xe3),'children':[_0x1b40b5?(0x0,_0x1bef29['jsx'])(_0x1287d8,{'className':_0x4b41a2(0x109),'size':0x14}):(0x0,_0x1bef29['jsx'])(_0x372721[_0x4b41a2(0x12a)],{'className':'flex-shrink-0\x20'+(_0x2bda3c?'text-amber-400':_0x4b41a2(0x1a0)),'size':0x14}),(0x0,_0x1bef29[_0x4b41a2(0x121)])('div',{'children':[(0x0,_0x1bef29['jsx'])('h4',{'className':_0x4b41a2(0x92)+(_0x1b40b5?_0x4b41a2(0x112):'text-amber-400'),'children':_0x1b40b5?_0x4b41a2(0xaf):_0x4b41a2(0xef)+_0x5366f7+'\x20'+(0x1===_0x5366f7?'Attempt':_0x4b41a2(0x9b))+_0x4b41a2(0x130)}),(0x0,_0x1bef29[_0x4b41a2(0x17d)])('p',{'className':_0x4b41a2(0xb7)+(_0x1b40b5?_0x4b41a2(0x192):_0x4b41a2(0x137)),'children':_0x1b40b5?_0x4b41a2(0x13e):_0x4b41a2(0x1fe)+_0x5366f7+'\x20more\x20failed\x20'+(0x1===_0x5366f7?_0x4b41a2(0x16f):_0x4b41a2(0x115))+_0x4b41a2(0x13c)}),_0x1b40b5&&(0x0,_0x1bef29[_0x4b41a2(0x17d)])('p',{'className':'mt-2\x20text-xs\x20text-red-400/70\x20font-medium','children':'Take\x20your\x20time.\x20Make\x20sure\x20you\x20remember\x20correctly.'})]})]})});}function _0x21d90b({isOpen:_0x3f7d8e,onClose:_0x533623}){const _0xeacf04=_0xdad3c0;let {unlockKey:_0x5171aa}=(0x0,_0x449afa['useAuth'])(),[_0x3e2ed0,_0x34d7a8]=(0x0,_0x27af4d[_0xeacf04(0x88)])(''),[_0x3181be,_0x371a1f]=(0x0,_0x27af4d[_0xeacf04(0x88)])(''),[_0xb8ca5c,_0x56311b]=(0x0,_0x27af4d['useState'])(!0x1),[_0x2ef3ff,_0x1e50dc]=(0x0,_0x27af4d[_0xeacf04(0x88)])(null),[_0xfae132,_0x46631f]=(0x0,_0x27af4d[_0xeacf04(0x88)])(!0x1),_0x156d04=async _0x3570e3=>{const _0x5b7942=_0xeacf04;if(_0x3570e3['preventDefault'](),_0x3e2ed0){_0x371a1f(''),_0x56311b(!0x0);try{let _0x5bd94b=await _0x5171aa(_0x3e2ed0);if(_0x5bd94b[_0x5b7942(0x19d)]){_0x46631f(!0x0),_0x34d7a8(''),_0x56311b(!0x1);return;}_0x5bd94b[_0x5b7942(0x233)]?(_0x34d7a8(''),_0x1e50dc(null),_0x533623()):(_0x371a1f(_0x5bd94b[_0x5b7942(0x1c6)]||_0x5b7942(0x131)),void 0x0!==_0x5bd94b['attemptsRemaining']&&_0x1e50dc(_0x5bd94b[_0x5b7942(0xce)]));}catch{_0x371a1f(_0x5b7942(0xd6));}finally{_0x56311b(!0x1);}}};return _0x3f7d8e?_0xfae132?(0x0,_0x1bef29['jsx'])(_0xeacf04(0x1be),{'className':_0xeacf04(0x176),'children':(0x0,_0x1bef29['jsx'])('div',{'className':_0xeacf04(0x94),'children':(0x0,_0x1bef29['jsxs'])('div',{'className':'p-6\x20text-center','children':[(0x0,_0x1bef29['jsx'])('div',{'className':_0xeacf04(0xd0),'children':(0x0,_0x1bef29['jsx'])(_0x1287d8,{'className':_0xeacf04(0x14a),'size':0x20})}),(0x0,_0x1bef29[_0xeacf04(0x17d)])('h2',{'className':'text-xl\x20font-semibold\x20text-red-400','children':'Account\x20Data\x20Wiped'}),(0x0,_0x1bef29['jsx'])('p',{'className':'mt-4\x20text-sm\x20text-neutral-400','children':_0xeacf04(0x20b)}),(0x0,_0x1bef29['jsx'])('p',{'className':'mt-4\x20text-sm\x20text-neutral-500','children':_0xeacf04(0x14f)}),(0x0,_0x1bef29[_0xeacf04(0x17d)])(_0xeacf04(0x1c9),{'onClick':()=>window['location']['reload'](),'className':_0xeacf04(0xbb),'children':'Continue'})]})})}):(0x0,_0x1bef29[_0xeacf04(0x17d)])('div',{'className':'fixed\x20inset-0\x20z-50\x20flex\x20items-center\x20justify-center\x20bg-black/60\x20backdrop-blur-sm','children':(0x0,_0x1bef29['jsxs'])(_0xeacf04(0x1be),{'className':'w-full\x20max-w-md\x20max-h-[90vh]\x20mx-4\x20bg-neutral-900\x20rounded-2xl\x20shadow-2xl\x20overflow-y-auto','children':[(0x0,_0x1bef29['jsxs'])(_0xeacf04(0x1be),{'className':_0xeacf04(0x1b4),'children':[(0x0,_0x1bef29['jsxs'])('div',{'className':'flex\x20items-center\x20justify-between\x20mb-4','children':[(0x0,_0x1bef29['jsx'])('div',{'className':_0xeacf04(0x20c),'children':(0x0,_0x1bef29[_0xeacf04(0x17d)])(_0x2f90a7[_0xeacf04(0xf2)],{'className':_0xeacf04(0xdd),'size':0x18})}),(0x0,_0x1bef29['jsx'])('button',{'onClick':_0x533623,'className':_0xeacf04(0x21b),'children':(0x0,_0x1bef29['jsx'])(_0x1eae32['X'],{'size':0x14})})]}),(0x0,_0x1bef29['jsx'])('h2',{'className':'text-xl\x20font-semibold\x20text-white','children':'Unlock\x20Your\x20Messages'}),(0x0,_0x1bef29['jsx'])('p',{'className':'mt-2\x20text-sm\x20text-neutral-400','children':_0xeacf04(0xa2)})]}),null!==_0x2ef3ff&&_0x2ef3ff<=0x3&&(0x0,_0x1bef29['jsx'])(_0xeacf04(0x1be),{'className':_0xeacf04(0x209),'children':(0x0,_0x1bef29['jsx'])(_0x4e71fa,{'attemptsRemaining':_0x2ef3ff})}),(0x0,_0x1bef29[_0xeacf04(0x121)])(_0xeacf04(0x1c2),{'onSubmit':_0x156d04,'className':'p-6\x20space-y-4','children':[(0x0,_0x1bef29['jsxs'])('div',{'children':[(0x0,_0x1bef29['jsx'])('label',{'className':_0xeacf04(0xf6),'children':_0xeacf04(0x232)}),(0x0,_0x1bef29[_0xeacf04(0x121)])(_0xeacf04(0x1be),{'className':_0xeacf04(0x235),'children':[(0x0,_0x1bef29[_0xeacf04(0x17d)])(_0x559777['Key'],{'size':0x12,'className':_0xeacf04(0x175)}),(0x0,_0x1bef29[_0xeacf04(0x17d)])(_0xeacf04(0x1cf),{'type':'password','value':_0x3e2ed0,'onChange':_0x4d5c93=>_0x34d7a8(_0x4d5c93['target'][_0xeacf04(0x216)]),'placeholder':_0xeacf04(0xaa),'className':'w-full\x20pl-10\x20pr-4\x20py-3\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-white\x20placeholder-neutral-500\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500\x20focus:border-transparent','autoFocus':!0x0})]}),_0x3181be&&(0x0,_0x1bef29[_0xeacf04(0x17d)])('p',{'className':_0xeacf04(0x145),'children':_0x3181be})]}),(0x0,_0x1bef29[_0xeacf04(0x17d)])(_0xeacf04(0x1c9),{'type':_0xeacf04(0x249),'disabled':_0xb8ca5c||!_0x3e2ed0,'className':_0xeacf04(0xc2),'children':_0xb8ca5c?(0x0,_0x1bef29['jsx'])(_0xeacf04(0x1be),{'className':_0xeacf04(0xa1)}):(0x0,_0x1bef29[_0xeacf04(0x121)])(_0x1bef29[_0xeacf04(0x248)],{'children':[(0x0,_0x1bef29[_0xeacf04(0x17d)])(_0x2f90a7[_0xeacf04(0xf2)],{'size':0x12}),'Unlock\x20Messages']})}),(0x0,_0x1bef29['jsxs'])(_0xeacf04(0x1be),{'className':_0xeacf04(0x16e),'children':[(0x0,_0x1bef29[_0xeacf04(0x17d)])(_0x372721['AlertTriangle'],{'className':_0xeacf04(0x17f),'size':0x10}),(0x0,_0x1bef29['jsxs'])('p',{'className':_0xeacf04(0x8c),'children':[(0x0,_0x1bef29['jsx'])(_0xeacf04(0x108),{'children':'No\x20recovery\x20option.'}),_0xeacf04(0x23d)]})]})]})]})}):null;}function _0x419bed(){const _0x10002c=_0xdad3c0;let _0x125ac7=(0x0,_0x3b6976['useRouter'])(),{user:_0x2a0492,isLoading:_0x543583,isKeyUnlocked:_0x44882f}=(0x0,_0x449afa[_0x10002c(0x21f)])(),[_0x1231ac,_0xd8324a]=(0x0,_0x27af4d[_0x10002c(0x88)])(!0x1),[_0x22e20d,_0x37d2e4]=(0x0,_0x27af4d[_0x10002c(0x88)])(!0x1);return((0x0,_0x27af4d['useEffect'])(()=>{_0x543583||_0x2a0492||_0xd8324a(!0x0);},[_0x543583,_0x2a0492]),(0x0,_0x27af4d['useEffect'])(()=>{_0x2a0492&&!_0x44882f&&_0x37d2e4(!0x0);},[_0x2a0492,_0x44882f]),_0x543583)?(0x0,_0x1bef29['jsx'])(_0x10002c(0x1be),{'className':'min-h-screen\x20bg-neutral-900\x20flex\x20items-center\x20justify-center','children':(0x0,_0x1bef29[_0x10002c(0x17d)])('div',{'className':'animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-green-500'})}):_0x2a0492?(0x0,_0x1bef29['jsxs'])(_0x1bef29['Fragment'],{'children':[(0x0,_0x1bef29[_0x10002c(0x17d)])(_0x20411a,{}),(0x0,_0x1bef29['jsx'])(_0x21d90b,{'isOpen':_0x22e20d,'onClose':()=>_0x37d2e4(!0x1)})]}):(0x0,_0x1bef29[_0x10002c(0x17d)])(_0x55e690['AuthModal'],{'open':_0x1231ac,'onOpenChange':_0x3e4574=>!_0x3e4574&&_0x125ac7['push']('/')});}_0x56ded7['s']([_0xdad3c0(0x15a),()=>_0x419bed],0xa106);}]));