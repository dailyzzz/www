const _0x126d2a=_0x11f0;function _0x5042(){const _0x11a4ad=['label','text-xs\x20opacity-70\x20line-clamp-2','\x20remaining\x20this\x20month.','toUpperCase','h-16\x20px-4\x20flex\x20items-center\x20justify-between\x20bg-neutral-950\x20border-b\x20border-neutral-800','0\x20Bytes','Failed\x20to\x20decrypt\x20file.\x20The\x20file\x20may\x20be\x20corrupted\x20or\x20you\x20may\x20not\x20have\x20permission\x20to\x20access\x20it.','body','senderName','text-xs\x20text-green-500','flex\x20flex-col\x20h-full\x20bg-neutral-950','smooth','forwardRef','lastMessageAt','flex\x20items-center\x20gap-2\x20p-2\x20rounded-lg\x20','access_token','archive','Your\x20encryption\x20passphrase','Uploaded','Public','addEventListener','search','path','clientY','p-3\x20border-b\x20border-neutral-800','avatar','Root','Bearer\x20','X-Original-Mime-Type','text-xs\x20text-neutral-500','height','Browse','open','2113119hlHcER','password','delayed-open','error','AuthModal','includes','w-full\x20h-full\x20rounded-full\x20object-cover','Attach\x20files','\x20more\x20failed\x20','useAuth','disableHoverableContent','session','size','p-6\x20text-center','Settings','TooltipProvider','pop','var(--radix-popper-anchor-width)','http://localhost:8100/functions/v1/send-dm','getRandomValues','files','Create\x20New\x20Room','trigger','memberCount','mt-1\x20text-sm\x20','bottom','text-center\x20font-medium','flex-1\x20py-3\x20text-sm\x20font-medium\x20','flex-1\x20overflow-y-auto\x20p-4\x20bg-[url(\x27/images/chat-bg.png\x27)]\x20bg-repeat','block\x20text-sm\x20font-medium\x20text-neutral-300\x20mb-2','ml-2\x20px-2\x20py-0.5\x20text-xs\x20bg-green-500\x20text-white\x20rounded-full','.com','all','ilike','block\x20text-sm\x20font-medium\x20text-neutral-300\x20mb-1','Failed\x20to\x20create\x20room','encryptedContent','TooltipTrigger','pointerleave','div','originalFilename','isPointerInTransitRef','This\x20is\x20your\x20FINAL\x20attempt.\x20If\x20you\x20enter\x20the\x20wrong\x20passphrase,\x20ALL\x20your\x20messages,\x20rooms,\x20contacts,\x20and\x20encryption\x20keys\x20will\x20be\x20PERMANENTLY\x20DESTROYED.','admin','flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x20text-neutral-400','1i5ecw','encrypt','joined','charAt','supabase','sort','current','isPublic','createdAt','passphrase','setTimeout','var(--radix-popper-available-height)','Unlocking...','text-green-500','composeEventHandlers','randomUUID','1vctgf','px-3\x20py-1\x20bg-neutral-800/50\x20rounded-full\x20text-xs\x20text-neutral-400','var(--radix-popper-anchor-height)','w-16\x20h-16\x20mx-auto\x20mb-4\x20rounded-full\x20bg-red-500/20\x20flex\x20items-center\x20justify-center','text-xs\x20font-medium\x20truncate','MessageCircle','text/css','replyToContent','image/svg+xml','powerpoint','DismissableLayer','flex-1\x20h-px\x20bg-neutral-700','text-sm\x20text-neutral-400\x20mb-4','text/html','space-y-4','font-medium\x20truncate','text-green-500\x20border-b-2\x20border-green-500','animate-spin','left','space-y-3','Room\x20name','avatarUrl','get','http://localhost:8100/functions/v1/get-dms','w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20transition-colors\x20','bg-neutral-800','delete','image/*,video/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.zip,.rar,.7z,.tar,.gz,.txt,.csv,.md','file','w-full\x20max-w-md\x20max-h-[90vh]\x20mx-4\x20bg-neutral-900\x20rounded-2xl\x20shadow-2xl\x20overflow-auto','text-xl\x20font-semibold\x20text-red-400','stateAttribute','flex\x20items-center\x20justify-end\x20gap-1\x20mt-1\x20','No\x20public\x20key\x20for\x20recipient','onOpen','flex\x20items-center\x20justify-between\x20mt-0.5','npa21l','createContextScope','img','pdf','pow','createSlottable','text-xs\x20text-amber-200/80','2031303PwugRq','font-semibold\x20','getSession','onTriggerLeave','onPointerDown','flex-1\x20overflow-y-auto','location','AlertCircle','5686235XSdMlP','1mm8w8','pointerType','Unlock','useId','trim','limit','Room\x20password','useRouter','text-xl\x20font-semibold\x20text-white','getBoundingClientRect','Take\x20your\x20time.\x20Make\x20sure\x20you\x20remember\x20correctly.','Create\x20room\x20error:','mt-2\x20space-y-2','auto','unknown','bg-green-700/50','p-6\x20space-y-4','text-amber-500','p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800\x20disabled:opacity-50','result','9njp5v','font-semibold','tap\x20here\x20for\x20contact\x20info','Description\x20(optional)','flex\x20items-start\x20gap-3','Join\x20room\x20error:','text-neutral-400','flex\x20items-center\x20justify-between','user_profiles','removeEventListener','instant-open','MoreVertical','p-1\x20text-neutral-400\x20hover:text-white','mt-1','image/webp','7195908PEpvhE','jsxs','Upgrade\x20to\x20unlimited\x20for\x20$6.99/month','flex-1\x20flex\x20flex-col\x20','lastSeen','filter','text-blue-300','application/json','text-[10px]','w-full\x20px-4\x20py-2\x20bg-neutral-700\x20border\x20border-neutral-600\x20rounded-lg\x20focus:outline-none\x20focus:ring-2\x20focus:ring-blue-500\x20text-white','onClick','text-red-400','text-neutral-500','\x20members','attemptsRemaining','120fnTZnm','\x20mb-1','from','AlertTriangle','px-6\x20pt-4','room','useCallback','application/msword','p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','354795zoJCuP','border-green-400','mb-4\x20p-3\x20bg-red-500/10\x20border\x20border-red-500/20\x20rounded-lg\x20text-red-500\x20text-sm','plus','text/javascript','rooms','application/x-tar','text','none','mime_type','Type\x20a\x20message...','mb-4','preventDefault','lock-open','mb-4\x20text-green-500','short','video/webm','useControllableState','flex\x20items-center\x20gap-3','onFocus','116fxf','submit','Globe','success','max','X-Encryption-Iv','M5\x2012h14','Encryption\x20key\x20not\x20available','appendChild','text-sm\x20text-neutral-400\x20truncate','Messages\x20are\x20secured\x20with\x20end-to-end\x20encryption.','getTime','Upload\x20error:','Send','jsx','animate-spin\x20rounded-full\x20h-5\x20w-5\x20border-b-2\x20border-white','append','hidden\x20md:flex\x20flex-col\x20w-16\x20bg-neutral-950\x20border-r\x20border-neutral-800','Type\x20to\x20search\x20rooms','sheet','messages','flex\x20items-end\x20gap-2','stringify','file_size','M12\x205v14','flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs\x20','\x20px-3\x20py-2\x20shadow-sm','Bytes','scroll','Upgrade\x20to\x20send\x20messages','conversations','bg-green-600\x20rounded-tl-xl\x20rounded-tr-sm\x20rounded-bl-xl\x20rounded-br-xl','flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs\x20text-neutral-400','fixed\x20inset-0\x20z-50\x20flex\x20items-center\x20justify-center\x20bg-black/50','mb-2\x20p-2\x20bg-blue-900/30\x20border\x20border-blue-700\x20rounded-lg','rar','public','Enter\x20your\x20passphrase\x20to\x20decrypt\x20messages','You','json','presentation','__scopeTooltip','No\x20recovery\x20option.','onPointerLeave','/settings','tooltip','Download\x20error:','displayName','415594FLMFIF','button','application/x-7z-compressed','map','Create\x20or\x20join\x20a\x20room\x20to\x20start\x20chatting','isSystem','s6n7sd','bg-green-800','animate-spin\x20rounded-full\x20h-8\x20w-8\x20border-b-2\x20border-green-500','toLocaleTimeString','m16\x206-8.414\x208.586a2\x202\x200\x200\x200\x202.829\x202.829l8.414-8.586a4\x204\x200\x201\x200-5.657-5.657l-8.379\x208.551a6\x206\x200\x201\x200\x208.485\x208.485l8.379-8.551','Search\x20rooms\x20error:','currentColor','min','last_seen','text-sm\x20font-medium\x20text-neutral-300','Users','strong','hidden','Failed\x20to\x20send:','text-left','isMine','bg-neutral-900\x20border-t\x20border-neutral-800\x20p-3','mb-2\x20p-2\x20bg-amber-900/30\x20border\x20border-amber-700\x20rounded-lg','display_name','push','w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-blue-500\x20to-blue-600\x20flex\x20items-center\x20justify-center\x20text-lg\x20font-semibold','log','attachmentType','video/','h-14\x20px-4\x20flex\x20items-center\x20justify-between\x20bg-neutral-950\x20border-b\x20border-neutral-800','Offline','target','data','uploading','text-amber-500\x20flex-shrink-0\x20mt-0.5','document','pointerup','w-12\x20h-12\x20rounded-full\x20bg-green-500/20\x20flex\x20items-center\x20justify-center','AES-GCM','flex-1\x20py-2\x20bg-blue-600\x20hover:bg-blue-700\x20disabled:bg-blue-800\x20disabled:cursor-not-allowed\x20rounded-lg\x20font-medium\x20transition-colors','touch','M15\x2022a1\x201\x200\x200\x200\x201-1v-1a2\x202\x200\x200\x200\x201.56-3.25\x208\x208\x200\x201\x200-11.12\x200A2\x202\x200\x200\x200\x208\x2020v1a1\x201\x200\x200\x200\x201\x201z','TURBOPACK','Loader2','flex\x20items-center\x20justify-between\x20mb-4','rect','contains','useState','attachments','http://localhost:8100/functions/v1/get-messages','w-full\x20max-w-md\x20max-h-[90vh]\x20mx-4\x20bg-neutral-900\x20rounded-2xl\x20shadow-2xl\x20overflow-y-auto','form','Upgrade\x20to\x20unlimited','message','type','1vc78b','flex\x20items-center\x20gap-1\x20mt-1','w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-green-500\x20to-green-600\x20flex\x20items-center\x20justify-center\x20text-lg\x20font-semibold','p-4','File\x20too\x20large.\x20Maximum\x20size:\x20','toLocaleDateString','createElement','contentId','p-2\x20bg-green-500\x20text-white\x20rounded-full\x20hover:bg-green-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center','unreadCount','decrypt','flex','text-neutral-400\x20text-xs','encryptionIv','application/vnd.ms-powerpoint','useComposedRefs','joinedAt','top','scrollIntoView','Invalid\x20passphrase.\x20Please\x20try\x20again.','uploadedId','Room\x20ID','href','useEffect','round','Presence','neq','mb-2\x20p-2\x20bg-red-900/30\x20border\x20border-red-700\x20rounded-lg','default','70KZlCHe','value','application/vnd.openxmlformats-officedocument.presentationml.presentation','image/','circle','numeric','phone','POST','flex-1\x20relative','text-xs\x20text-blue-400','video/mp4','slice','w-12\x20h-12\x20object-cover\x20rounded','Join\x20Private\x20Room','w-full\x20p-3\x20flex\x20justify-center\x20','[Key\x20required\x20to\x20decrypt]','w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500','onTriggerEnter','p-2\x20rounded-full\x20','w-full\x20p-3\x20flex\x20justify-center\x20text-neutral-400\x20hover:text-white\x20hover:bg-neutral-900','relative\x20mb-4','1w4ew1','clearTimeout','Rooms','dms','bg-amber-500/10\x20border-amber-500/30','px-3\x20py-1\x20bg-amber-900/30\x20rounded-lg\x20text-xs\x20text-amber-400\x20flex\x20items-center\x20gap-1','hover:bg-neutral-700','Lock','File\x20decryption\x20error:','2ZALdTn','relative','\x20Remaining','Create\x20Room','Failed\x20to\x20fetch\x20conversations:','application/vnd.ms-excel','ArrowRight','.scr','attachment','flex\x20justify-center\x20my-2','hidden\x20md:flex','publicKey','Yesterday','Attempts','application/x-rar-compressed','Some\x20attachments\x20failed\x20to\x20upload','floor','content','Replying\x20to\x20','Fragment','fixed\x20inset-0\x20z-50\x20flex\x20items-center\x20justify-center\x20bg-black/60\x20backdrop-blur-sm','text/csv','bg-amber-500/20\x20border-amber-500/50','Enter\x20your\x20passphrase','LogOut','Key','text-sm\x20text-neutral-300\x20truncate','text-sm\x20text-center\x20mt-2','Video','abs','video/x-msvideo','p-6\x20pb-0','onClose','Upload\x20failed','skull','application/pdf','underline\x20hover:text-amber-300','Direct\x20Messages','M19\x2010v2a7\x207\x200\x200\x201-14\x200v-2','otherUser','mt-4\x20text-amber-500\x20text-sm','encryptedBlob','w-full\x20px-4\x20py-2\x20pl-10\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500','input','blob','Authentication\x20required','auth','useRef','py-4\x20border-t\x20border-neutral-800\x20flex\x20flex-col\x20items-center','mimeType','text-center','clientX','1588808sFCFqm','w-12\x20h-12\x20rounded-full\x20bg-gradient-to-br\x20from-purple-500\x20to-purple-600\x20flex\x20items-center\x20justify-center','avatar_url','w-12\x20h-12\x20rounded-full\x20bg-gradient-to-br\x20from-blue-500\x20to-blue-600\x20flex\x20items-center\x20justify-center\x20text-lg\x20font-semibold','var(--radix-popper-available-width)','name','Tooltip','style','No\x20users\x20found','After\x20','Failed\x20to\x20fetch\x20DM\x20messages:','has','Select\x20a\x20conversation\x20to\x20start\x20messaging','span','http://localhost:8100/functions/v1/send-message','length','Unlock\x20chat','text-center\x20text-neutral-500\x20py-8','text-white','text-xl\x20font-medium\x20text-neutral-300\x20mb-2','Create\x20/\x20Join','onBlur','text-red-400\x20hover:bg-red-500/10\x20hover:text-red-300','Search...','flex-1\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-neutral-500\x20bg-neutral-950','gzip','create','justify-end','Private','2-digit','image/png'];_0x5042=function(){return _0x11a4ad;};return _0x5042();}function _0x11f0(_0x38c417,_0x403d67){_0x38c417=_0x38c417-0x1a2;const _0x5042ae=_0x5042();let _0x11f098=_0x5042ae[_0x38c417];return _0x11f098;}(function(_0x1ecab6,_0x1c876a){const _0x179e42=_0x11f0,_0x4b7019=_0x1ecab6();while(!![]){try{const _0x47c34f=parseInt(_0x179e42(0x2cb))/0x1*(parseInt(_0x179e42(0x33e))/0x2)+parseInt(_0x179e42(0x243))/0x3+-parseInt(_0x179e42(0x372))/0x4+parseInt(_0x179e42(0x24b))/0x5+parseInt(_0x179e42(0x26f))/0x6+parseInt(_0x179e42(0x287))/0x7*(-parseInt(_0x179e42(0x27e))/0x8)+parseInt(_0x179e42(0x1db))/0x9*(-parseInt(_0x179e42(0x320))/0xa);if(_0x47c34f===_0x1c876a)break;else _0x4b7019['push'](_0x4b7019['shift']());}catch(_0x266b69){_0x4b7019['push'](_0x4b7019['shift']());}}}(_0x5042,0x99616),(globalThis['TURBOPACK']||(globalThis[_0x126d2a(0x2f6)]=[]))['push'](['object'==typeof document?document['currentScript']:void 0x0,0xa106,_0x4d45fa=>{'use strict';const _0x4747c1=_0x126d2a;var _0x4459e5=_0x4d45fa['i'](0xa9d4),_0x55d65d=_0x4d45fa['i'](0x117dd),_0x37bdef=_0x4d45fa['i'](0x4886),_0xc5f1f1=_0x4d45fa['i'](0xb12c),_0xc5ca23=_0x4d45fa['i'](0x1220f);_0x4d45fa['i'](0xb83f);var _0x3e8d4c=_0x4d45fa['i'](0x4607),_0x2faa96=_0x4d45fa['i'](0xf1d7),_0x5adeba=_0x4d45fa['i'](0x11464),_0x507fc3=_0x4d45fa['i'](0xbc80);function _0x2dcd3b({view:_0x5ae76f,activeChat:_0x18f371,onSelectChat:_0x56b6cf}){const _0x1ced2b=_0x11f0;let {user:_0x16e60d}=(0x0,_0xc5f1f1[_0x1ced2b(0x1e4)])(),[_0x1d1b1f,_0x454dd0]=(0x0,_0x55d65d[_0x1ced2b(0x2fb)])([]),[_0x63f913,_0x10a300]=(0x0,_0x55d65d['useState'])([]),[_0x32a84f,_0xaa4df5]=(0x0,_0x55d65d[_0x1ced2b(0x2fb)])(!0x0);(0x0,_0x55d65d['useEffect'])(()=>{_0x16e60d&&('dms'===_0x5ae76f?_0x32fd10():_0x5f5aba());},[_0x16e60d,_0x5ae76f]);let _0x32fd10=async()=>{const _0x5b6554=_0x1ced2b;_0xaa4df5(!0x0);try{let _0x1f1a44=await _0x3e8d4c[_0x5b6554(0x20c)]['auth']['getSession'](),_0x462add=_0x1f1a44[_0x5b6554(0x2ec)][_0x5b6554(0x1e6)]?.['access_token'],_0x4be429=await fetch(_0x5b6554(0x22f),{'method':'POST','headers':{'Content-Type':'application/json','Authorization':_0x5b6554(0x1d5)+_0x462add},'body':JSON[_0x5b6554(0x2b1)]({'listConversations':!0x0})}),_0x3f9c9e=await _0x4be429['json']();_0x3f9c9e[_0x5b6554(0x29e)]&&_0x454dd0(_0x3f9c9e[_0x5b6554(0x2b9)]||[]);}catch(_0x4b7ba4){console[_0x5b6554(0x1de)](_0x5b6554(0x342),_0x4b7ba4);}finally{_0xaa4df5(!0x1);}},_0x5f5aba=async()=>{const _0x2a67e6=_0x1ced2b;_0xaa4df5(!0x0);try{let _0x516071=await _0x3e8d4c[_0x2a67e6(0x20c)]['auth']['getSession'](),_0x28863f=_0x516071['data']['session']?.['access_token'],_0x23e286=await fetch('http://localhost:8100/functions/v1/list-rooms',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x28863f},'body':JSON[_0x2a67e6(0x2b1)]({'type':_0x2a67e6(0x20a)})}),_0x558530=await _0x23e286[_0x2a67e6(0x2c2)]();_0x558530['success']&&_0x10a300(_0x558530['rooms']||[]);}catch(_0x14f5dd){console[_0x2a67e6(0x1de)]('Failed\x20to\x20fetch\x20rooms:',_0x14f5dd);}finally{_0xaa4df5(!0x1);}},_0xd2f347=_0x8d4f3f=>{const _0x10f42d=_0x1ced2b;let _0x2ced84=new Date(_0x8d4f3f),_0x28d00b=Math['floor']((new Date()[_0x10f42d(0x2a6)]()-_0x2ced84['getTime']())/0x5265c00);return 0x0===_0x28d00b?_0x2ced84[_0x10f42d(0x2d4)]([],{'hour':_0x10f42d(0x1b8),'minute':'2-digit'}):0x1===_0x28d00b?_0x10f42d(0x34a):_0x28d00b<0x7?_0x2ced84['toLocaleDateString']([],{'weekday':_0x10f42d(0x296)}):_0x2ced84['toLocaleDateString']([],{'month':_0x10f42d(0x296),'day':_0x10f42d(0x325)});};return _0x32a84f?(0x0,_0x4459e5[_0x1ced2b(0x2a9)])('div',{'className':'flex-1\x20flex\x20items-center\x20justify-center','children':(0x0,_0x4459e5['jsx'])(_0x1ced2b(0x202),{'className':_0x1ced2b(0x2d3)})}):'dms'===_0x5ae76f?0x0===_0x1d1b1f['length']?(0x0,_0x4459e5['jsxs'])(_0x1ced2b(0x202),{'className':'flex-1\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-neutral-500\x20p-4','children':[(0x0,_0x4459e5[_0x1ced2b(0x2a9)])('p',{'className':_0x1ced2b(0x370),'children':'No\x20conversations\x20yet'}),(0x0,_0x4459e5['jsx'])('p',{'className':'text-sm\x20text-center\x20mt-2','children':'Start\x20a\x20new\x20chat\x20to\x20begin\x20messaging'})]}):(0x0,_0x4459e5['jsx'])('div',{'className':'flex-1\x20overflow-y-auto','children':_0x1d1b1f['map'](_0x34f52d=>{const _0x173218=_0x1ced2b;var _0x286870;return(0x0,_0x4459e5[_0x173218(0x270)])(_0x173218(0x2cc),{'onClick':()=>_0x56b6cf({'type':'dm','id':_0x34f52d[_0x173218(0x365)]['id'],'name':_0x34f52d[_0x173218(0x365)][_0x173218(0x2ca)],'avatar':_0x34f52d['otherUser'][_0x173218(0x22d)]||void 0x0}),'className':'w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20transition-colors\x20'+(_0x18f371?.[_0x173218(0x302)]==='dm'&&_0x18f371?.['id']===_0x34f52d[_0x173218(0x365)]['id']?'bg-neutral-800':''),'children':[(0x0,_0x4459e5[_0x173218(0x270)])('div',{'className':'relative','children':[(0x0,_0x4459e5[_0x173218(0x2a9)])(_0x173218(0x202),{'className':_0x173218(0x375),'children':_0x34f52d['otherUser'][_0x173218(0x22d)]?(0x0,_0x4459e5['jsx'])(_0x173218(0x23e),{'src':_0x34f52d[_0x173218(0x365)][_0x173218(0x22d)],'alt':'','className':_0x173218(0x1e1)}):_0x34f52d[_0x173218(0x365)][_0x173218(0x2ca)][_0x173218(0x20b)](0x0)[_0x173218(0x1bd)]()}),!!(_0x286870=_0x34f52d['otherUser']['lastSeen'])&&Date['now']()-new Date(_0x286870)[_0x173218(0x2a6)]()<0x493e0&&(0x0,_0x4459e5['jsx'])(_0x173218(0x202),{'className':'absolute\x20bottom-0\x20right-0\x20w-3\x20h-3\x20bg-green-500\x20rounded-full\x20border-2\x20border-neutral-900'})]}),(0x0,_0x4459e5['jsxs'])('div',{'className':'flex-1\x20min-w-0\x20text-left','children':[(0x0,_0x4459e5['jsxs'])(_0x173218(0x202),{'className':_0x173218(0x267),'children':[(0x0,_0x4459e5[_0x173218(0x2a9)])('span',{'className':_0x173218(0x227),'children':_0x34f52d[_0x173218(0x365)]['displayName']}),(0x0,_0x4459e5[_0x173218(0x2a9)])('span',{'className':_0x173218(0x1d7),'children':_0xd2f347(_0x34f52d[_0x173218(0x1c7)])})]}),(0x0,_0x4459e5[_0x173218(0x270)])('div',{'className':_0x173218(0x23b),'children':[(0x0,_0x4459e5[_0x173218(0x2a9)])('span',{'className':_0x173218(0x2a4),'children':'Tap\x20to\x20view\x20messages'}),_0x34f52d['unreadCount']>0x0&&(0x0,_0x4459e5[_0x173218(0x2a9)])('span',{'className':_0x173218(0x1f9),'children':_0x34f52d[_0x173218(0x30c)]})]})]})]},_0x34f52d['id']);})}):0x0===_0x63f913[_0x1ced2b(0x1aa)]?(0x0,_0x4459e5['jsxs'])(_0x1ced2b(0x202),{'className':'flex-1\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-neutral-500\x20p-4','children':[(0x0,_0x4459e5['jsx'])('p',{'className':'text-center','children':'No\x20rooms\x20joined\x20yet'}),(0x0,_0x4459e5['jsx'])('p',{'className':_0x1ced2b(0x359),'children':_0x1ced2b(0x2cf)})]}):(0x0,_0x4459e5[_0x1ced2b(0x2a9)])(_0x1ced2b(0x202),{'className':_0x1ced2b(0x248),'children':_0x63f913[_0x1ced2b(0x2ce)](_0x344bfe=>(0x0,_0x4459e5['jsxs'])(_0x1ced2b(0x2cc),{'onClick':()=>_0x56b6cf({'type':_0x1ced2b(0x283),'id':_0x344bfe['id'],'name':_0x344bfe['name'],'isPublic':_0x344bfe[_0x1ced2b(0x20f)]}),'className':_0x1ced2b(0x230)+(_0x18f371?.['type']===_0x1ced2b(0x283)&&_0x18f371?.['id']===_0x344bfe['id']?_0x1ced2b(0x231):''),'children':[(0x0,_0x4459e5['jsx'])('div',{'className':_0x1ced2b(0x373),'children':_0x344bfe[_0x1ced2b(0x20f)]?(0x0,_0x4459e5['jsx'])(_0x507fc3[_0x1ced2b(0x29d)],{'size':0x18,'className':_0x1ced2b(0x1ad)}):(0x0,_0x4459e5['jsx'])(_0x5adeba['Lock'],{'size':0x18,'className':_0x1ced2b(0x1ad)})}),(0x0,_0x4459e5[_0x1ced2b(0x270)])(_0x1ced2b(0x202),{'className':'flex-1\x20min-w-0\x20text-left','children':[(0x0,_0x4459e5['jsxs'])('div',{'className':_0x1ced2b(0x267),'children':[(0x0,_0x4459e5[_0x1ced2b(0x2a9)])(_0x1ced2b(0x1a8),{'className':'font-medium\x20truncate','children':_0x344bfe['name']}),_0x344bfe[_0x1ced2b(0x313)]&&(0x0,_0x4459e5[_0x1ced2b(0x2a9)])('span',{'className':'text-xs\x20text-neutral-500','children':_0xd2f347(_0x344bfe['joinedAt'])})]}),(0x0,_0x4459e5['jsxs'])('div',{'className':_0x1ced2b(0x23b),'children':[(0x0,_0x4459e5[_0x1ced2b(0x270)])(_0x1ced2b(0x1a8),{'className':'text-sm\x20text-neutral-400\x20truncate\x20flex\x20items-center\x20gap-1','children':[(0x0,_0x4459e5[_0x1ced2b(0x2a9)])(_0x2faa96[_0x1ced2b(0x2db)],{'size':0xe}),_0x344bfe[_0x1ced2b(0x1f2)],_0x1ced2b(0x27c)]}),_0x344bfe[_0x1ced2b(0x30c)]>0x0&&(0x0,_0x4459e5[_0x1ced2b(0x2a9)])(_0x1ced2b(0x1a8),{'className':'ml-2\x20px-2\x20py-0.5\x20text-xs\x20bg-green-500\x20text-white\x20rounded-full','children':_0x344bfe['unreadCount']})]})]})]},_0x344bfe['id']))});}var _0x5d6819=_0x4d45fa['i'](0xb0b7),_0x103cb6=_0x4d45fa['i'](0xaa0b),_0xe15688=_0x4d45fa['i'](0x125f6);let _0x384576=(0x0,_0xe15688['default'])('check-check',[[_0x4747c1(0x1d0),{'d':'M18\x206\x207\x2017l-5-5','key':_0x4747c1(0x29b)}],[_0x4747c1(0x1d0),{'d':'m22\x2010-7.5\x207.5L13\x2016','key':'ke71qq'}]]);var _0x195a6a=_0x4d45fa['i'](0x9ce0);let _0x440e69=(0x0,_0xe15688['default'])(_0x4747c1(0x234),[[_0x4747c1(0x1d0),{'d':'M6\x2022a2\x202\x200\x200\x201-2-2V4a2\x202\x200\x200\x201\x202-2h8a2.4\x202.4\x200\x200\x201\x201.704.706l3.588\x203.588A2.4\x202.4\x200\x200\x201\x2020\x208v12a2\x202\x200\x200\x201-2\x202z','key':'1oefj6'}],[_0x4747c1(0x1d0),{'d':'M14\x202v5a1\x201\x200\x200\x200\x201\x201h5','key':'wfsgrz'}]]);var _0x506e2d=_0x4d45fa['i'](0xd50),_0x506e2d=_0x506e2d,_0x2b2a18=_0x4d45fa['i'](0x7a2e),_0x3911b6=_0x4d45fa['i'](0xf6e9);let _0xa20270=['image/jpeg',_0x4747c1(0x1b9),'image/gif',_0x4747c1(0x26e),_0x4747c1(0x220),_0x4747c1(0x32a),_0x4747c1(0x297),'video/quicktime',_0x4747c1(0x35c),_0x4747c1(0x361),_0x4747c1(0x285),'application/vnd.openxmlformats-officedocument.wordprocessingml.document',_0x4747c1(0x343),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',_0x4747c1(0x311),_0x4747c1(0x322),'text/plain',_0x4747c1(0x353),'text/markdown','application/zip','application/x-zip-compressed',_0x4747c1(0x34c),_0x4747c1(0x2cd),'application/gzip',_0x4747c1(0x28d),_0x4747c1(0x225),_0x4747c1(0x21e),_0x4747c1(0x28b),'application/json','application/xml','text/xml'];async function _0x1dd457(_0x153c32,_0x487794){const _0x5ceba1=_0x4747c1;try{let _0xdcb76b,_0x3270bc=await _0x153c32['arrayBuffer'](),_0x186407=new Uint8Array(_0x3270bc),_0x22e283=(_0xdcb76b=new Uint8Array(0xc),crypto[_0x5ceba1(0x1ee)](_0xdcb76b),_0xdcb76b),_0x3be0ff=await crypto['subtle'][_0x5ceba1(0x209)]({'name':_0x5ceba1(0x2f2),'iv':_0x22e283},_0x487794,_0x186407);return{'encryptedBlob':new Blob([_0x3be0ff],{'type':'application/octet-stream'}),'iv':function(_0x12934b){let _0x597896='';for(let _0x160e10=0x0;_0x160e10<_0x12934b['length'];_0x160e10++)_0x597896+=String['fromCharCode'](_0x12934b[_0x160e10]);return btoa(_0x597896);}(_0x22e283),'originalFilename':_0x153c32['name'],'mimeType':_0x153c32['type'],'fileSize':_0x153c32['size']};}catch(_0x58900d){throw console['error']('File\x20encryption\x20error:',_0x58900d),Error('Failed\x20to\x20encrypt\x20file');}}async function _0x5da574(_0x3808e7,_0x4f4349,_0x26bd03,_0xac467f){const _0x26d6b9=_0x4747c1;try{let _0x2f7c4e=await _0x3808e7['arrayBuffer'](),_0x1a67cd=new Uint8Array(_0x2f7c4e),_0x341caf=function(_0x126b84){const _0x154269=_0x11f0;let _0x365b3c=atob(_0x126b84),_0x321210=new Uint8Array(_0x365b3c[_0x154269(0x1aa)]);for(let _0xe577ff=0x0;_0xe577ff<_0x365b3c[_0x154269(0x1aa)];_0xe577ff++)_0x321210[_0xe577ff]=_0x365b3c['charCodeAt'](_0xe577ff);return _0x321210;}(_0x4f4349),_0x1e130a=await crypto['subtle'][_0x26d6b9(0x30d)]({'name':'AES-GCM','iv':_0x341caf},_0xac467f,_0x1a67cd);return new Blob([_0x1e130a],{'type':_0x26bd03});}catch(_0x37ebf4){throw console['error'](_0x26d6b9(0x33d),_0x37ebf4),Error(_0x26d6b9(0x1c0));}}function _0x255169(_0x39ee51){const _0x50b7e9=_0x4747c1;if(0x0===_0x39ee51)return _0x50b7e9(0x1bf);let _0x4a13a1=Math[_0x50b7e9(0x34e)](Math[_0x50b7e9(0x2e6)](_0x39ee51)/Math[_0x50b7e9(0x2e6)](0x400));return Math['round'](_0x39ee51/Math[_0x50b7e9(0x240)](0x400,_0x4a13a1)*0x64)/0x64+'\x20'+[_0x50b7e9(0x2b6),'KB','MB','GB'][_0x4a13a1];}function _0x152e59({message:_0x5295d3,showSender:_0x2f18c3=!0x1,onReply:_0x27c626}){const _0x5f383b=_0x4747c1;let {user:_0x30f1e0,privateKey:_0x339c79}=(0x0,_0xc5f1f1['useAuth'])(),[_0x21c62a,_0x4e978e]=(0x0,_0x55d65d[_0x5f383b(0x2fb)])(new Set()),[_0x32e097,_0x58fdab]=(0x0,_0x55d65d['useState'])({}),_0x40641f=async _0x1ba165=>{const _0x31bff0=_0x5f383b;if(!_0x339c79)return void _0x58fdab(_0x2da037=>({..._0x2da037,[_0x1ba165['id']]:'Encryption\x20key\x20not\x20available'}));try{var _0x11eb52,_0x2e0ad7;let _0x519c77,_0x11adc1;_0x4e978e(_0x4efae9=>new Set(_0x4efae9)['add'](_0x1ba165['id'])),_0x58fdab(_0x5e6d1e=>{let _0x1970a6={..._0x5e6d1e};return delete _0x1970a6[_0x1ba165['id']],_0x1970a6;});let _0x2101b8=await _0x3e8d4c['supabase']['auth'][_0x31bff0(0x245)](),_0x12f26f=_0x2101b8[_0x31bff0(0x2ec)][_0x31bff0(0x1e6)]?.[_0x31bff0(0x1c9)];if(!_0x12f26f)throw Error(_0x31bff0(0x36b));let _0x35eb47=await fetch('/functions/v1/download-attachment',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':_0x31bff0(0x1d5)+_0x12f26f},'body':JSON[_0x31bff0(0x2b1)]({'attachmentId':_0x1ba165['id']})});if(!_0x35eb47['ok']){let _0x4ab040=await _0x35eb47[_0x31bff0(0x2c2)]();throw Error(_0x4ab040[_0x31bff0(0x1de)]||'Download\x20failed');}let _0x25ab2e=await _0x35eb47[_0x31bff0(0x36a)](),_0x22f0c1=_0x35eb47['headers'][_0x31bff0(0x22e)](_0x31bff0(0x2a0))||_0x1ba165['encryption_iv'],_0x4fb6c8=_0x35eb47['headers'][_0x31bff0(0x22e)](_0x31bff0(0x1d6))||_0x1ba165[_0x31bff0(0x290)];_0x11eb52=await _0x5da574(_0x25ab2e,_0x22f0c1,_0x4fb6c8,_0x339c79),_0x2e0ad7=_0x1ba165['filename'],_0x519c77=URL['createObjectURL'](_0x11eb52),(_0x11adc1=document[_0x31bff0(0x309)]('a'))[_0x31bff0(0x319)]=_0x519c77,_0x11adc1['download']=_0x2e0ad7,document[_0x31bff0(0x1c1)][_0x31bff0(0x2a3)](_0x11adc1),_0x11adc1['click'](),document['body']['removeChild'](_0x11adc1),URL['revokeObjectURL'](_0x519c77);}catch(_0x42e1a4){console['error'](_0x31bff0(0x2c9),_0x42e1a4),_0x58fdab(_0x3c1f70=>({..._0x3c1f70,[_0x1ba165['id']]:_0x42e1a4 instanceof Error?_0x42e1a4['message']:'Download\x20failed'}));}finally{_0x4e978e(_0x37866e=>{const _0x4914c1=_0x31bff0;let _0x274b01=new Set(_0x37866e);return _0x274b01[_0x4914c1(0x232)](_0x1ba165['id']),_0x274b01;});}};if(_0x5295d3['isSystem'])return(0x0,_0x4459e5['jsx'])('div',{'className':_0x5f383b(0x347),'children':(0x0,_0x4459e5[_0x5f383b(0x270)])('div',{'className':_0x5f383b(0x219),'children':[_0x5295d3['senderName'],'\x20',_0x5295d3[_0x5f383b(0x34f)]]})});let _0x2d2f21=_0x5295d3[_0x5f383b(0x2fc)]&&_0x5295d3['attachments'][_0x5f383b(0x1aa)]>0x0;return(0x0,_0x4459e5['jsx'])('div',{'className':'flex\x20'+(_0x5295d3['isMine']?_0x5f383b(0x1b6):'justify-start')+_0x5f383b(0x27f),'children':(0x0,_0x4459e5['jsxs'])('div',{'className':'max-w-[75%]\x20'+(_0x5295d3[_0x5f383b(0x2e0)]?_0x5f383b(0x2ba):'bg-neutral-700\x20rounded-tl-sm\x20rounded-tr-xl\x20rounded-bl-xl\x20rounded-br-xl')+_0x5f383b(0x2b5),'onDoubleClick':()=>_0x27c626?.(_0x5295d3),'children':[_0x2f18c3&&!_0x5295d3['isMine']&&(0x0,_0x4459e5[_0x5f383b(0x2a9)])('div',{'className':'text-xs\x20font-medium\x20text-green-400\x20mb-1','children':_0x5295d3['senderName']}),_0x5295d3[_0x5f383b(0x21f)]&&(0x0,_0x4459e5[_0x5f383b(0x2a9)])(_0x5f383b(0x202),{'className':'mb-2\x20pl-2\x20border-l-2\x20'+(_0x5295d3['isMine']?_0x5f383b(0x288):'border-neutral-500'),'children':(0x0,_0x4459e5['jsx'])('p',{'className':_0x5f383b(0x1bb),'children':_0x5295d3[_0x5f383b(0x21f)]})}),_0x5295d3[_0x5f383b(0x34f)]&&(0x0,_0x4459e5['jsx'])('p',{'className':'text-sm\x20whitespace-pre-wrap\x20break-words','children':_0x5295d3[_0x5f383b(0x34f)]}),_0x2d2f21&&(0x0,_0x4459e5['jsx'])('div',{'className':_0x5f383b(0x258),'children':_0x5295d3['attachments'][_0x5f383b(0x2ce)](_0x4c6f72=>{const _0x2abb4d=_0x5f383b;var _0x514680;let _0x27d2f5=_0x21c62a[_0x2abb4d(0x1a6)](_0x4c6f72['id']),_0x6bd1d9=_0x32e097[_0x4c6f72['id']],_0x37cd5c=(_0x514680=_0x4c6f72['mime_type'])['startsWith'](_0x2abb4d(0x323))?'image':_0x514680['startsWith'](_0x2abb4d(0x2e8))?'video':_0x514680[_0x2abb4d(0x1e0)](_0x2abb4d(0x23f))?'pdf':_0x514680[_0x2abb4d(0x1e0)]('excel')||_0x514680['includes'](_0x2abb4d(0x2ae))?'spreadsheet':_0x514680[_0x2abb4d(0x1e0)](_0x2abb4d(0x221))||_0x514680[_0x2abb4d(0x1e0)](_0x2abb4d(0x2c3))?_0x2abb4d(0x2c3):_0x514680[_0x2abb4d(0x1e0)]('word')||_0x514680[_0x2abb4d(0x1e0)]('document')?_0x2abb4d(0x2ef):_0x514680[_0x2abb4d(0x1e0)]('zip')||_0x514680['includes'](_0x2abb4d(0x2be))||_0x514680[_0x2abb4d(0x1e0)]('tar')||_0x514680['includes'](_0x2abb4d(0x1b4))?_0x2abb4d(0x1ca):_0x514680[_0x2abb4d(0x1e0)]('text')?'text':_0x514680['includes'](_0x2abb4d(0x2c2))||_0x514680[_0x2abb4d(0x1e0)]('xml')?'code':'file';return(0x0,_0x4459e5[_0x2abb4d(0x270)])('div',{'className':_0x2abb4d(0x1c8)+(_0x5295d3[_0x2abb4d(0x2e0)]?_0x2abb4d(0x25b):'bg-neutral-800/50'),'children':[(0x0,_0x4459e5[_0x2abb4d(0x270)])('div',{'className':'w-10\x20h-10\x20flex\x20items-center\x20justify-center\x20rounded\x20'+(_0x5295d3['isMine']?_0x2abb4d(0x2d2):'bg-neutral-700'),'children':['image'===_0x37cd5c&&(0x0,_0x4459e5['jsx'])(_0x506e2d[_0x2abb4d(0x31f)],{'size':0x14}),'image'!==_0x37cd5c&&(0x0,_0x4459e5[_0x2abb4d(0x2a9)])(_0x440e69,{'size':0x14})]}),(0x0,_0x4459e5[_0x2abb4d(0x270)])(_0x2abb4d(0x202),{'className':'flex-1\x20min-w-0','children':[(0x0,_0x4459e5['jsx'])('p',{'className':_0x2abb4d(0x21c),'children':_0x4c6f72['filename']}),(0x0,_0x4459e5[_0x2abb4d(0x2a9)])('p',{'className':'text-[10px]\x20opacity-70','children':_0x255169(_0x4c6f72[_0x2abb4d(0x2b2)])}),_0x6bd1d9&&(0x0,_0x4459e5[_0x2abb4d(0x270)])(_0x2abb4d(0x202),{'className':_0x2abb4d(0x304),'children':[(0x0,_0x4459e5['jsx'])(_0x3911b6[_0x2abb4d(0x24a)],{'size':0xc,'className':_0x2abb4d(0x27a)}),(0x0,_0x4459e5['jsx'])('p',{'className':'text-[10px]\x20text-red-400','children':_0x6bd1d9})]})]}),(0x0,_0x4459e5['jsx'])(_0x2abb4d(0x2cc),{'onClick':()=>_0x40641f(_0x4c6f72),'disabled':_0x27d2f5,'className':_0x2abb4d(0x332)+(_0x5295d3[_0x2abb4d(0x2e0)]?'hover:bg-green-800':_0x2abb4d(0x33b))+'\x20disabled:opacity-50\x20transition-colors','title':'Download','children':_0x27d2f5?(0x0,_0x4459e5['jsx'])(_0x2b2a18[_0x2abb4d(0x2f7)],{'size':0x10,'className':_0x2abb4d(0x229)}):(0x0,_0x4459e5[_0x2abb4d(0x2a9)])(_0x195a6a['Download'],{'size':0x10})})]},_0x4c6f72['id']);})}),(0x0,_0x4459e5[_0x5f383b(0x270)])('div',{'className':_0x5f383b(0x238)+(_0x5295d3['isMine']?'text-green-200':'text-neutral-400'),'children':[(0x0,_0x4459e5['jsx'])(_0x5f383b(0x1a8),{'className':_0x5f383b(0x277),'children':new Date(_0x5295d3[_0x5f383b(0x210)])[_0x5f383b(0x2d4)]([],{'hour':'2-digit','minute':_0x5f383b(0x1b8)})}),_0x5295d3['isMine']&&(0x0,_0x4459e5[_0x5f383b(0x2a9)])('span',{'className':'text-xs','children':_0x5295d3['readAt']?(0x0,_0x4459e5[_0x5f383b(0x2a9)])(_0x384576,{'size':0xe,'className':_0x5f383b(0x275)}):(0x0,_0x4459e5[_0x5f383b(0x2a9)])(_0x103cb6['Check'],{'size':0xe})})]})]})});}var _0x5e9a03=_0x4d45fa['i'](0x39ac),_0x58ced1=_0x4d45fa['i'](0x935f),_0x58423d=_0x4d45fa['i'](0x17ea8);let _0xb098cb=(0x0,_0xe15688[_0x4747c1(0x31f)])('paperclip',[['path',{'d':_0x4747c1(0x2d5),'key':'1miecu'}]]),_0x143148=(0x0,_0xe15688[_0x4747c1(0x31f)])('mic',[[_0x4747c1(0x1d0),{'d':'M12\x2019v3','key':_0x4747c1(0x23c)}],['path',{'d':_0x4747c1(0x364),'key':_0x4747c1(0x303)}],['rect',{'x':'9','y':'2','width':'6','height':'13','rx':'3','key':_0x4747c1(0x2d1)}]]);function _0xf581ff({onSend:_0x2b3896,replyTo:_0x22de4a,onCancelReply:_0x18e61e,disabled:_0x3b9dcc=!0x1,placeholder:_0x52ceaf=_0x4747c1(0x291),remainingMessages:_0x3c0ffb,messageType:_0x413125=_0x4747c1(0x283)}){const _0x482f43=_0x4747c1;let [_0x48bb21,_0x4a44bc]=(0x0,_0x55d65d[_0x482f43(0x2fb)])(''),[_0x123180,_0x42db1a]=(0x0,_0x55d65d[_0x482f43(0x2fb)])([]),[_0x5f4775,_0x568a4c]=(0x0,_0x55d65d['useState'])(!0x1),_0x57492e=(0x0,_0x55d65d[_0x482f43(0x36d)])(null),_0x3fb63c=(0x0,_0x55d65d[_0x482f43(0x36d)])(null),{user:_0x2ee3a3,privateKey:_0x949d3a}=(0x0,_0xc5f1f1[_0x482f43(0x1e4)])(),_0x4798b6=_0x2ee3a3?.['role']===_0x482f43(0x206),_0x2676cc=_0x4798b6?0x3200000:0x500000;(0x0,_0x55d65d['useEffect'])(()=>{const _0x32c020=_0x482f43;_0x57492e['current']&&(_0x57492e['current']['style'][_0x32c020(0x1d8)]=_0x32c020(0x259),_0x57492e[_0x32c020(0x20e)]['style']['height']=Math['min'](_0x57492e[_0x32c020(0x20e)]['scrollHeight'],0x96)+'px');},[_0x48bb21]);let _0x436a01=async()=>{const _0x27ba90=_0x482f43;let _0x597a03=_0x123180[_0x27ba90(0x274)](_0x584e47=>!_0x584e47[_0x27ba90(0x1de)]);if(0x0===_0x597a03['length'])return[];if(!_0x949d3a)throw Error(_0x27ba90(0x2a2));let _0x90b980=[];for(let _0x1bf48f of _0x597a03)try{_0x42db1a(_0x2458a4=>_0x2458a4[_0x27ba90(0x2ce)](_0x32bc64=>_0x32bc64['id']===_0x1bf48f['id']?{..._0x32bc64,'uploading':!0x0}:_0x32bc64));let _0x4998d7=await _0x1dd457(_0x1bf48f['file'],_0x949d3a),_0x2cc69d=new FormData();_0x2cc69d[_0x27ba90(0x2ab)]('file',_0x4998d7[_0x27ba90(0x367)]),_0x2cc69d[_0x27ba90(0x2ab)]('filename',_0x4998d7[_0x27ba90(0x203)]),_0x2cc69d['append'](_0x27ba90(0x36f),_0x4998d7['mimeType']),_0x2cc69d[_0x27ba90(0x2ab)](_0x27ba90(0x310),_0x4998d7['iv']),_0x2cc69d['append'](_0x27ba90(0x2e7),'dm'===_0x413125?'direct_message':_0x27ba90(0x301));let _0x2aa9dd=await _0x3e8d4c[_0x27ba90(0x20c)][_0x27ba90(0x36c)][_0x27ba90(0x245)](),_0x3a8aa0=_0x2aa9dd[_0x27ba90(0x2ec)][_0x27ba90(0x1e6)]?.[_0x27ba90(0x1c9)];if(!_0x3a8aa0)throw Error(_0x27ba90(0x36b));let _0x2be4d2=await fetch('/functions/v1/upload-attachment',{'method':_0x27ba90(0x327),'headers':{'Authorization':_0x27ba90(0x1d5)+_0x3a8aa0},'body':_0x2cc69d});if(!_0x2be4d2['ok']){let _0x22c69b=await _0x2be4d2[_0x27ba90(0x2c2)]();throw Error(_0x22c69b['error']||'Upload\x20failed');}let _0x4f9fcc=await _0x2be4d2['json']();_0x90b980[_0x27ba90(0x2e4)](_0x4f9fcc[_0x27ba90(0x346)]['id']),_0x42db1a(_0x5b7f40=>_0x5b7f40['map'](_0x44b497=>_0x44b497['id']===_0x1bf48f['id']?{..._0x44b497,'uploading':!0x1,'uploadedId':_0x4f9fcc[_0x27ba90(0x346)]['id']}:_0x44b497));}catch(_0xcb58f2){console[_0x27ba90(0x1de)](_0x27ba90(0x2a7),_0xcb58f2),_0x42db1a(_0x3215f7=>_0x3215f7[_0x27ba90(0x2ce)](_0x4599bd=>_0x4599bd['id']===_0x1bf48f['id']?{..._0x4599bd,'uploading':!0x1,'error':_0xcb58f2 instanceof Error?_0xcb58f2[_0x27ba90(0x301)]:_0x27ba90(0x35f)}:_0x4599bd));}return _0x90b980;},_0x4eef8c=async()=>{const _0x3f084b=_0x482f43;let _0x48827d=_0x48bb21['trim']();if((_0x48827d||0x0!==_0x123180['length'])&&!_0x3b9dcc)try{_0x568a4c(!0x0);let _0x19a92e=await _0x436a01();if(_0x123180['filter'](_0x1cfe7e=>!_0x1cfe7e[_0x3f084b(0x1de)]&&!_0x19a92e['includes'](_0x1cfe7e[_0x3f084b(0x317)]||''))[_0x3f084b(0x1aa)]>0x0)throw Error(_0x3f084b(0x34d));_0x2b3896(_0x48827d||'',_0x19a92e['length']>0x0?_0x19a92e:void 0x0),_0x4a44bc(''),_0x42db1a([]),_0x57492e[_0x3f084b(0x20e)]&&(_0x57492e['current'][_0x3f084b(0x1a2)]['height']='auto');}catch(_0xc9c7d7){console['error']('Send\x20error:',_0xc9c7d7);}finally{_0x568a4c(!0x1);}},_0x4790d4=null!=_0x3c0ffb&&_0x3c0ffb<=0x0,_0x2eef0d=_0x48bb21[_0x482f43(0x250)]()||_0x123180[_0x482f43(0x1aa)]>0x0;return(0x0,_0x4459e5[_0x482f43(0x270)])(_0x482f43(0x202),{'className':_0x482f43(0x2e1),'children':[_0x22de4a&&(0x0,_0x4459e5['jsxs'])(_0x482f43(0x202),{'className':'mb-2\x20p-2\x20bg-neutral-800\x20rounded-lg\x20flex\x20items-start\x20justify-between','children':[(0x0,_0x4459e5['jsxs'])(_0x482f43(0x202),{'className':'flex-1\x20min-w-0','children':[(0x0,_0x4459e5[_0x482f43(0x270)])('p',{'className':'text-xs\x20text-green-500\x20font-medium','children':[_0x482f43(0x350),_0x22de4a[_0x482f43(0x1c2)]]}),(0x0,_0x4459e5[_0x482f43(0x2a9)])('p',{'className':_0x482f43(0x358),'children':_0x22de4a[_0x482f43(0x34f)]})]}),(0x0,_0x4459e5['jsx'])(_0x482f43(0x2cc),{'onClick':_0x18e61e,'className':'ml-2\x20p-1\x20text-neutral-400\x20hover:text-white','children':(0x0,_0x4459e5[_0x482f43(0x2a9)])(_0x58ced1['X'],{'size':0x12})})]}),null!=_0x3c0ffb&&_0x3c0ffb<=0xa&&!_0x4790d4&&(0x0,_0x4459e5['jsx'])(_0x482f43(0x202),{'className':_0x482f43(0x2e2),'children':(0x0,_0x4459e5['jsxs'])('p',{'className':'text-xs\x20text-amber-400','children':[_0x3c0ffb,'\x20message',0x1!==_0x3c0ffb?'s':'',_0x482f43(0x1bc),'\x20',(0x0,_0x4459e5[_0x482f43(0x2a9)])('a',{'href':'/settings','className':_0x482f43(0x362),'children':_0x482f43(0x300)})]})}),_0x4790d4&&(0x0,_0x4459e5[_0x482f43(0x2a9)])('div',{'className':_0x482f43(0x31e),'children':(0x0,_0x4459e5['jsxs'])('p',{'className':'text-xs\x20text-red-400','children':['You\x27ve\x20reached\x20your\x20monthly\x20message\x20limit.','\x20',(0x0,_0x4459e5[_0x482f43(0x2a9)])('a',{'href':_0x482f43(0x2c7),'className':'underline\x20hover:text-red-300','children':_0x482f43(0x271)})]})}),!_0x4798b6&&(0x0,_0x4459e5['jsx'])(_0x482f43(0x202),{'className':_0x482f43(0x2bd),'children':(0x0,_0x4459e5['jsxs'])('p',{'className':_0x482f43(0x329),'children':['FREE\x20plan:\x20Max\x205MB\x20per\x20file.','\x20',(0x0,_0x4459e5[_0x482f43(0x2a9)])('a',{'href':_0x482f43(0x2c7),'className':'underline\x20hover:text-blue-300','children':'Upgrade\x20for\x2050MB\x20files'})]})}),_0x123180[_0x482f43(0x1aa)]>0x0&&(0x0,_0x4459e5[_0x482f43(0x2a9)])('div',{'className':'mb-2\x20space-y-2','children':_0x123180[_0x482f43(0x2ce)](_0x2d72c6=>(0x0,_0x4459e5[_0x482f43(0x270)])(_0x482f43(0x202),{'className':'flex\x20items-center\x20gap-2\x20p-2\x20bg-neutral-800\x20rounded-lg','children':[_0x2d72c6['preview']?(0x0,_0x4459e5[_0x482f43(0x2a9)])('img',{'src':_0x2d72c6['preview'],'alt':_0x2d72c6[_0x482f43(0x234)][_0x482f43(0x377)],'className':_0x482f43(0x32c)}):(0x0,_0x4459e5[_0x482f43(0x2a9)])('div',{'className':'w-12\x20h-12\x20flex\x20items-center\x20justify-center\x20bg-neutral-700\x20rounded','children':(0x0,_0x4459e5['jsx'])(_0x440e69,{'size':0x18,'className':_0x482f43(0x266)})}),(0x0,_0x4459e5['jsxs'])('div',{'className':'flex-1\x20min-w-0','children':[(0x0,_0x4459e5[_0x482f43(0x2a9)])('p',{'className':'text-sm\x20text-white\x20truncate','children':_0x2d72c6[_0x482f43(0x234)][_0x482f43(0x377)]}),(0x0,_0x4459e5['jsx'])('p',{'className':'text-xs\x20text-neutral-400','children':_0x255169(_0x2d72c6['file']['size'])}),_0x2d72c6[_0x482f43(0x1de)]&&(0x0,_0x4459e5[_0x482f43(0x2a9)])('p',{'className':'text-xs\x20text-red-400','children':_0x2d72c6[_0x482f43(0x1de)]})]}),_0x2d72c6[_0x482f43(0x2ed)]?(0x0,_0x4459e5['jsx'])(_0x2b2a18[_0x482f43(0x2f7)],{'size':0x14,'className':'text-green-500\x20animate-spin'}):_0x2d72c6[_0x482f43(0x317)]?(0x0,_0x4459e5['jsx'])('span',{'className':_0x482f43(0x1c3),'children':_0x482f43(0x1cc)}):(0x0,_0x4459e5['jsx'])(_0x482f43(0x2cc),{'onClick':()=>{const _0x369eea=_0x482f43;var _0x2ec84e;return _0x2ec84e=_0x2d72c6['id'],void _0x42db1a(_0x168257=>_0x168257[_0x369eea(0x274)](_0x57db9a=>_0x57db9a['id']!==_0x2ec84e));},'className':_0x482f43(0x26c),'children':(0x0,_0x4459e5['jsx'])(_0x58ced1['X'],{'size':0x12})})]},_0x2d72c6['id']))}),(0x0,_0x4459e5['jsxs'])('div',{'className':_0x482f43(0x2b0),'children':[(0x0,_0x4459e5[_0x482f43(0x2a9)])(_0x482f43(0x369),{'ref':_0x3fb63c,'type':_0x482f43(0x234),'multiple':!0x0,'className':_0x482f43(0x2dd),'onChange':_0x19c7c9=>{const _0xaba076=_0x482f43;let _0x1a1ce1=Array[_0xaba076(0x280)](_0x19c7c9[_0xaba076(0x2eb)][_0xaba076(0x1ef)]||[]);if(0x0===_0x1a1ce1['length'])return;let _0x493639=_0x1a1ce1[_0xaba076(0x2ce)](_0x539f9a=>{const _0x68efba=_0xaba076;let _0x522806=function(_0x3f419b,_0x8e9821=0x3200000){const _0x558ccf=_0x11f0;if(!_0x3f419b)return{'valid':!0x1,'error':'No\x20file\x20provided'};if(0x0===_0x3f419b[_0x558ccf(0x1e7)])return{'valid':!0x1,'error':'File\x20is\x20empty'};if(_0x3f419b[_0x558ccf(0x1e7)]>_0x8e9821){let _0x1226e8=(_0x8e9821/0x100000)['toFixed'](0x0);return{'valid':!0x1,'error':_0x558ccf(0x307)+_0x1226e8+'MB'};}if(!_0xa20270['includes'](_0x3f419b['type']))return{'valid':!0x1,'error':'File\x20type\x20not\x20allowed:\x20'+(_0x3f419b[_0x558ccf(0x302)]||_0x558ccf(0x25a))+'.\x20Please\x20upload\x20images,\x20videos,\x20documents,\x20or\x20archives.'};if(!_0x3f419b['name']||_0x3f419b[_0x558ccf(0x377)]['length']>0xff)return{'valid':!0x1,'error':'Invalid\x20filename'};let _0x37e597=_0x3f419b[_0x558ccf(0x377)]['toLowerCase']();return['.exe','.bat','.cmd',_0x558ccf(0x1fa),_0x558ccf(0x345),'.vbs','.js','.jar']['some'](_0x9f1036=>_0x37e597['endsWith'](_0x9f1036))?{'valid':!0x1,'error':'Executable\x20files\x20are\x20not\x20allowed\x20for\x20security\x20reasons'}:{'valid':!0x0};}(_0x539f9a,_0x2676cc);return{'id':crypto[_0x68efba(0x217)](),'file':_0x539f9a,'uploading':!0x1,'error':_0x522806['valid']?void 0x0:_0x522806['error']};});_0x493639['forEach'](_0x456981=>{const _0x3257a9=_0xaba076;if(!_0x456981['error']&&_0x456981[_0x3257a9(0x234)][_0x3257a9(0x302)]['startsWith'](_0x3257a9(0x323))){let _0xbcdf78=new FileReader();_0xbcdf78['onload']=_0x3e8acd=>{const _0xc2d681=_0x3257a9;_0x42db1a(_0x4b1a6a=>_0x4b1a6a['map'](_0x49abbe=>_0x49abbe['id']===_0x456981['id']?{..._0x49abbe,'preview':_0x3e8acd['target']?.[_0xc2d681(0x25f)]}:_0x49abbe));},_0xbcdf78['readAsDataURL'](_0x456981['file']);}}),_0x42db1a(_0x417fff=>[..._0x417fff,..._0x493639]),_0x3fb63c['current']&&(_0x3fb63c[_0xaba076(0x20e)]['value']='');},'accept':_0x482f43(0x233)}),(0x0,_0x4459e5[_0x482f43(0x2a9)])(_0x482f43(0x2cc),{'className':_0x482f43(0x286),'title':'Emoji','disabled':_0x3b9dcc||_0x4790d4,'children':(0x0,_0x4459e5[_0x482f43(0x2a9)])(_0x58423d['Smile'],{'size':0x18})}),(0x0,_0x4459e5['jsx'])(_0x482f43(0x2cc),{'onClick':()=>_0x3fb63c['current']?.['click'](),'className':_0x482f43(0x25e),'title':_0x482f43(0x1e2),'disabled':_0x3b9dcc||_0x4790d4||_0x5f4775,'children':(0x0,_0x4459e5[_0x482f43(0x2a9)])(_0xb098cb,{'size':0x18})}),(0x0,_0x4459e5['jsx'])('div',{'className':_0x482f43(0x328),'children':(0x0,_0x4459e5['jsx'])('textarea',{'ref':_0x57492e,'value':_0x48bb21,'onChange':_0x485e9c=>_0x4a44bc(_0x485e9c['target']['value']),'onKeyDown':_0x5a3cf7=>{const _0x2796ad=_0x482f43;'Enter'!==_0x5a3cf7['key']||_0x5a3cf7['shiftKey']||(_0x5a3cf7[_0x2796ad(0x293)](),_0x4eef8c());},'placeholder':_0x4790d4?_0x482f43(0x2b8):_0x52ceaf,'disabled':_0x3b9dcc||_0x4790d4||_0x5f4775,'rows':0x1,'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-2xl\x20text-sm\x20resize-none\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500\x20disabled:opacity-50\x20disabled:cursor-not-allowed','style':{'maxHeight':'150px'}})}),_0x2eef0d?(0x0,_0x4459e5[_0x482f43(0x2a9)])('button',{'onClick':_0x4eef8c,'disabled':_0x3b9dcc||_0x4790d4||_0x5f4775,'className':_0x482f43(0x30b),'title':'Send','children':_0x5f4775?(0x0,_0x4459e5['jsx'])(_0x2b2a18[_0x482f43(0x2f7)],{'size':0x18,'className':'animate-spin'}):(0x0,_0x4459e5['jsx'])(_0x5e9a03[_0x482f43(0x2a8)],{'size':0x18})}):(0x0,_0x4459e5[_0x482f43(0x2a9)])(_0x482f43(0x2cc),{'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','title':'Voice\x20message','disabled':_0x3b9dcc||_0x4790d4,'children':(0x0,_0x4459e5[_0x482f43(0x2a9)])(_0x143148,{'size':0x18})})]})]});}let _0x393c94=(0x0,_0xe15688['default'])(_0x4747c1(0x294),[[_0x4747c1(0x2f9),{'width':'18','height':'11','x':'3','y':'11','rx':'2','ry':'2','key':_0x4747c1(0x335)}],['path',{'d':'M7\x2011V7a5\x205\x200\x200\x201\x209.9-1','key':_0x4747c1(0x24c)}]]);var _0x5516f9=_0x4d45fa['i'](0x13cf4),_0x4e4893=_0x4d45fa['i'](0x512f),_0x1f5164=_0x4d45fa['i'](0x754e),_0x25c9cf=_0x4d45fa['i'](0x66da),_0x898bb0=_0x4d45fa['i'](0x2a14),_0x4ab0ae=_0x4d45fa['i'](0xd19c),_0xcee82b=_0x4d45fa['i'](0x1236e),_0x25f078=_0x4d45fa['i'](0x17972),_0x461ff4=_0x4d45fa['i'](0xbd29),_0x419de8=_0x4d45fa['i'](0x1670e),_0x38c6ce=_0x4d45fa['i'](0x10edc),_0x32c914=_0x4d45fa['i'](0xe813),[_0x49d46c,_0x31f5de]=(0x0,_0x1f5164[_0x4747c1(0x23d)])('Tooltip',[_0x4ab0ae['createPopperScope']]),_0x51a146=(0x0,_0x4ab0ae['createPopperScope'])(),_0x2dd80d=_0x4747c1(0x1ea),_0x99e453='tooltip.open',[_0x758611,_0x3d8fbe]=_0x49d46c(_0x2dd80d),_0xf12a66=_0x34c595=>{const _0x31cd72=_0x4747c1;let {__scopeTooltip:_0x2e18f6,delayDuration:_0x308c04=0x2bc,skipDelayDuration:_0x2f8a4d=0x12c,disableHoverableContent:_0x24340c=!0x1,children:_0x4f8d0d}=_0x34c595,_0xc6a752=_0x55d65d['useRef'](!0x0),_0x3e967c=_0x55d65d['useRef'](!0x1),_0x264325=_0x55d65d['useRef'](0x0);return _0x55d65d['useEffect'](()=>{const _0x123c1c=_0x11f0;let _0x3ca244=_0x264325['current'];return()=>window[_0x123c1c(0x336)](_0x3ca244);},[]),(0x0,_0x4459e5['jsx'])(_0x758611,{'scope':_0x2e18f6,'isOpenDelayedRef':_0xc6a752,'delayDuration':_0x308c04,'onOpen':_0x55d65d['useCallback'](()=>{const _0x1b1633=_0x11f0;window['clearTimeout'](_0x264325['current']),_0xc6a752[_0x1b1633(0x20e)]=!0x1;},[]),'onClose':_0x55d65d[_0x31cd72(0x284)](()=>{const _0x145543=_0x31cd72;window['clearTimeout'](_0x264325['current']),_0x264325[_0x145543(0x20e)]=window[_0x145543(0x212)](()=>_0xc6a752['current']=!0x0,_0x2f8a4d);},[_0x2f8a4d]),'isPointerInTransitRef':_0x3e967c,'onPointerInTransitChange':_0x55d65d[_0x31cd72(0x284)](_0x509133=>{_0x3e967c['current']=_0x509133;},[]),'disableHoverableContent':_0x24340c,'children':_0x4f8d0d});};_0xf12a66[_0x4747c1(0x2ca)]=_0x2dd80d;var _0x57f58c=_0x4747c1(0x378),[_0x49b58c,_0x5dcbb2]=_0x49d46c(_0x57f58c),_0x1b05f5=_0x42a19e=>{const _0xfda502=_0x4747c1;let {__scopeTooltip:_0x52fa14,children:_0x5b5d97,open:_0x442af9,defaultOpen:_0x4bc47c,onOpenChange:_0x2dc3e6,disableHoverableContent:_0x511436,delayDuration:_0x144858}=_0x42a19e,_0x4d2834=_0x3d8fbe(_0x57f58c,_0x42a19e[_0xfda502(0x2c4)]),_0x5b0b3f=_0x51a146(_0x52fa14),[_0x2b9b0f,_0xf551ce]=_0x55d65d[_0xfda502(0x2fb)](null),_0x5c4270=(0x0,_0x898bb0[_0xfda502(0x24f)])(),_0x3eb1f7=_0x55d65d[_0xfda502(0x36d)](0x0),_0x236e41=_0x511436??_0x4d2834['disableHoverableContent'],_0x280ee9=_0x144858??_0x4d2834['delayDuration'],_0x4eced6=_0x55d65d[_0xfda502(0x36d)](!0x1),[_0x11e20f,_0x31d9b2]=(0x0,_0x38c6ce[_0xfda502(0x298)])({'prop':_0x442af9,'defaultProp':_0x4bc47c??!0x1,'onChange':_0x232235=>{_0x232235?(_0x4d2834['onOpen'](),document['dispatchEvent'](new CustomEvent(_0x99e453))):_0x4d2834['onClose'](),_0x2dc3e6?.(_0x232235);},'caller':_0x57f58c}),_0x21f7b8=_0x55d65d['useMemo'](()=>_0x11e20f?_0x4eced6['current']?_0xfda502(0x1dd):_0xfda502(0x26a):'closed',[_0x11e20f]),_0xab253e=_0x55d65d[_0xfda502(0x284)](()=>{const _0x2ccef2=_0xfda502;window[_0x2ccef2(0x336)](_0x3eb1f7[_0x2ccef2(0x20e)]),_0x3eb1f7['current']=0x0,_0x4eced6[_0x2ccef2(0x20e)]=!0x1,_0x31d9b2(!0x0);},[_0x31d9b2]),_0x9e9737=_0x55d65d[_0xfda502(0x284)](()=>{const _0x71c828=_0xfda502;window[_0x71c828(0x336)](_0x3eb1f7[_0x71c828(0x20e)]),_0x3eb1f7[_0x71c828(0x20e)]=0x0,_0x31d9b2(!0x1);},[_0x31d9b2]),_0x4a885e=_0x55d65d['useCallback'](()=>{const _0x33bba7=_0xfda502;window['clearTimeout'](_0x3eb1f7['current']),_0x3eb1f7['current']=window[_0x33bba7(0x212)](()=>{_0x4eced6['current']=!0x0,_0x31d9b2(!0x0),_0x3eb1f7['current']=0x0;},_0x280ee9);},[_0x280ee9,_0x31d9b2]);return _0x55d65d['useEffect'](()=>()=>{const _0x4da38c=_0xfda502;_0x3eb1f7['current']&&(window[_0x4da38c(0x336)](_0x3eb1f7['current']),_0x3eb1f7[_0x4da38c(0x20e)]=0x0);},[]),(0x0,_0x4459e5['jsx'])(_0x4ab0ae['Root'],{..._0x5b0b3f,'children':(0x0,_0x4459e5[_0xfda502(0x2a9)])(_0x49b58c,{'scope':_0x52fa14,'contentId':_0x5c4270,'open':_0x11e20f,'stateAttribute':_0x21f7b8,'trigger':_0x2b9b0f,'onTriggerChange':_0xf551ce,'onTriggerEnter':_0x55d65d['useCallback'](()=>{_0x4d2834['isOpenDelayedRef']['current']?_0x4a885e():_0xab253e();},[_0x4d2834['isOpenDelayedRef'],_0x4a885e,_0xab253e]),'onTriggerLeave':_0x55d65d['useCallback'](()=>{const _0x5bfb2e=_0xfda502;_0x236e41?_0x9e9737():(window['clearTimeout'](_0x3eb1f7['current']),_0x3eb1f7[_0x5bfb2e(0x20e)]=0x0);},[_0x9e9737,_0x236e41]),'onOpen':_0xab253e,'onClose':_0x9e9737,'disableHoverableContent':_0x236e41,'children':_0x5b5d97})});};_0x1b05f5['displayName']=_0x57f58c;var _0x5e18cb=_0x4747c1(0x200),_0x13f133=_0x55d65d[_0x4747c1(0x1c6)]((_0x5acd6c,_0x2f9d1c)=>{const _0x295519=_0x4747c1;let {__scopeTooltip:_0x4a7b6f,..._0x30ed9c}=_0x5acd6c,_0x28da36=_0x5dcbb2(_0x5e18cb,_0x4a7b6f),_0x1e9b24=_0x3d8fbe(_0x5e18cb,_0x4a7b6f),_0x126fa7=_0x51a146(_0x4a7b6f),_0x1b44f3=_0x55d65d['useRef'](null),_0x4ebca8=(0x0,_0x4e4893['useComposedRefs'])(_0x2f9d1c,_0x1b44f3,_0x28da36['onTriggerChange']),_0xc52dfc=_0x55d65d['useRef'](!0x1),_0x21dda3=_0x55d65d[_0x295519(0x36d)](!0x1),_0x189268=_0x55d65d[_0x295519(0x284)](()=>_0xc52dfc['current']=!0x1,[]);return _0x55d65d[_0x295519(0x31a)](()=>()=>document['removeEventListener'](_0x295519(0x2f0),_0x189268),[_0x189268]),(0x0,_0x4459e5[_0x295519(0x2a9)])(_0x4ab0ae['Anchor'],{'asChild':!0x0,..._0x126fa7,'children':(0x0,_0x4459e5[_0x295519(0x2a9)])(_0x461ff4['Primitive'][_0x295519(0x2cc)],{'aria-describedby':_0x28da36[_0x295519(0x1da)]?_0x28da36['contentId']:void 0x0,'data-state':_0x28da36[_0x295519(0x237)],..._0x30ed9c,'ref':_0x4ebca8,'onPointerMove':(0x0,_0x5516f9[_0x295519(0x216)])(_0x5acd6c['onPointerMove'],_0x3c6a70=>{const _0x20d3f5=_0x295519;_0x20d3f5(0x2f4)!==_0x3c6a70[_0x20d3f5(0x24d)]&&(_0x21dda3['current']||_0x1e9b24[_0x20d3f5(0x204)][_0x20d3f5(0x20e)]||(_0x28da36[_0x20d3f5(0x331)](),_0x21dda3[_0x20d3f5(0x20e)]=!0x0));}),'onPointerLeave':(0x0,_0x5516f9[_0x295519(0x216)])(_0x5acd6c[_0x295519(0x2c6)],()=>{const _0xa9ae97=_0x295519;_0x28da36[_0xa9ae97(0x246)](),_0x21dda3['current']=!0x1;}),'onPointerDown':(0x0,_0x5516f9[_0x295519(0x216)])(_0x5acd6c[_0x295519(0x247)],()=>{const _0x1da1dd=_0x295519;_0x28da36['open']&&_0x28da36[_0x1da1dd(0x35e)](),_0xc52dfc['current']=!0x0,document['addEventListener']('pointerup',_0x189268,{'once':!0x0});}),'onFocus':(0x0,_0x5516f9[_0x295519(0x216)])(_0x5acd6c[_0x295519(0x29a)],()=>{const _0x36f592=_0x295519;_0xc52dfc['current']||_0x28da36[_0x36f592(0x23a)]();}),'onBlur':(0x0,_0x5516f9['composeEventHandlers'])(_0x5acd6c[_0x295519(0x1b0)],_0x28da36[_0x295519(0x35e)]),'onClick':(0x0,_0x5516f9[_0x295519(0x216)])(_0x5acd6c[_0x295519(0x279)],_0x28da36['onClose'])})});});_0x13f133['displayName']=_0x5e18cb;var _0x259a01='TooltipPortal',[_0x2e821d,_0x590d3b]=_0x49d46c(_0x259a01,{'forceMount':void 0x0}),_0x37dbe7=_0x891b1f=>{const _0x4c82e8=_0x4747c1;let {__scopeTooltip:_0x515b60,forceMount:_0x4e4d72,children:_0x159e0a,container:_0x641cd2}=_0x891b1f,_0x1246a0=_0x5dcbb2(_0x259a01,_0x515b60);return(0x0,_0x4459e5[_0x4c82e8(0x2a9)])(_0x2e821d,{'scope':_0x515b60,'forceMount':_0x4e4d72,'children':(0x0,_0x4459e5['jsx'])(_0x25f078[_0x4c82e8(0x31c)],{'present':_0x4e4d72||_0x1246a0['open'],'children':(0x0,_0x4459e5['jsx'])(_0xcee82b['Portal'],{'asChild':!0x0,'container':_0x641cd2,'children':_0x159e0a})})});};_0x37dbe7[_0x4747c1(0x2ca)]=_0x259a01;var _0x15cc6b='TooltipContent',_0x2f914a=_0x55d65d['forwardRef']((_0x34f076,_0x539976)=>{const _0x68b574=_0x4747c1;let _0x51c3f1=_0x590d3b(_0x15cc6b,_0x34f076['__scopeTooltip']),{forceMount:_0x51cefb=_0x51c3f1['forceMount'],side:_0x586284=_0x68b574(0x314),..._0x4ad17a}=_0x34f076,_0x4c9175=_0x5dcbb2(_0x15cc6b,_0x34f076['__scopeTooltip']);return(0x0,_0x4459e5['jsx'])(_0x25f078['Presence'],{'present':_0x51cefb||_0x4c9175['open'],'children':_0x4c9175[_0x68b574(0x1e5)]?(0x0,_0x4459e5[_0x68b574(0x2a9)])(_0x2acd32,{'side':_0x586284,..._0x4ad17a,'ref':_0x539976}):(0x0,_0x4459e5['jsx'])(_0x587879,{'side':_0x586284,..._0x4ad17a,'ref':_0x539976})});}),_0x587879=_0x55d65d['forwardRef']((_0xf69c20,_0x63d7ef)=>{const _0x3370e9=_0x4747c1;let _0x1d844d=_0x5dcbb2(_0x15cc6b,_0xf69c20[_0x3370e9(0x2c4)]),_0xfe7f5=_0x3d8fbe(_0x15cc6b,_0xf69c20[_0x3370e9(0x2c4)]),_0xf5c1fb=_0x55d65d[_0x3370e9(0x36d)](null),_0x43d3e8=(0x0,_0x4e4893[_0x3370e9(0x312)])(_0x63d7ef,_0xf5c1fb),[_0x387f4b,_0x10ce43]=_0x55d65d[_0x3370e9(0x2fb)](null),{trigger:_0x442589,onClose:_0x25b52b}=_0x1d844d,_0x3f741c=_0xf5c1fb[_0x3370e9(0x20e)],{onPointerInTransitChange:_0x35f597}=_0xfe7f5,_0x3bed2b=_0x55d65d['useCallback'](()=>{_0x10ce43(null),_0x35f597(!0x1);},[_0x35f597]),_0x26ef75=_0x55d65d[_0x3370e9(0x284)]((_0x2bdc1b,_0x7f4dcb)=>{const _0x49621c=_0x3370e9;let _0x297691,_0x5b220b=_0x2bdc1b['currentTarget'],_0x4de5cf={'x':_0x2bdc1b['clientX'],'y':_0x2bdc1b[_0x49621c(0x1d1)]},_0x32ef8c=function(_0x4804c4,_0x5bc86c){const _0x527761=_0x49621c;let _0x140402=Math[_0x527761(0x35b)](_0x5bc86c['top']-_0x4804c4['y']),_0x118e37=Math['abs'](_0x5bc86c[_0x527761(0x1f4)]-_0x4804c4['y']),_0x607392=Math['abs'](_0x5bc86c['right']-_0x4804c4['x']),_0x346c3a=Math['abs'](_0x5bc86c[_0x527761(0x22a)]-_0x4804c4['x']);switch(Math[_0x527761(0x2d8)](_0x140402,_0x118e37,_0x607392,_0x346c3a)){case _0x346c3a:return _0x527761(0x22a);case _0x607392:return'right';case _0x140402:return _0x527761(0x314);case _0x118e37:return _0x527761(0x1f4);default:throw Error('unreachable');}}(_0x4de5cf,_0x5b220b['getBoundingClientRect']());_0x10ce43(((_0x297691=[...function(_0x50470b,_0x3ba386,_0x212dee=0x5){const _0x227441=_0x49621c;let _0x2e631c=[];switch(_0x3ba386){case'top':_0x2e631c[_0x227441(0x2e4)]({'x':_0x50470b['x']-_0x212dee,'y':_0x50470b['y']+_0x212dee},{'x':_0x50470b['x']+_0x212dee,'y':_0x50470b['y']+_0x212dee});break;case _0x227441(0x1f4):_0x2e631c['push']({'x':_0x50470b['x']-_0x212dee,'y':_0x50470b['y']-_0x212dee},{'x':_0x50470b['x']+_0x212dee,'y':_0x50470b['y']-_0x212dee});break;case'left':_0x2e631c['push']({'x':_0x50470b['x']+_0x212dee,'y':_0x50470b['y']-_0x212dee},{'x':_0x50470b['x']+_0x212dee,'y':_0x50470b['y']+_0x212dee});break;case'right':_0x2e631c['push']({'x':_0x50470b['x']-_0x212dee,'y':_0x50470b['y']-_0x212dee},{'x':_0x50470b['x']-_0x212dee,'y':_0x50470b['y']+_0x212dee});}return _0x2e631c;}(_0x4de5cf,_0x32ef8c),...function(_0x320de4){let {top:_0x3d8999,right:_0xb794a1,bottom:_0x5bee00,left:_0x507dbf}=_0x320de4;return[{'x':_0x507dbf,'y':_0x3d8999},{'x':_0xb794a1,'y':_0x3d8999},{'x':_0xb794a1,'y':_0x5bee00},{'x':_0x507dbf,'y':_0x5bee00}];}(_0x7f4dcb[_0x49621c(0x255)]())][_0x49621c(0x32b)]())[_0x49621c(0x20d)]((_0x5b3914,_0x2d84fd)=>_0x5b3914['x']<_0x2d84fd['x']?-0x1:_0x5b3914['x']>_0x2d84fd['x']?0x1:_0x5b3914['y']<_0x2d84fd['y']?-0x1:0x1*!!(_0x5b3914['y']>_0x2d84fd['y'])),function(_0x2ed588){const _0x45e90b=_0x49621c;if(_0x2ed588[_0x45e90b(0x1aa)]<=0x1)return _0x2ed588[_0x45e90b(0x32b)]();let _0x3bfc34=[];for(let _0x46db7c=0x0;_0x46db7c<_0x2ed588['length'];_0x46db7c++){let _0x27b024=_0x2ed588[_0x46db7c];for(;_0x3bfc34['length']>=0x2;){let _0x118eb2=_0x3bfc34[_0x3bfc34[_0x45e90b(0x1aa)]-0x1],_0x513a1d=_0x3bfc34[_0x3bfc34['length']-0x2];if((_0x118eb2['x']-_0x513a1d['x'])*(_0x27b024['y']-_0x513a1d['y'])>=(_0x118eb2['y']-_0x513a1d['y'])*(_0x27b024['x']-_0x513a1d['x']))_0x3bfc34[_0x45e90b(0x1eb)]();else break;}_0x3bfc34['push'](_0x27b024);}_0x3bfc34[_0x45e90b(0x1eb)]();let _0x171fa7=[];for(let _0x3675df=_0x2ed588['length']-0x1;_0x3675df>=0x0;_0x3675df--){let _0x5eecd0=_0x2ed588[_0x3675df];for(;_0x171fa7['length']>=0x2;){let _0x2926b5=_0x171fa7[_0x171fa7[_0x45e90b(0x1aa)]-0x1],_0x3117b1=_0x171fa7[_0x171fa7[_0x45e90b(0x1aa)]-0x2];if((_0x2926b5['x']-_0x3117b1['x'])*(_0x5eecd0['y']-_0x3117b1['y'])>=(_0x2926b5['y']-_0x3117b1['y'])*(_0x5eecd0['x']-_0x3117b1['x']))_0x171fa7['pop']();else break;}_0x171fa7['push'](_0x5eecd0);}return(_0x171fa7['pop'](),0x1===_0x3bfc34['length']&&0x1===_0x171fa7['length']&&_0x3bfc34[0x0]['x']===_0x171fa7[0x0]['x']&&_0x3bfc34[0x0]['y']===_0x171fa7[0x0]['y'])?_0x3bfc34:_0x3bfc34['concat'](_0x171fa7);}(_0x297691))),_0x35f597(!0x0);},[_0x35f597]);return _0x55d65d[_0x3370e9(0x31a)](()=>()=>_0x3bed2b(),[_0x3bed2b]),_0x55d65d[_0x3370e9(0x31a)](()=>{const _0x751863=_0x3370e9;if(_0x442589&&_0x3f741c){let _0xd013e6=_0x4d403d=>_0x26ef75(_0x4d403d,_0x3f741c),_0x554561=_0x5d28a2=>_0x26ef75(_0x5d28a2,_0x442589);return _0x442589['addEventListener']('pointerleave',_0xd013e6),_0x3f741c['addEventListener'](_0x751863(0x201),_0x554561),()=>{const _0x25ab98=_0x751863;_0x442589['removeEventListener']('pointerleave',_0xd013e6),_0x3f741c[_0x25ab98(0x269)](_0x25ab98(0x201),_0x554561);};}},[_0x442589,_0x3f741c,_0x26ef75,_0x3bed2b]),_0x55d65d['useEffect'](()=>{if(_0x387f4b){let _0x1028a2=_0x4334ec=>{const _0x25d019=_0x11f0;let _0x10b906=_0x4334ec['target'],_0x16e2ee={'x':_0x4334ec[_0x25d019(0x371)],'y':_0x4334ec[_0x25d019(0x1d1)]},_0x2175ce=_0x442589?.[_0x25d019(0x2fa)](_0x10b906)||_0x3f741c?.['contains'](_0x10b906),_0x3b8f45=!function(_0x2622fc,_0xede25a){const _0x10ea1a=_0x25d019;let {x:_0x308c6c,y:_0x35873e}=_0x2622fc,_0x9a221c=!0x1;for(let _0x1ae5f2=0x0,_0x47f6ea=_0xede25a['length']-0x1;_0x1ae5f2<_0xede25a[_0x10ea1a(0x1aa)];_0x47f6ea=_0x1ae5f2++){let _0x27a354=_0xede25a[_0x1ae5f2],_0x88e8a2=_0xede25a[_0x47f6ea],_0x2c49b0=_0x27a354['x'],_0x3013b8=_0x27a354['y'],_0x422dc8=_0x88e8a2['x'],_0x429361=_0x88e8a2['y'];_0x3013b8>_0x35873e!=_0x429361>_0x35873e&&_0x308c6c<(_0x422dc8-_0x2c49b0)*(_0x35873e-_0x3013b8)/(_0x429361-_0x3013b8)+_0x2c49b0&&(_0x9a221c=!_0x9a221c);}return _0x9a221c;}(_0x16e2ee,_0x387f4b);_0x2175ce?_0x3bed2b():_0x3b8f45&&(_0x3bed2b(),_0x25b52b());};return document['addEventListener']('pointermove',_0x1028a2),()=>document['removeEventListener']('pointermove',_0x1028a2);}},[_0x442589,_0x3f741c,_0x387f4b,_0x25b52b,_0x3bed2b]),(0x0,_0x4459e5['jsx'])(_0x2acd32,{..._0xf69c20,'ref':_0x43d3e8});}),[_0x136400,_0xda63c5]=_0x49d46c(_0x57f58c,{'isInside':!0x1}),_0x5c13e1=(0x0,_0x419de8[_0x4747c1(0x241)])('TooltipContent'),_0x2acd32=_0x55d65d[_0x4747c1(0x1c6)]((_0x35adb5,_0x40d16c)=>{const _0x5af203=_0x4747c1;let {__scopeTooltip:_0x2d95ed,children:_0x4eae1f,'aria-label':_0x518655,onEscapeKeyDown:_0x24bf62,onPointerDownOutside:_0x3128db,..._0x54a7da}=_0x35adb5,_0x2b88cf=_0x5dcbb2(_0x15cc6b,_0x2d95ed),_0x3a4206=_0x51a146(_0x2d95ed),{onClose:_0xc3f73}=_0x2b88cf;return _0x55d65d['useEffect'](()=>(document['addEventListener'](_0x99e453,_0xc3f73),()=>document['removeEventListener'](_0x99e453,_0xc3f73)),[_0xc3f73]),_0x55d65d[_0x5af203(0x31a)](()=>{const _0x5ccbba=_0x5af203;if(_0x2b88cf['trigger']){let _0x4f21b5=_0x309e6e=>{const _0x2ff476=_0x11f0;let _0x16f259=_0x309e6e['target'];_0x16f259?.[_0x2ff476(0x2fa)](_0x2b88cf['trigger'])&&_0xc3f73();};return window[_0x5ccbba(0x1ce)](_0x5ccbba(0x2b7),_0x4f21b5,{'capture':!0x0}),()=>window[_0x5ccbba(0x269)]('scroll',_0x4f21b5,{'capture':!0x0});}},[_0x2b88cf[_0x5af203(0x1f1)],_0xc3f73]),(0x0,_0x4459e5[_0x5af203(0x2a9)])(_0x25c9cf[_0x5af203(0x222)],{'asChild':!0x0,'disableOutsidePointerEvents':!0x1,'onEscapeKeyDown':_0x24bf62,'onPointerDownOutside':_0x3128db,'onFocusOutside':_0x18e677=>_0x18e677['preventDefault'](),'onDismiss':_0xc3f73,'children':(0x0,_0x4459e5[_0x5af203(0x270)])(_0x4ab0ae['Content'],{'data-state':_0x2b88cf[_0x5af203(0x237)],..._0x3a4206,..._0x54a7da,'ref':_0x40d16c,'style':{..._0x54a7da[_0x5af203(0x1a2)],'--radix-tooltip-content-transform-origin':'var(--radix-popper-transform-origin)','--radix-tooltip-content-available-width':_0x5af203(0x376),'--radix-tooltip-content-available-height':_0x5af203(0x213),'--radix-tooltip-trigger-width':_0x5af203(0x1ec),'--radix-tooltip-trigger-height':_0x5af203(0x21a)},'children':[(0x0,_0x4459e5['jsx'])(_0x5c13e1,{'children':_0x4eae1f}),(0x0,_0x4459e5['jsx'])(_0x136400,{'scope':_0x2d95ed,'isInside':!0x0,'children':(0x0,_0x4459e5['jsx'])(_0x32c914[_0x5af203(0x1d4)],{'id':_0x2b88cf[_0x5af203(0x30a)],'role':_0x5af203(0x2c8),'children':_0x518655||_0x4eae1f})})]})});});_0x2f914a[_0x4747c1(0x2ca)]=_0x15cc6b;var _0x3046cd='TooltipArrow',_0x343364=_0x55d65d['forwardRef']((_0x29101f,_0x234c72)=>{let {__scopeTooltip:_0x479d61,..._0xaf838d}=_0x29101f,_0x51fa6d=_0x51a146(_0x479d61);return _0xda63c5(_0x3046cd,_0x479d61)['isInside']?null:(0x0,_0x4459e5['jsx'])(_0x4ab0ae['Arrow'],{..._0x51fa6d,..._0xaf838d,'ref':_0x234c72});});function _0x2ec843(){const _0x582784=_0x4747c1;let {isLocked:_0x3abaed,lockKey:_0x29546e,unlockKey:_0x3116db}=(0x0,_0xc5f1f1['useAuth'])(),[_0x29feec,_0x262739]=(0x0,_0x55d65d['useState'])(!0x1),[_0x226ebc,_0x3ab613]=(0x0,_0x55d65d[_0x582784(0x2fb)])(''),[_0x597b38,_0x16c292]=(0x0,_0x55d65d[_0x582784(0x2fb)])(null),[_0x10b4db,_0x5199e1]=(0x0,_0x55d65d[_0x582784(0x2fb)])(!0x1),_0x34defa=async _0x4eb07f=>{_0x4eb07f['preventDefault'](),_0x16c292(null),_0x5199e1(!0x0);try{await _0x3116db(_0x226ebc)?(_0x262739(!0x1),_0x3ab613('')):_0x16c292('Invalid\x20passphrase.\x20Please\x20try\x20again.');}catch(_0x20288f){_0x16c292('Failed\x20to\x20unlock.\x20Please\x20try\x20again.');}finally{_0x5199e1(!0x1);}};return _0x29feec?(0x0,_0x4459e5[_0x582784(0x2a9)])(_0x582784(0x202),{'className':'fixed\x20inset-0\x20z-50\x20bg-black/70\x20backdrop-blur-sm\x20flex\x20items-center\x20justify-center\x20p-4','children':(0x0,_0x4459e5['jsxs'])('div',{'className':'bg-neutral-800\x20border\x20border-neutral-700\x20rounded-xl\x20p-6\x20w-full\x20max-w-md','children':[(0x0,_0x4459e5[_0x582784(0x2a9)])('h2',{'className':'text-xl\x20font-bold\x20mb-2','children':'Unlock\x20Chat'}),(0x0,_0x4459e5['jsx'])('p',{'className':_0x582784(0x224),'children':'Enter\x20your\x20encryption\x20passphrase\x20to\x20unlock\x20your\x20messages.'}),_0x597b38&&(0x0,_0x4459e5[_0x582784(0x2a9)])(_0x582784(0x202),{'className':_0x582784(0x289),'children':_0x597b38}),(0x0,_0x4459e5['jsxs'])(_0x582784(0x2ff),{'onSubmit':_0x34defa,'className':_0x582784(0x226),'children':[(0x0,_0x4459e5['jsxs'])('div',{'children':[(0x0,_0x4459e5[_0x582784(0x2a9)])(_0x582784(0x1ba),{'htmlFor':'passphrase','className':_0x582784(0x1fd),'children':'Passphrase'}),(0x0,_0x4459e5['jsx'])(_0x582784(0x369),{'id':_0x582784(0x211),'type':_0x582784(0x1dc),'value':_0x226ebc,'onChange':_0x5b9572=>_0x3ab613(_0x5b9572['target'][_0x582784(0x321)]),'required':!0x0,'autoFocus':!0x0,'className':_0x582784(0x278),'placeholder':_0x582784(0x1cb)})]}),(0x0,_0x4459e5[_0x582784(0x270)])('div',{'className':'flex\x20gap-2','children':[(0x0,_0x4459e5[_0x582784(0x2a9)])('button',{'type':_0x582784(0x2cc),'onClick':()=>{_0x262739(!0x1),_0x3ab613(''),_0x16c292(null);},'className':'flex-1\x20py-2\x20bg-neutral-700\x20hover:bg-neutral-600\x20rounded-lg\x20font-medium\x20transition-colors','children':'Cancel'}),(0x0,_0x4459e5['jsx'])('button',{'type':_0x582784(0x29c),'disabled':_0x10b4db||!_0x226ebc,'className':_0x582784(0x2f3),'children':_0x10b4db?_0x582784(0x214):_0x582784(0x24e)})]})]})]})}):(0x0,_0x4459e5['jsx'])(_0xf12a66,{'children':(0x0,_0x4459e5['jsxs'])(_0x1b05f5,{'delayDuration':0x12c,'children':[(0x0,_0x4459e5[_0x582784(0x2a9)])(_0x13f133,{'asChild':!0x0,'children':(0x0,_0x4459e5[_0x582784(0x2a9)])('button',{'onClick':_0x3abaed?()=>{_0x262739(!0x0),_0x16c292(null),_0x3ab613('');}:()=>{_0x29546e();},'className':'p-2\x20rounded-lg\x20transition-colors\x20'+(_0x3abaed?_0x582784(0x1b1):'text-green-400\x20hover:bg-green-500/10\x20hover:text-green-300'),'aria-label':_0x3abaed?_0x582784(0x1ab):'Lock\x20chat','children':_0x3abaed?(0x0,_0x4459e5[_0x582784(0x2a9)])(_0x5adeba[_0x582784(0x33c)],{'size':0x14}):(0x0,_0x4459e5[_0x582784(0x2a9)])(_0x393c94,{'size':0x14})})}),(0x0,_0x4459e5['jsx'])(_0x37dbe7,{'children':(0x0,_0x4459e5[_0x582784(0x270)])(_0x2f914a,{'side':'bottom','align':'center','className':'bg-neutral-800\x20border\x20border-neutral-700\x20px-3\x20py-2\x20rounded-lg\x20text-sm\x20text-white\x20shadow-lg\x20z-50','sideOffset':0x5,'children':[_0x3abaed?(0x0,_0x4459e5[_0x582784(0x270)])(_0x4459e5['Fragment'],{'children':[(0x0,_0x4459e5[_0x582784(0x2a9)])('p',{'className':'font-medium','children':'Chat\x20Locked'}),(0x0,_0x4459e5[_0x582784(0x2a9)])('p',{'className':'text-neutral-400\x20text-xs','children':'Click\x20to\x20unlock\x20and\x20decrypt\x20messages'})]}):(0x0,_0x4459e5['jsxs'])(_0x4459e5[_0x582784(0x351)],{'children':[(0x0,_0x4459e5['jsx'])('p',{'className':'font-medium','children':'Chat\x20Unlocked'}),(0x0,_0x4459e5['jsx'])('p',{'className':_0x582784(0x30f),'children':'Click\x20to\x20lock\x20and\x20clear\x20decryption\x20keys\x20from\x20memory'})]}),(0x0,_0x4459e5[_0x582784(0x2a9)])(_0x343364,{'className':'fill-neutral-700'})]})})]})});}_0x343364[_0x4747c1(0x2ca)]=_0x3046cd;var _0x27781c=_0x4d45fa['i'](0x11809);let _0x505910=(0x0,_0xe15688['default'])(_0x4747c1(0x326),[['path',{'d':'M13.832\x2016.568a1\x201\x200\x200\x200\x201.213-.303l.355-.465A2\x202\x200\x200\x201\x2017\x2015h3a2\x202\x200\x200\x201\x202\x202v3a2\x202\x200\x200\x201-2\x202A18\x2018\x200\x200\x201\x202\x204a2\x202\x200\x200\x201\x202-2h3a2\x202\x200\x200\x201\x202\x202v3a2\x202\x200\x200\x201-.8\x201.6l-.468.351a1\x201\x200\x200\x200-.292\x201.233\x2014\x2014\x200\x200\x200\x206.392\x206.384','key':_0x4747c1(0x260)}]]);var _0x5a8164=_0x4d45fa['i'](0x1337c),_0x29cc77=_0x4d45fa['i'](0x5c21),_0x2be082=_0x4d45fa['i'](0x18267);function _0x2242cd({chat:_0x449df5,onBack:_0x544660}){const _0x596e86=_0x4747c1;let {user:_0x530cec,privateKey:_0x1861b9,isKeyUnlocked:_0x1635b4}=(0x0,_0xc5f1f1['useAuth'])(),[_0x42289c,_0x8f3432]=(0x0,_0x55d65d['useState'])([]),[_0x43b4b6,_0x485729]=(0x0,_0x55d65d[_0x596e86(0x2fb)])(!0x0),[_0x339818,_0x18d061]=(0x0,_0x55d65d['useState'])(!0x1),[_0x385564,_0x2371de]=(0x0,_0x55d65d[_0x596e86(0x2fb)])(null),[_0x187030,_0x1dfb23]=(0x0,_0x55d65d[_0x596e86(0x2fb)])(null),[_0x60c47,_0x43d466]=(0x0,_0x55d65d['useState'])(null),_0x184eb6=(0x0,_0x55d65d['useRef'])(null),_0x31f81f=(0x0,_0x55d65d[_0x596e86(0x36d)])(null),_0x18865c=(0x0,_0x55d65d['useCallback'])(()=>{const _0x1c2f60=_0x596e86;_0x184eb6[_0x1c2f60(0x20e)]?.[_0x1c2f60(0x315)]({'behavior':_0x1c2f60(0x1c5)});},[]);(0x0,_0x55d65d['useEffect'])(()=>{_0x18865c();},[_0x42289c,_0x18865c]),(0x0,_0x55d65d[_0x596e86(0x31a)])(()=>{_0x530cec&&_0x1635b4&&('dm'===_0x449df5['type']?_0x19457a():_0x31e472(),_0x1b8be3());},[_0x530cec,_0x449df5,_0x1635b4]);let _0x1b8be3=async()=>{const _0x4c382f=_0x596e86;try{let _0x41763c=await _0x3e8d4c['supabase'][_0x4c382f(0x36c)][_0x4c382f(0x245)](),_0x273c0d=_0x41763c['data'][_0x4c382f(0x1e6)]?.[_0x4c382f(0x1c9)],_0x15ebea=await fetch('http://localhost:8100/functions/v1/get-message-count',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x273c0d}}),_0x3262ab=await _0x15ebea['json']();_0x3262ab['success']&&_0x43d466(_0x3262ab['remaining']);}catch(_0x1993c8){console['error']('Failed\x20to\x20fetch\x20message\x20count:',_0x1993c8);}},_0x19457a=async()=>{const _0x199134=_0x596e86;_0x485729(!0x0);try{let _0x18ba4c=await _0x3e8d4c[_0x199134(0x20c)]['auth'][_0x199134(0x245)](),_0x9a6d3c=_0x18ba4c['data'][_0x199134(0x1e6)]?.[_0x199134(0x1c9)],_0x3d181c=await fetch('http://localhost:8100/functions/v1/get-dms',{'method':'POST','headers':{'Content-Type':_0x199134(0x276),'Authorization':_0x199134(0x1d5)+_0x9a6d3c},'body':JSON['stringify']({'userId':_0x449df5['id']})}),_0x3ee0ab=await _0x3d181c['json']();if(_0x3ee0ab['success']){_0x1dfb23(_0x3ee0ab['otherUser']['publicKey']);let _0x6384b4=await _0x5d44b1(_0x3ee0ab['messages'],_0x3ee0ab[_0x199134(0x365)][_0x199134(0x349)]);_0x8f3432(_0x6384b4);}}catch(_0x180484){console[_0x199134(0x1de)](_0x199134(0x1a5),_0x180484);}finally{_0x485729(!0x1);}},_0x31e472=async()=>{const _0x110b51=_0x596e86;_0x485729(!0x0);try{let _0x444785=await _0x3e8d4c['supabase'][_0x110b51(0x36c)]['getSession'](),_0x312246=_0x444785[_0x110b51(0x2ec)][_0x110b51(0x1e6)]?.['access_token'],_0x35ef40=await fetch(_0x110b51(0x2fd),{'method':_0x110b51(0x327),'headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x312246},'body':JSON[_0x110b51(0x2b1)]({'roomId':_0x449df5['id']})}),_0x1c3417=await _0x35ef40['json']();if(_0x1c3417[_0x110b51(0x29e)]){let _0x655dfd=_0x1c3417[_0x110b51(0x2af)]['map'](_0x44c82c=>({..._0x44c82c,'content':_0x44c82c[_0x110b51(0x2d0)]?'joined\x20the\x20room':'[Encrypted\x20message]'}));_0x8f3432(_0x655dfd);}}catch(_0x10366a){console[_0x110b51(0x1de)]('Failed\x20to\x20fetch\x20room\x20messages:',_0x10366a);}finally{_0x485729(!0x1);}},_0x5d44b1=async(_0x1ff8f8,_0x3ee5c4)=>{const _0x2984f3=_0x596e86;if(!_0x1861b9||!_0x3ee5c4)return _0x1ff8f8['map'](_0x23eb56=>({..._0x23eb56,'content':_0x2984f3(0x32f)}));try{let _0x4cfee9=await(0x0,_0x5d6819['importPublicKey'])(_0x3ee5c4),_0x75639e=await(0x0,_0x5d6819['deriveSharedSecret'])(_0x1861b9,_0x4cfee9);return await Promise[_0x2984f3(0x1fb)](_0x1ff8f8[_0x2984f3(0x2ce)](async _0x1de9a2=>{const _0x1ae9f9=_0x2984f3;if(_0x1de9a2[_0x1ae9f9(0x2d0)])return{..._0x1de9a2,'content':'joined\x20the\x20conversation'};try{let _0x19a4f5=await(0x0,_0x5d6819['decryptSymmetric'])({'ciphertext':_0x1de9a2[_0x1ae9f9(0x1ff)],'nonce':_0x1de9a2['nonce']},_0x75639e);return{..._0x1de9a2,'content':_0x19a4f5};}catch{return{..._0x1de9a2,'content':'[Failed\x20to\x20decrypt]'};}}));}catch{return _0x1ff8f8[_0x2984f3(0x2ce)](_0x5a0084=>({..._0x5a0084,'content':'[Decryption\x20error]'}));}},_0xdc1c05=async _0x503897=>{const _0x544413=_0x596e86;if(_0x530cec&&_0x1861b9){_0x18d061(!0x0);try{let _0x2aca99=await _0x3e8d4c[_0x544413(0x20c)]['auth'][_0x544413(0x245)](),_0x505c3f=_0x2aca99[_0x544413(0x2ec)]['session']?.[_0x544413(0x1c9)];if('dm'===_0x449df5['type']){if(!_0x187030)return void console['error'](_0x544413(0x239));let {encryptSymmetric:_0xcf21ee,deriveSharedSecret:_0x6b0a6f,importPublicKey:_0x427b5d}=await _0x4d45fa['A'](0x183d9),_0x35bc44=await _0x427b5d(_0x187030),_0x33133f=await _0x6b0a6f(_0x1861b9,_0x35bc44),{ciphertext:_0x659698,nonce:_0x2ccb3d}=await _0xcf21ee(_0x503897,_0x33133f),{ciphertext:_0x26e0f}=await _0xcf21ee(_0x503897,_0x33133f),_0xbf231a=await fetch(_0x544413(0x1ed),{'method':'POST','headers':{'Content-Type':_0x544413(0x276),'Authorization':'Bearer\x20'+_0x505c3f},'body':JSON['stringify']({'recipientId':_0x449df5['id'],'encryptedContentSender':_0x659698,'encryptedContentRecipient':_0x26e0f,'nonce':_0x2ccb3d,'replyTo':_0x385564?.['id']})}),_0x1c680b=await _0xbf231a[_0x544413(0x2c2)]();if(_0x1c680b[_0x544413(0x29e)]){let _0x2c8c0d={'id':_0x1c680b[_0x544413(0x301)]['id'],'senderId':_0x530cec['id'],'senderName':_0x530cec['display_name']||_0x544413(0x2c1),'content':_0x503897,'isMine':!0x0,'createdAt':_0x1c680b['message'][_0x544413(0x210)],'replyTo':_0x385564?.['id'],'replyToContent':_0x385564?.[_0x544413(0x34f)]};_0x8f3432(_0x397b20=>[..._0x397b20,_0x2c8c0d]),_0x2371de(null),null!==_0x60c47&&_0x43d466(Math[_0x544413(0x29f)](0x0,_0x60c47-0x1));}else console['error'](_0x544413(0x2de),_0x1c680b[_0x544413(0x1de)]);}else{let _0x3f4d16=await fetch(_0x544413(0x1a9),{'method':_0x544413(0x327),'headers':{'Content-Type':_0x544413(0x276),'Authorization':'Bearer\x20'+_0x505c3f},'body':JSON[_0x544413(0x2b1)]({'roomId':_0x449df5['id'],'encryptedContent':_0x503897,'nonce':'placeholder','replyTo':_0x385564?.['id']})}),_0x31d87e=await _0x3f4d16[_0x544413(0x2c2)]();if(_0x31d87e[_0x544413(0x29e)]){let _0x25b36a={'id':_0x31d87e['message']['id'],'senderId':_0x530cec['id'],'senderName':_0x530cec[_0x544413(0x2e3)]||'You','content':_0x503897,'isMine':!0x0,'createdAt':_0x31d87e['message']['createdAt']};_0x8f3432(_0x43459b=>[..._0x43459b,_0x25b36a]),_0x2371de(null),null!==_0x60c47&&_0x43d466(Math[_0x544413(0x29f)](0x0,_0x60c47-0x1));}}}catch(_0x5043f5){console[_0x544413(0x1de)]('Send\x20error:',_0x5043f5);}finally{_0x18d061(!0x1);}}};return(0x0,_0x4459e5['jsxs'])(_0x596e86(0x202),{'className':_0x596e86(0x1c4),'children':[(0x0,_0x4459e5[_0x596e86(0x270)])('div',{'className':'h-16\x20px-4\x20flex\x20items-center\x20justify-between\x20bg-neutral-900\x20border-b\x20border-neutral-800','children':[(0x0,_0x4459e5['jsxs'])('div',{'className':'flex\x20items-center\x20gap-3','children':[(0x0,_0x4459e5['jsx'])('button',{'onClick':_0x544660,'className':'md:hidden\x20p-2\x20-ml-2\x20text-neutral-400\x20hover:text-white','children':(0x0,_0x4459e5['jsx'])(_0x27781c['ArrowLeft'],{'size':0x18})}),(0x0,_0x4459e5[_0x596e86(0x2a9)])('div',{'className':_0x596e86(0x2e5),'children':_0x449df5[_0x596e86(0x1d3)]?(0x0,_0x4459e5[_0x596e86(0x2a9)])('img',{'src':_0x449df5['avatar'],'alt':'','className':'w-full\x20h-full\x20rounded-full\x20object-cover'}):_0x596e86(0x283)===_0x449df5['type']?(0x0,_0x4459e5[_0x596e86(0x2a9)])(_0x2faa96['Users'],{'size':0x14,'className':_0x596e86(0x1ad)}):_0x449df5[_0x596e86(0x377)][_0x596e86(0x20b)](0x0)['toUpperCase']()}),(0x0,_0x4459e5[_0x596e86(0x270)])('div',{'children':[(0x0,_0x4459e5[_0x596e86(0x2a9)])('h2',{'className':'font-medium','children':_0x449df5[_0x596e86(0x377)]}),(0x0,_0x4459e5['jsx'])('p',{'className':'text-xs\x20text-neutral-400','children':_0x596e86(0x283)===_0x449df5['type']?(0x0,_0x4459e5['jsx'])(_0x596e86(0x1a8),{'className':'flex\x20items-center\x20gap-1','children':_0x449df5['isPublic']?'Public\x20room':'Private\x20room'}):_0x596e86(0x262)})]})]}),(0x0,_0x4459e5[_0x596e86(0x270)])('div',{'className':'flex\x20items-center\x20gap-1','children':[(0x0,_0x4459e5['jsx'])(_0x2ec843,{}),(0x0,_0x4459e5[_0x596e86(0x2a9)])('button',{'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','children':(0x0,_0x4459e5['jsx'])(_0x5a8164[_0x596e86(0x35a)],{'size':0x16})}),(0x0,_0x4459e5[_0x596e86(0x2a9)])(_0x596e86(0x2cc),{'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','children':(0x0,_0x4459e5['jsx'])(_0x505910,{'size':0x16})}),(0x0,_0x4459e5[_0x596e86(0x2a9)])('button',{'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','children':(0x0,_0x4459e5['jsx'])(_0x29cc77[_0x596e86(0x26b)],{'size':0x16})})]})]}),(0x0,_0x4459e5['jsx'])(_0x596e86(0x202),{'ref':_0x31f81f,'className':_0x596e86(0x1f7),'style':{'backgroundImage':'linear-gradient(rgba(23,\x2023,\x2023,\x200.95),\x20rgba(23,\x2023,\x2023,\x200.95))'},'children':_0x1635b4?_0x43b4b6?(0x0,_0x4459e5[_0x596e86(0x2a9)])(_0x596e86(0x202),{'className':'flex\x20items-center\x20justify-center\x20h-full','children':(0x0,_0x4459e5[_0x596e86(0x2a9)])('div',{'className':_0x596e86(0x2d3)})}):0x0===_0x42289c['length']?(0x0,_0x4459e5['jsxs'])(_0x596e86(0x202),{'className':_0x596e86(0x207),'children':[(0x0,_0x4459e5[_0x596e86(0x2a9)])(_0x2be082['Shield'],{'size':0x30,'className':_0x596e86(0x295)}),(0x0,_0x4459e5[_0x596e86(0x2a9)])('p',{'className':_0x596e86(0x1f5),'children':'End-to-end\x20encrypted'}),(0x0,_0x4459e5['jsxs'])('p',{'className':_0x596e86(0x359),'children':[_0x596e86(0x2a5),(0x0,_0x4459e5[_0x596e86(0x2a9)])('br',{}),'Only\x20you\x20and\x20',_0x449df5[_0x596e86(0x377)],'\x20can\x20read\x20them.']})]}):(0x0,_0x4459e5[_0x596e86(0x270)])(_0x4459e5['Fragment'],{'children':[(0x0,_0x4459e5['jsx'])('div',{'className':'flex\x20justify-center\x20mb-4','children':(0x0,_0x4459e5['jsxs'])(_0x596e86(0x202),{'className':_0x596e86(0x33a),'children':[(0x0,_0x4459e5['jsx'])(_0x5adeba[_0x596e86(0x33c)],{'size':0xc}),'Messages\x20are\x20end-to-end\x20encrypted']})}),_0x42289c[_0x596e86(0x2ce)]((_0xc038a2,_0x3ca76a)=>{const _0x5cff3d=_0x596e86;let _0x506799=_0x5cff3d(0x283)===_0x449df5[_0x5cff3d(0x302)]&&!_0xc038a2[_0x5cff3d(0x2e0)]&&(0x0===_0x3ca76a||_0x42289c[_0x3ca76a-0x1]['senderId']!==_0xc038a2['senderId']);return(0x0,_0x4459e5[_0x5cff3d(0x2a9)])(_0x152e59,{'message':_0xc038a2,'showSender':_0x506799,'onReply':_0x2371de},_0xc038a2['id']);}),(0x0,_0x4459e5[_0x596e86(0x2a9)])('div',{'ref':_0x184eb6})]}):(0x0,_0x4459e5['jsxs'])('div',{'className':_0x596e86(0x207),'children':[(0x0,_0x4459e5[_0x596e86(0x2a9)])(_0x5adeba[_0x596e86(0x33c)],{'size':0x30,'className':_0x596e86(0x292)}),(0x0,_0x4459e5[_0x596e86(0x2a9)])('p',{'className':_0x596e86(0x370),'children':_0x596e86(0x2c0)})]})}),_0x1635b4&&(0x0,_0x4459e5['jsx'])(_0xf581ff,{'onSend':_0xdc1c05,'replyTo':_0x385564,'onCancelReply':()=>_0x2371de(null),'disabled':_0x339818,'remainingMessages':_0x60c47})]});}var _0x2354d7=_0x4d45fa['i'](0xd88c);let _0x389506=(0x0,_0xe15688['default'])(_0x4747c1(0x28a),[['path',{'d':_0x4747c1(0x2a1),'key':'1ays0h'}],['path',{'d':_0x4747c1(0x2b3),'key':'s699le'}]]);var _0x660ab=_0x4d45fa['i'](0x11b48);function _0xbea0a({open:_0x5eeddd,onOpenChange:_0x4e0050,view:_0x3f4e87,onChatCreated:_0xc16740}){const _0x58dee7=_0x4747c1;let {user:_0x276b7d}=(0x0,_0xc5f1f1[_0x58dee7(0x1e4)])(),[_0x397f83,_0x521e2e]=(0x0,_0x55d65d[_0x58dee7(0x2fb)])('search'),[_0x1adc01,_0x5dba1c]=(0x0,_0x55d65d[_0x58dee7(0x2fb)])(''),[_0x462d9a,_0x2f2c23]=(0x0,_0x55d65d[_0x58dee7(0x2fb)])([]),[_0xae67e6,_0x18f1c0]=(0x0,_0x55d65d[_0x58dee7(0x2fb)])([]),[_0x5e4825,_0x5d4fd9]=(0x0,_0x55d65d['useState'])(!0x1),[_0x29ac88,_0x5c60a9]=(0x0,_0x55d65d['useState'])(!0x1),[_0x3c33a9,_0x534082]=(0x0,_0x55d65d[_0x58dee7(0x2fb)])(''),[_0x160990,_0x3e001c]=(0x0,_0x55d65d[_0x58dee7(0x2fb)])(''),[_0x24f30a,_0x93356a]=(0x0,_0x55d65d[_0x58dee7(0x2fb)])(!0x0),[_0x5c7aef,_0x3803cb]=(0x0,_0x55d65d[_0x58dee7(0x2fb)])(''),[_0x2a735c,_0x2e16d9]=(0x0,_0x55d65d['useState'])(0x64),[_0x307555,_0x302dc0]=(0x0,_0x55d65d['useState'])(''),[_0x5ee78f,_0x452049]=(0x0,_0x55d65d['useState'])('');(0x0,_0x55d65d[_0x58dee7(0x31a)])(()=>{const _0x229eed=_0x58dee7;_0x5eeddd||(_0x5dba1c(''),_0x2f2c23([]),_0x18f1c0([]),_0x521e2e(_0x229eed(0x1cf)),_0x47e44f());},[_0x5eeddd]),(0x0,_0x55d65d[_0x58dee7(0x31a)])(()=>{const _0x304f06=_0x58dee7;_0x1adc01[_0x304f06(0x1aa)]>=0x2?_0x304f06(0x338)===_0x3f4e87?_0x58ce84():_0x4edec3():(_0x2f2c23([]),_0x18f1c0([]));},[_0x1adc01,_0x3f4e87]);let _0x47e44f=()=>{_0x534082(''),_0x3e001c(''),_0x93356a(!0x0),_0x3803cb(''),_0x2e16d9(0x64),_0x302dc0(''),_0x452049('');},_0x58ce84=async()=>{const _0x437697=_0x58dee7;_0x5d4fd9(!0x0);try{let {data:_0x3cc9f6,error:_0xce11b}=await _0x3e8d4c[_0x437697(0x20c)][_0x437697(0x280)](_0x437697(0x268))['select']('id,\x20display_name,\x20avatar_url,\x20last_seen')[_0x437697(0x1fc)](_0x437697(0x2e3),'%'+_0x1adc01+'%')[_0x437697(0x31d)]('id',_0x276b7d?.['id'])[_0x437697(0x251)](0x14);!_0xce11b&&_0x3cc9f6&&_0x2f2c23(_0x3cc9f6['map'](_0x5a0e71=>({'id':_0x5a0e71['id'],'displayName':_0x5a0e71['display_name'],'avatarUrl':_0x5a0e71[_0x437697(0x374)],'lastSeen':_0x5a0e71[_0x437697(0x2d9)]})));}catch(_0x3985b5){console[_0x437697(0x1de)]('Search\x20users\x20error:',_0x3985b5);}finally{_0x5d4fd9(!0x1);}},_0x4edec3=async()=>{const _0x14acb1=_0x58dee7;_0x5d4fd9(!0x0);try{let _0x2f52b9=await _0x3e8d4c[_0x14acb1(0x20c)]['auth'][_0x14acb1(0x245)](),_0x4e13c0=_0x2f52b9[_0x14acb1(0x2ec)][_0x14acb1(0x1e6)]?.[_0x14acb1(0x1c9)],_0x3f3b31=await fetch('http://localhost:8100/functions/v1/list-rooms',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':_0x14acb1(0x1d5)+_0x4e13c0},'body':JSON['stringify']({'type':_0x14acb1(0x2bf),'search':_0x1adc01})}),_0x1cbea5=await _0x3f3b31['json']();_0x1cbea5[_0x14acb1(0x29e)]&&_0x18f1c0(_0x1cbea5['rooms']||[]);}catch(_0x127e9b){console['error'](_0x14acb1(0x2d6),_0x127e9b);}finally{_0x5d4fd9(!0x1);}},_0x2fa2f4=async _0x357ebc=>{const _0x2e0aca=_0x58dee7;try{let _0x3da976=await _0x3e8d4c[_0x2e0aca(0x20c)]['auth']['getSession'](),_0x1947b7=_0x3da976[_0x2e0aca(0x2ec)][_0x2e0aca(0x1e6)]?.['access_token'],_0x8d996=await fetch('http://localhost:8100/functions/v1/join-room',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':_0x2e0aca(0x1d5)+_0x1947b7},'body':JSON['stringify']({'roomId':_0x357ebc['id']})}),_0x211e0f=await _0x8d996[_0x2e0aca(0x2c2)]();_0x211e0f['success']?(_0xc16740({'type':'room','id':_0x357ebc['id'],'name':_0x357ebc['name'],'isPublic':_0x357ebc['isPublic']}),_0x4e0050(!0x1)):alert(_0x211e0f['error']||'Failed\x20to\x20join\x20room');}catch(_0x340cb9){console['error'](_0x2e0aca(0x265),_0x340cb9);}},_0xbd1315=async()=>{const _0x3efe36=_0x58dee7;if(_0x3c33a9['trim']()){_0x5c60a9(!0x0);try{let _0x185103=await _0x3e8d4c['supabase']['auth']['getSession'](),_0x316625=_0x185103['data'][_0x3efe36(0x1e6)]?.['access_token'],_0x20fa4b=await fetch('http://localhost:8100/functions/v1/create-room',{'method':'POST','headers':{'Content-Type':_0x3efe36(0x276),'Authorization':_0x3efe36(0x1d5)+_0x316625},'body':JSON['stringify']({'name':_0x3c33a9['trim'](),'description':_0x160990['trim']()||null,'isPublic':_0x24f30a,'password':_0x24f30a?null:_0x5c7aef,'maxMembers':_0x2a735c})}),_0x178e68=await _0x20fa4b[_0x3efe36(0x2c2)]();_0x178e68['success']?(_0xc16740({'type':'room','id':_0x178e68['room']['id'],'name':_0x178e68['room'][_0x3efe36(0x377)],'isPublic':_0x178e68[_0x3efe36(0x283)]['isPublic']}),_0x4e0050(!0x1)):alert(_0x178e68['error']||_0x3efe36(0x1fe));}catch(_0x1ce4b9){console['error'](_0x3efe36(0x257),_0x1ce4b9);}finally{_0x5c60a9(!0x1);}}},_0x5773cb=async()=>{const _0x2e67bf=_0x58dee7;if(_0x307555[_0x2e67bf(0x250)]()){_0x5c60a9(!0x0);try{let _0x21a554=await _0x3e8d4c[_0x2e67bf(0x20c)][_0x2e67bf(0x36c)]['getSession'](),_0x244865=_0x21a554[_0x2e67bf(0x2ec)]['session']?.[_0x2e67bf(0x1c9)],_0x202358=await fetch('http://localhost:8100/functions/v1/join-room',{'method':'POST','headers':{'Content-Type':_0x2e67bf(0x276),'Authorization':_0x2e67bf(0x1d5)+_0x244865},'body':JSON['stringify']({'roomId':_0x307555[_0x2e67bf(0x250)](),'password':_0x5ee78f})}),_0x4b64d2=await _0x202358[_0x2e67bf(0x2c2)]();_0x4b64d2['success']?(_0xc16740({'type':'room','id':_0x4b64d2['room']['id'],'name':_0x4b64d2['room']['name'],'isPublic':!0x1}),_0x4e0050(!0x1)):alert(_0x4b64d2['error']||'Failed\x20to\x20join\x20room');}catch(_0x21f4f1){console['error']('Join\x20private\x20room\x20error:',_0x21f4f1);}finally{_0x5c60a9(!0x1);}}};return _0x5eeddd?(0x0,_0x4459e5[_0x58dee7(0x2a9)])(_0x58dee7(0x202),{'className':_0x58dee7(0x2bc),'children':(0x0,_0x4459e5[_0x58dee7(0x270)])(_0x58dee7(0x202),{'className':'w-full\x20max-w-md\x20max-h-[90vh]\x20mx-4\x20bg-neutral-900\x20rounded-xl\x20shadow-xl\x20overflow-y-auto','children':[(0x0,_0x4459e5['jsxs'])(_0x58dee7(0x202),{'className':_0x58dee7(0x2e9),'children':[(0x0,_0x4459e5['jsx'])('h2',{'className':_0x58dee7(0x261),'children':_0x58dee7(0x338)===_0x3f4e87?'New\x20Chat':_0x58dee7(0x337)}),(0x0,_0x4459e5['jsx'])('button',{'onClick':()=>_0x4e0050(!0x1),'className':_0x58dee7(0x286),'children':(0x0,_0x4459e5[_0x58dee7(0x2a9)])(_0x58ced1['X'],{'size':0x14})})]}),_0x58dee7(0x28c)===_0x3f4e87&&(0x0,_0x4459e5[_0x58dee7(0x270)])('div',{'className':'flex\x20border-b\x20border-neutral-800','children':[(0x0,_0x4459e5[_0x58dee7(0x2a9)])(_0x58dee7(0x2cc),{'onClick':()=>_0x521e2e('search'),'className':_0x58dee7(0x1f6)+(_0x58dee7(0x1cf)===_0x397f83?_0x58dee7(0x228):'text-neutral-400'),'children':_0x58dee7(0x1d9)}),(0x0,_0x4459e5['jsx'])('button',{'onClick':()=>_0x521e2e(_0x58dee7(0x1b5)),'className':'flex-1\x20py-3\x20text-sm\x20font-medium\x20'+('create'===_0x397f83?'text-green-500\x20border-b-2\x20border-green-500':'text-neutral-400'),'children':_0x58dee7(0x1af)})]}),_0x58dee7(0x1cf)===_0x397f83&&(0x0,_0x4459e5['jsxs'])('div',{'className':_0x58dee7(0x306),'children':[(0x0,_0x4459e5[_0x58dee7(0x270)])(_0x58dee7(0x202),{'className':_0x58dee7(0x334),'children':[(0x0,_0x4459e5['jsx'])(_0x2354d7['Search'],{'size':0x12,'className':'absolute\x20left-3\x20top-1/2\x20-translate-y-1/2\x20text-neutral-500'}),(0x0,_0x4459e5['jsx'])('input',{'type':_0x58dee7(0x28e),'value':_0x1adc01,'onChange':_0x4215c2=>_0x5dba1c(_0x4215c2[_0x58dee7(0x2eb)]['value']),'placeholder':'dms'===_0x3f4e87?'Search\x20users...':'Search\x20public\x20rooms...','className':'w-full\x20pl-10\x20pr-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'})]}),(0x0,_0x4459e5['jsx'])(_0x58dee7(0x202),{'className':'max-h-80\x20overflow-y-auto','children':_0x5e4825?(0x0,_0x4459e5['jsx'])(_0x58dee7(0x202),{'className':'flex\x20justify-center\x20py-8','children':(0x0,_0x4459e5[_0x58dee7(0x2a9)])('div',{'className':'animate-spin\x20rounded-full\x20h-6\x20w-6\x20border-b-2\x20border-green-500'})}):_0x58dee7(0x338)===_0x3f4e87?0x0===_0x462d9a[_0x58dee7(0x1aa)]?(0x0,_0x4459e5[_0x58dee7(0x2a9)])('p',{'className':'text-center\x20text-neutral-500\x20py-8','children':_0x1adc01[_0x58dee7(0x1aa)]>=0x2?_0x58dee7(0x1a3):'Type\x20to\x20search\x20users'}):_0x462d9a['map'](_0x4e096e=>(0x0,_0x4459e5['jsxs'])('button',{'onClick':()=>{const _0x5d1b6f=_0x58dee7;_0xc16740({'type':'dm','id':_0x4e096e['id'],'name':_0x4e096e['displayName'],'avatar':_0x4e096e[_0x5d1b6f(0x22d)]||void 0x0}),_0x4e0050(!0x1);},'className':'w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20rounded-lg','children':[(0x0,_0x4459e5[_0x58dee7(0x2a9)])(_0x58dee7(0x202),{'className':'w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-blue-500\x20to-blue-600\x20flex\x20items-center\x20justify-center\x20font-semibold','children':_0x4e096e['avatarUrl']?(0x0,_0x4459e5['jsx'])(_0x58dee7(0x23e),{'src':_0x4e096e['avatarUrl'],'alt':'','className':'w-full\x20h-full\x20rounded-full\x20object-cover'}):_0x4e096e['displayName'][_0x58dee7(0x20b)](0x0)[_0x58dee7(0x1bd)]()}),(0x0,_0x4459e5[_0x58dee7(0x270)])(_0x58dee7(0x202),{'className':_0x58dee7(0x2df),'children':[(0x0,_0x4459e5[_0x58dee7(0x2a9)])('p',{'className':'font-medium','children':_0x4e096e['displayName']}),(0x0,_0x4459e5['jsx'])('p',{'className':'text-xs\x20text-neutral-400','children':_0x4e096e[_0x58dee7(0x273)]?'Last\x20seen\x20'+new Date(_0x4e096e[_0x58dee7(0x273)])[_0x58dee7(0x308)]():_0x58dee7(0x2ea)})]}),(0x0,_0x4459e5['jsx'])(_0x660ab[_0x58dee7(0x344)],{'size':0x12,'className':'ml-auto\x20text-neutral-500'})]},_0x4e096e['id'])):0x0===_0xae67e6['length']?(0x0,_0x4459e5[_0x58dee7(0x2a9)])('p',{'className':_0x58dee7(0x1ac),'children':_0x1adc01[_0x58dee7(0x1aa)]>=0x2?'No\x20rooms\x20found':_0x58dee7(0x2ad)}):_0xae67e6[_0x58dee7(0x2ce)](_0x3882a6=>(0x0,_0x4459e5[_0x58dee7(0x270)])(_0x58dee7(0x2cc),{'onClick':()=>_0x2fa2f4(_0x3882a6),'className':'w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20rounded-lg','children':[(0x0,_0x4459e5['jsx'])('div',{'className':'w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-purple-500\x20to-purple-600\x20flex\x20items-center\x20justify-center','children':(0x0,_0x4459e5[_0x58dee7(0x2a9)])(_0x507fc3['Globe'],{'size':0x14,'className':'text-white'})}),(0x0,_0x4459e5['jsxs'])(_0x58dee7(0x202),{'className':'text-left\x20flex-1\x20min-w-0','children':[(0x0,_0x4459e5[_0x58dee7(0x2a9)])('p',{'className':_0x58dee7(0x227),'children':_0x3882a6['name']}),(0x0,_0x4459e5[_0x58dee7(0x270)])('p',{'className':'text-xs\x20text-neutral-400\x20flex\x20items-center\x20gap-1','children':[(0x0,_0x4459e5[_0x58dee7(0x2a9)])(_0x2faa96[_0x58dee7(0x2db)],{'size':0xc}),_0x3882a6[_0x58dee7(0x1f2)],'/',_0x3882a6['maxMembers'],_0x58dee7(0x27c)]})]}),(0x0,_0x4459e5[_0x58dee7(0x2a9)])(_0x660ab['ArrowRight'],{'size':0x12,'className':_0x58dee7(0x27b)})]},_0x3882a6['id']))})]}),_0x58dee7(0x1b5)===_0x397f83&&'rooms'===_0x3f4e87&&(0x0,_0x4459e5['jsxs'])(_0x58dee7(0x202),{'className':'p-4\x20space-y-6','children':[(0x0,_0x4459e5[_0x58dee7(0x270)])('div',{'className':_0x58dee7(0x22b),'children':[(0x0,_0x4459e5[_0x58dee7(0x2a9)])('h3',{'className':_0x58dee7(0x2da),'children':_0x58dee7(0x1f0)}),(0x0,_0x4459e5['jsx'])(_0x58dee7(0x369),{'type':'text','value':_0x3c33a9,'onChange':_0x2c3afc=>_0x534082(_0x2c3afc['target']['value']),'placeholder':_0x58dee7(0x22c),'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x4459e5['jsx'])('textarea',{'value':_0x160990,'onChange':_0x3f976e=>_0x3e001c(_0x3f976e[_0x58dee7(0x2eb)]['value']),'placeholder':_0x58dee7(0x263),'rows':0x2,'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20resize-none\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x4459e5[_0x58dee7(0x270)])(_0x58dee7(0x202),{'className':'flex\x20items-center\x20gap-4','children':[(0x0,_0x4459e5['jsxs'])('label',{'className':'flex\x20items-center\x20gap-2\x20cursor-pointer','children':[(0x0,_0x4459e5['jsx'])('input',{'type':'radio','checked':_0x24f30a,'onChange':()=>_0x93356a(!0x0),'className':'text-green-500\x20focus:ring-green-500'}),(0x0,_0x4459e5[_0x58dee7(0x2a9)])(_0x507fc3['Globe'],{'size':0x10}),(0x0,_0x4459e5[_0x58dee7(0x2a9)])('span',{'className':'text-sm','children':_0x58dee7(0x1cd)})]}),(0x0,_0x4459e5[_0x58dee7(0x270)])(_0x58dee7(0x1ba),{'className':'flex\x20items-center\x20gap-2\x20cursor-pointer','children':[(0x0,_0x4459e5[_0x58dee7(0x2a9)])(_0x58dee7(0x369),{'type':'radio','checked':!_0x24f30a,'onChange':()=>_0x93356a(!0x1),'className':'text-green-500\x20focus:ring-green-500'}),(0x0,_0x4459e5[_0x58dee7(0x2a9)])(_0x5adeba[_0x58dee7(0x33c)],{'size':0x10}),(0x0,_0x4459e5[_0x58dee7(0x2a9)])(_0x58dee7(0x1a8),{'className':'text-sm','children':_0x58dee7(0x1b7)})]})]}),!_0x24f30a&&(0x0,_0x4459e5['jsx'])('input',{'type':_0x58dee7(0x1dc),'value':_0x5c7aef,'onChange':_0x297ad0=>_0x3803cb(_0x297ad0[_0x58dee7(0x2eb)]['value']),'placeholder':_0x58dee7(0x252),'className':_0x58dee7(0x330)}),(0x0,_0x4459e5['jsxs'])(_0x58dee7(0x2cc),{'onClick':_0xbd1315,'disabled':!_0x3c33a9['trim']()||_0x29ac88,'className':'w-full\x20py-2\x20bg-green-500\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-green-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center\x20gap-2','children':[(0x0,_0x4459e5['jsx'])(_0x389506,{'size':0x12}),_0x58dee7(0x341)]})]}),(0x0,_0x4459e5['jsxs'])(_0x58dee7(0x202),{'className':_0x58dee7(0x299),'children':[(0x0,_0x4459e5[_0x58dee7(0x2a9)])('div',{'className':_0x58dee7(0x223)}),(0x0,_0x4459e5['jsx'])('span',{'className':'text-xs\x20text-neutral-500','children':'OR'}),(0x0,_0x4459e5[_0x58dee7(0x2a9)])(_0x58dee7(0x202),{'className':_0x58dee7(0x223)})]}),(0x0,_0x4459e5['jsxs'])('div',{'className':'space-y-3','children':[(0x0,_0x4459e5[_0x58dee7(0x2a9)])('h3',{'className':'text-sm\x20font-medium\x20text-neutral-300','children':_0x58dee7(0x32d)}),(0x0,_0x4459e5['jsx'])(_0x58dee7(0x369),{'type':'text','value':_0x307555,'onChange':_0x3ee275=>_0x302dc0(_0x3ee275[_0x58dee7(0x2eb)]['value']),'placeholder':_0x58dee7(0x318),'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x4459e5['jsx'])(_0x58dee7(0x369),{'type':'password','value':_0x5ee78f,'onChange':_0x8b94d5=>_0x452049(_0x8b94d5['target']['value']),'placeholder':_0x58dee7(0x252),'className':_0x58dee7(0x330)}),(0x0,_0x4459e5[_0x58dee7(0x270)])(_0x58dee7(0x2cc),{'onClick':_0x5773cb,'disabled':!_0x307555['trim']()||_0x29ac88,'className':'w-full\x20py-2\x20bg-neutral-700\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-neutral-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center\x20gap-2','children':[(0x0,_0x4459e5['jsx'])(_0x660ab[_0x58dee7(0x344)],{'size':0x12}),'Join\x20Room']})]})]})]})}):null;}let _0x255360=(0x0,_0xe15688[_0x4747c1(0x31f)])('settings',[['path',{'d':'M9.671\x204.136a2.34\x202.34\x200\x200\x201\x204.659\x200\x202.34\x202.34\x200\x200\x200\x203.319\x201.915\x202.34\x202.34\x200\x200\x201\x202.33\x204.033\x202.34\x202.34\x200\x200\x200\x200\x203.831\x202.34\x202.34\x200\x200\x201-2.33\x204.033\x202.34\x202.34\x200\x200\x200-3.319\x201.915\x202.34\x202.34\x200\x200\x201-4.659\x200\x202.34\x202.34\x200\x200\x200-3.32-1.915\x202.34\x202.34\x200\x200\x201-2.33-4.033\x202.34\x202.34\x200\x200\x200\x200-3.831A2.34\x202.34\x200\x200\x201\x206.35\x206.051a2.34\x202.34\x200\x200\x200\x203.319-1.915','key':_0x4747c1(0x208)}],[_0x4747c1(0x324),{'cx':'12','cy':'12','r':'3','key':'1v7zrd'}]]);var _0x2655a2=_0x4d45fa['i'](0x17307),_0xfc47bc=_0x4d45fa['i'](0x1686e);function _0x1d0138(){const _0x43e6ff=_0x4747c1;let {user:_0x28a5d8,signOut:_0x1b74cc,isKeyUnlocked:_0x2b1952}=(0x0,_0xc5f1f1['useAuth'])(),[_0x88dffa,_0xa1db74]=(0x0,_0x55d65d[_0x43e6ff(0x2fb)])('dms'),[_0x3048ea,_0x4fb879]=(0x0,_0x55d65d[_0x43e6ff(0x2fb)])(null),[_0x372b0f,_0x34e5bd]=(0x0,_0x55d65d['useState'])(!0x1),[_0x2fc825,_0x22f2a7]=(0x0,_0x55d65d[_0x43e6ff(0x2fb)])(!0x1),_0x55e978=_0x32ef7a=>{_0x4fb879(_0x32ef7a),_0x22f2a7(!0x0);};return _0x28a5d8?(0x0,_0x4459e5[_0x43e6ff(0x270)])('div',{'className':'flex\x20h-screen\x20bg-neutral-900\x20text-white\x20overflow-hidden','children':[(0x0,_0x4459e5[_0x43e6ff(0x270)])('div',{'className':_0x43e6ff(0x2ac),'children':[(0x0,_0x4459e5['jsx'])('div',{'className':_0x43e6ff(0x1d2),'children':(0x0,_0x4459e5['jsx'])('div',{'className':_0x43e6ff(0x305),'children':_0x28a5d8['display_name']?.['charAt'](0x0)[_0x43e6ff(0x1bd)]()||'U'})}),(0x0,_0x4459e5['jsxs'])('nav',{'className':'flex-1\x20py-4','children':[(0x0,_0x4459e5[_0x43e6ff(0x2a9)])('button',{'onClick':()=>_0xa1db74(_0x43e6ff(0x338)),'className':'w-full\x20p-3\x20flex\x20justify-center\x20'+('dms'===_0x88dffa?'text-green-500\x20bg-neutral-900':'text-neutral-400\x20hover:text-white\x20hover:bg-neutral-900'),'title':_0x43e6ff(0x363),'children':(0x0,_0x4459e5[_0x43e6ff(0x2a9)])(_0x2655a2[_0x43e6ff(0x21d)],{'size':0x18})}),(0x0,_0x4459e5[_0x43e6ff(0x2a9)])(_0x43e6ff(0x2cc),{'onClick':()=>_0xa1db74('rooms'),'className':_0x43e6ff(0x32e)+(_0x43e6ff(0x28c)===_0x88dffa?'text-green-500\x20bg-neutral-900':'text-neutral-400\x20hover:text-white\x20hover:bg-neutral-900'),'title':'Chat\x20Rooms','children':(0x0,_0x4459e5[_0x43e6ff(0x2a9)])(_0x2faa96['Users'],{'size':0x18})})]}),(0x0,_0x4459e5[_0x43e6ff(0x270)])(_0x43e6ff(0x202),{'className':_0x43e6ff(0x36e),'children':[(0x0,_0x4459e5['jsx'])(_0x2ec843,{}),(0x0,_0x4459e5['jsx'])('button',{'onClick':()=>{},'className':_0x43e6ff(0x333),'title':_0x43e6ff(0x1e9),'children':(0x0,_0x4459e5[_0x43e6ff(0x2a9)])(_0x255360,{'size':0x18})}),(0x0,_0x4459e5[_0x43e6ff(0x2a9)])(_0x43e6ff(0x2cc),{'onClick':_0x1b74cc,'className':'w-full\x20p-3\x20flex\x20justify-center\x20text-neutral-400\x20hover:text-red-500\x20hover:bg-neutral-900','title':'Sign\x20Out','children':(0x0,_0x4459e5[_0x43e6ff(0x2a9)])(_0xfc47bc[_0x43e6ff(0x356)],{'size':0x18})})]})]}),(0x0,_0x4459e5[_0x43e6ff(0x270)])(_0x43e6ff(0x202),{'className':'w-full\x20md:w-96\x20flex-shrink-0\x20border-r\x20border-neutral-800\x20flex\x20flex-col\x20'+(_0x2fc825?_0x43e6ff(0x348):_0x43e6ff(0x30e)),'children':[(0x0,_0x4459e5[_0x43e6ff(0x270)])('div',{'className':_0x43e6ff(0x1be),'children':[(0x0,_0x4459e5[_0x43e6ff(0x2a9)])('h1',{'className':'text-xl\x20font-semibold','children':_0x43e6ff(0x338)===_0x88dffa?'Messages':'Rooms'}),(0x0,_0x4459e5['jsx'])(_0x43e6ff(0x2cc),{'onClick':()=>_0x34e5bd(!0x0),'className':'p-2\x20rounded-full\x20hover:bg-neutral-800\x20text-green-500','children':(0x0,_0x4459e5['jsx'])(_0x389506,{'size':0x18})})]}),(0x0,_0x4459e5['jsx'])(_0x43e6ff(0x202),{'className':'p-3\x20bg-neutral-950','children':(0x0,_0x4459e5[_0x43e6ff(0x270)])(_0x43e6ff(0x202),{'className':_0x43e6ff(0x33f),'children':[(0x0,_0x4459e5['jsx'])('input',{'type':'text','placeholder':_0x43e6ff(0x1b2),'className':_0x43e6ff(0x368)}),(0x0,_0x4459e5['jsx'])('svg',{'className':'absolute\x20left-3\x20top-2.5\x20w-4\x20h-4\x20text-neutral-500','fill':_0x43e6ff(0x28f),'stroke':_0x43e6ff(0x2d7),'viewBox':'0\x200\x2024\x2024','children':(0x0,_0x4459e5[_0x43e6ff(0x2a9)])(_0x43e6ff(0x1d0),{'strokeLinecap':'round','strokeLinejoin':_0x43e6ff(0x31b),'strokeWidth':0x2,'d':'M21\x2021l-6-6m2-5a7\x207\x200\x2011-14\x200\x207\x207\x200\x200114\x200z'})})]})}),(0x0,_0x4459e5[_0x43e6ff(0x2a9)])(_0x2dcd3b,{'view':_0x88dffa,'activeChat':_0x3048ea,'onSelectChat':_0x55e978}),(0x0,_0x4459e5['jsxs'])('div',{'className':'md:hidden\x20flex\x20border-t\x20border-neutral-800\x20bg-neutral-950','children':[(0x0,_0x4459e5[_0x43e6ff(0x270)])(_0x43e6ff(0x2cc),{'onClick':()=>_0xa1db74(_0x43e6ff(0x338)),'className':_0x43e6ff(0x2b4)+(_0x43e6ff(0x338)===_0x88dffa?'text-green-500':_0x43e6ff(0x266)),'children':[(0x0,_0x4459e5['jsx'])(_0x2655a2['MessageCircle'],{'size':0x14}),(0x0,_0x4459e5[_0x43e6ff(0x2a9)])('span',{'className':_0x43e6ff(0x26d),'children':'Chats'})]}),(0x0,_0x4459e5[_0x43e6ff(0x270)])('button',{'onClick':()=>_0xa1db74('rooms'),'className':'flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs\x20'+(_0x43e6ff(0x28c)===_0x88dffa?_0x43e6ff(0x215):_0x43e6ff(0x266)),'children':[(0x0,_0x4459e5[_0x43e6ff(0x2a9)])(_0x2faa96[_0x43e6ff(0x2db)],{'size':0x14}),(0x0,_0x4459e5['jsx'])('span',{'className':_0x43e6ff(0x26d),'children':_0x43e6ff(0x337)})]}),(0x0,_0x4459e5['jsx'])(_0x43e6ff(0x202),{'className':'flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs','children':(0x0,_0x4459e5['jsx'])(_0x2ec843,{})}),(0x0,_0x4459e5[_0x43e6ff(0x270)])(_0x43e6ff(0x2cc),{'onClick':()=>{},'className':_0x43e6ff(0x2bb),'children':[(0x0,_0x4459e5[_0x43e6ff(0x2a9)])(_0x255360,{'size':0x14}),(0x0,_0x4459e5['jsx'])('span',{'className':_0x43e6ff(0x26d),'children':_0x43e6ff(0x1e9)})]})]})]}),(0x0,_0x4459e5[_0x43e6ff(0x2a9)])('div',{'className':_0x43e6ff(0x272)+(_0x2fc825?_0x43e6ff(0x30e):'hidden\x20md:flex'),'children':_0x3048ea?(0x0,_0x4459e5['jsx'])(_0x2242cd,{'chat':_0x3048ea,'onBack':()=>{_0x22f2a7(!0x1),_0x4fb879(null);}}):(0x0,_0x4459e5['jsxs'])('div',{'className':_0x43e6ff(0x1b3),'children':[(0x0,_0x4459e5['jsx'])('div',{'className':'w-24\x20h-24\x20rounded-full\x20bg-neutral-800\x20flex\x20items-center\x20justify-center\x20mb-4','children':(0x0,_0x4459e5['jsx'])(_0x2655a2[_0x43e6ff(0x21d)],{'size':0x30,'className':'text-neutral-600'})}),(0x0,_0x4459e5['jsx'])('h2',{'className':_0x43e6ff(0x1ae),'children':'ZZZDaily\x20Chat'}),(0x0,_0x4459e5['jsx'])('p',{'className':'text-sm','children':_0x43e6ff(0x1a7)}),!_0x2b1952&&(0x0,_0x4459e5['jsx'])('p',{'className':_0x43e6ff(0x366),'children':'Enter\x20your\x20passphrase\x20to\x20decrypt\x20messages'})]})}),(0x0,_0x4459e5['jsx'])(_0xbea0a,{'open':_0x372b0f,'onOpenChange':_0x34e5bd,'view':_0x88dffa,'onChatCreated':_0x55e978})]}):null;}var _0x2d10de=_0x4d45fa['i'](0x8571),_0xeb8feb=_0x4d45fa['i'](0x1342e);let _0x4470d5=(0x0,_0xe15688[_0x4747c1(0x31f)])(_0x4747c1(0x360),[['path',{'d':'m12.5\x2017-.5-1-.5\x201h1z','key':'3me087'}],['path',{'d':_0x4747c1(0x2f5),'key':'1o5pge'}],['circle',{'cx':'15','cy':'12','r':'1','key':'1tmaij'}],['circle',{'cx':'9','cy':'12','r':'1','key':_0x4747c1(0x218)}]]);function _0x13a1ed({attemptsRemaining:_0x80468e}){const _0x1cd226=_0x4747c1;let _0x5c74e0=_0x80468e<=0x1,_0x271d3f=_0x80468e<=0x2;return(0x0,_0x4459e5[_0x1cd226(0x2a9)])(_0x1cd226(0x202),{'className':'p-4\x20rounded-lg\x20border\x20overflow-auto\x20'+(_0x5c74e0?'bg-red-500/20\x20border-red-500/50':_0x271d3f?_0x1cd226(0x354):_0x1cd226(0x339)),'children':(0x0,_0x4459e5[_0x1cd226(0x270)])('div',{'className':_0x1cd226(0x264),'children':[_0x5c74e0?(0x0,_0x4459e5['jsx'])(_0x4470d5,{'className':'text-red-500\x20flex-shrink-0','size':0x14}):(0x0,_0x4459e5['jsx'])(_0xeb8feb['AlertTriangle'],{'className':'flex-shrink-0\x20'+(_0x271d3f?'text-amber-400':_0x1cd226(0x25d)),'size':0x14}),(0x0,_0x4459e5['jsxs'])(_0x1cd226(0x202),{'children':[(0x0,_0x4459e5['jsx'])('h4',{'className':_0x1cd226(0x244)+(_0x5c74e0?'text-red-400':'text-amber-400'),'children':_0x5c74e0?'CRITICAL:\x20Last\x20Attempt!':'Warning:\x20'+_0x80468e+'\x20'+(0x1===_0x80468e?'Attempt':_0x1cd226(0x34b))+_0x1cd226(0x340)}),(0x0,_0x4459e5[_0x1cd226(0x2a9)])('p',{'className':_0x1cd226(0x1f3)+(_0x5c74e0?'text-red-300/80':'text-amber-200/80'),'children':_0x5c74e0?_0x1cd226(0x205):_0x1cd226(0x1a4)+_0x80468e+_0x1cd226(0x1e3)+(0x1===_0x80468e?'attempt':'attempts')+',\x20all\x20your\x20encrypted\x20data\x20will\x20be\x20permanently\x20deleted.\x20There\x20is\x20no\x20recovery.'}),_0x5c74e0&&(0x0,_0x4459e5['jsx'])('p',{'className':'mt-2\x20text-xs\x20text-red-400/70\x20font-medium','children':_0x1cd226(0x256)})]})]})});}function _0x571039({isOpen:_0x428afe,onClose:_0x283284}){const _0x1dbc6d=_0x4747c1;let {unlockKey:_0x209190}=(0x0,_0xc5f1f1[_0x1dbc6d(0x1e4)])(),[_0x236960,_0x20af68]=(0x0,_0x55d65d[_0x1dbc6d(0x2fb)])(''),[_0x103243,_0x1c656a]=(0x0,_0x55d65d['useState'])(''),[_0x3eca0a,_0x420fd6]=(0x0,_0x55d65d[_0x1dbc6d(0x2fb)])(!0x1),[_0x5dcd4b,_0xfd3e1b]=(0x0,_0x55d65d['useState'])(null),[_0x13e24b,_0x428c80]=(0x0,_0x55d65d[_0x1dbc6d(0x2fb)])(!0x1),_0x485d62=async _0x15b077=>{const _0x11e817=_0x1dbc6d;if(_0x15b077['preventDefault'](),_0x236960){_0x1c656a(''),_0x420fd6(!0x0);try{let _0x399c72=await _0x209190(_0x236960);if(_0x399c72['wiped']){_0x428c80(!0x0),_0x20af68(''),_0x420fd6(!0x1);return;}_0x399c72[_0x11e817(0x29e)]?(_0x20af68(''),_0xfd3e1b(null),_0x283284()):(_0x1c656a(_0x399c72['error']||'Invalid\x20passphrase'),void 0x0!==_0x399c72[_0x11e817(0x27d)]&&_0xfd3e1b(_0x399c72['attemptsRemaining']));}catch{_0x1c656a(_0x11e817(0x316));}finally{_0x420fd6(!0x1);}}};return _0x428afe?_0x13e24b?(0x0,_0x4459e5[_0x1dbc6d(0x2a9)])('div',{'className':_0x1dbc6d(0x352),'children':(0x0,_0x4459e5[_0x1dbc6d(0x2a9)])(_0x1dbc6d(0x202),{'className':_0x1dbc6d(0x235),'children':(0x0,_0x4459e5['jsxs'])('div',{'className':_0x1dbc6d(0x1e8),'children':[(0x0,_0x4459e5['jsx'])('div',{'className':_0x1dbc6d(0x21b),'children':(0x0,_0x4459e5['jsx'])(_0x4470d5,{'className':'text-red-500','size':0x20})}),(0x0,_0x4459e5[_0x1dbc6d(0x2a9)])('h2',{'className':_0x1dbc6d(0x236),'children':'Account\x20Data\x20Wiped'}),(0x0,_0x4459e5['jsx'])('p',{'className':'mt-4\x20text-sm\x20text-neutral-400','children':'Maximum\x20passphrase\x20attempts\x20exceeded.\x20All\x20your\x20encrypted\x20messages\x20and\x20data\x20have\x20been\x20permanently\x20deleted\x20as\x20a\x20security\x20measure.'}),(0x0,_0x4459e5[_0x1dbc6d(0x2a9)])('p',{'className':'mt-4\x20text-sm\x20text-neutral-500','children':'Your\x20account\x20still\x20exists,\x20but\x20all\x20messages,\x20rooms,\x20contacts,\x20and\x20encryption\x20keys\x20have\x20been\x20destroyed.\x20This\x20action\x20cannot\x20be\x20undone.'}),(0x0,_0x4459e5['jsx'])('button',{'onClick':()=>window[_0x1dbc6d(0x249)]['reload'](),'className':'mt-6\x20w-full\x20py-3\x20bg-neutral-700\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-neutral-600','children':'Continue'})]})})}):(0x0,_0x4459e5['jsx'])(_0x1dbc6d(0x202),{'className':_0x1dbc6d(0x352),'children':(0x0,_0x4459e5[_0x1dbc6d(0x270)])('div',{'className':_0x1dbc6d(0x2fe),'children':[(0x0,_0x4459e5[_0x1dbc6d(0x270)])('div',{'className':_0x1dbc6d(0x35d),'children':[(0x0,_0x4459e5[_0x1dbc6d(0x270)])(_0x1dbc6d(0x202),{'className':_0x1dbc6d(0x2f8),'children':[(0x0,_0x4459e5['jsx'])('div',{'className':_0x1dbc6d(0x2f1),'children':(0x0,_0x4459e5['jsx'])(_0x5adeba[_0x1dbc6d(0x33c)],{'className':_0x1dbc6d(0x215),'size':0x18})}),(0x0,_0x4459e5[_0x1dbc6d(0x2a9)])(_0x1dbc6d(0x2cc),{'onClick':_0x283284,'className':_0x1dbc6d(0x286),'children':(0x0,_0x4459e5['jsx'])(_0x58ced1['X'],{'size':0x14})})]}),(0x0,_0x4459e5['jsx'])('h2',{'className':_0x1dbc6d(0x254),'children':'Unlock\x20Your\x20Messages'}),(0x0,_0x4459e5[_0x1dbc6d(0x2a9)])('p',{'className':'mt-2\x20text-sm\x20text-neutral-400','children':'Enter\x20your\x20passphrase\x20to\x20decrypt\x20and\x20read\x20your\x20messages.\x20Your\x20messages\x20are\x20protected\x20with\x20end-to-end\x20encryption.'})]}),null!==_0x5dcd4b&&_0x5dcd4b<=0x3&&(0x0,_0x4459e5['jsx'])('div',{'className':_0x1dbc6d(0x282),'children':(0x0,_0x4459e5['jsx'])(_0x13a1ed,{'attemptsRemaining':_0x5dcd4b})}),(0x0,_0x4459e5[_0x1dbc6d(0x270)])('form',{'onSubmit':_0x485d62,'className':_0x1dbc6d(0x25c),'children':[(0x0,_0x4459e5['jsxs'])(_0x1dbc6d(0x202),{'children':[(0x0,_0x4459e5['jsx'])(_0x1dbc6d(0x1ba),{'className':_0x1dbc6d(0x1f8),'children':'Passphrase'}),(0x0,_0x4459e5['jsxs'])(_0x1dbc6d(0x202),{'className':_0x1dbc6d(0x33f),'children':[(0x0,_0x4459e5['jsx'])(_0x2d10de[_0x1dbc6d(0x357)],{'size':0x12,'className':'absolute\x20left-3\x20top-1/2\x20-translate-y-1/2\x20text-neutral-500'}),(0x0,_0x4459e5[_0x1dbc6d(0x2a9)])(_0x1dbc6d(0x369),{'type':_0x1dbc6d(0x1dc),'value':_0x236960,'onChange':_0x1cc91b=>_0x20af68(_0x1cc91b[_0x1dbc6d(0x2eb)]['value']),'placeholder':_0x1dbc6d(0x355),'className':'w-full\x20pl-10\x20pr-4\x20py-3\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-white\x20placeholder-neutral-500\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500\x20focus:border-transparent','autoFocus':!0x0})]}),_0x103243&&(0x0,_0x4459e5['jsx'])('p',{'className':'mt-2\x20text-sm\x20text-red-400','children':_0x103243})]}),(0x0,_0x4459e5[_0x1dbc6d(0x2a9)])(_0x1dbc6d(0x2cc),{'type':'submit','disabled':_0x3eca0a||!_0x236960,'className':'w-full\x20py-3\x20bg-green-500\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-green-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center\x20gap-2','children':_0x3eca0a?(0x0,_0x4459e5['jsx'])('div',{'className':_0x1dbc6d(0x2aa)}):(0x0,_0x4459e5['jsxs'])(_0x4459e5['Fragment'],{'children':[(0x0,_0x4459e5['jsx'])(_0x5adeba[_0x1dbc6d(0x33c)],{'size':0x12}),'Unlock\x20Messages']})}),(0x0,_0x4459e5[_0x1dbc6d(0x270)])(_0x1dbc6d(0x202),{'className':'flex\x20items-start\x20gap-2\x20p-3\x20bg-amber-500/10\x20border\x20border-amber-500/30\x20rounded-lg','children':[(0x0,_0x4459e5[_0x1dbc6d(0x2a9)])(_0xeb8feb[_0x1dbc6d(0x281)],{'className':_0x1dbc6d(0x2ee),'size':0x10}),(0x0,_0x4459e5['jsxs'])('p',{'className':_0x1dbc6d(0x242),'children':[(0x0,_0x4459e5['jsx'])(_0x1dbc6d(0x2dc),{'children':_0x1dbc6d(0x2c5)}),'\x20If\x20you\x20forget\x20your\x20passphrase,\x20all\x20encrypted\x20data\x20will\x20be\x20permanently\x20lost.\x20This\x20is\x20by\x20design\x20for\x20maximum\x20security.']})]})]})]})}):null;}function _0x3da66(){const _0x6039f6=_0x4747c1;let _0x525454=(0x0,_0x37bdef[_0x6039f6(0x253)])(),{user:_0x3c2a28,isLoading:_0x211983,isKeyUnlocked:_0x399875}=(0x0,_0xc5f1f1[_0x6039f6(0x1e4)])(),[_0x5c5709,_0x233f5a]=(0x0,_0x55d65d[_0x6039f6(0x2fb)])(!0x1),[_0x53a2af,_0x1ba614]=(0x0,_0x55d65d['useState'])(!0x1);return((0x0,_0x55d65d['useEffect'])(()=>{_0x211983||_0x3c2a28||_0x233f5a(!0x0);},[_0x211983,_0x3c2a28]),(0x0,_0x55d65d['useEffect'])(()=>{_0x3c2a28&&!_0x399875&&_0x1ba614(!0x0);},[_0x3c2a28,_0x399875]),_0x211983)?(0x0,_0x4459e5[_0x6039f6(0x2a9)])(_0x6039f6(0x202),{'className':'min-h-screen\x20bg-neutral-900\x20flex\x20items-center\x20justify-center','children':(0x0,_0x4459e5['jsx'])(_0x6039f6(0x202),{'className':'animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-green-500'})}):_0x3c2a28?(0x0,_0x4459e5['jsxs'])(_0x4459e5['Fragment'],{'children':[(0x0,_0x4459e5['jsx'])(_0x1d0138,{}),(0x0,_0x4459e5[_0x6039f6(0x2a9)])(_0x571039,{'isOpen':_0x53a2af,'onClose':()=>_0x1ba614(!0x1)})]}):(0x0,_0x4459e5[_0x6039f6(0x2a9)])(_0xc5ca23[_0x6039f6(0x1df)],{'open':_0x5c5709,'onOpenChange':_0x4e21ad=>!_0x4e21ad&&_0x525454['push']('/')});}_0x4d45fa['s']([_0x4747c1(0x31f),()=>_0x3da66],0xa106);}]));