function _0x3426(_0x36912d,_0x13db9b){_0x36912d=_0x36912d-0x14a;const _0x3316a9=_0x3316();let _0x342626=_0x3316a9[_0x36912d];return _0x342626;}(function(_0x4b6537,_0x2b0cf6){const _0x43ac74=_0x3426,_0x29c4ce=_0x4b6537();while(!![]){try{const _0x1c4423=parseInt(_0x43ac74(0x17e))/0x1+-parseInt(_0x43ac74(0x249))/0x2*(parseInt(_0x43ac74(0x28c))/0x3)+-parseInt(_0x43ac74(0x2f4))/0x4*(-parseInt(_0x43ac74(0x251))/0x5)+parseInt(_0x43ac74(0x1e1))/0x6*(-parseInt(_0x43ac74(0x297))/0x7)+parseInt(_0x43ac74(0x30e))/0x8+-parseInt(_0x43ac74(0x16e))/0x9+parseInt(_0x43ac74(0x2b9))/0xa*(-parseInt(_0x43ac74(0x1b2))/0xb);if(_0x1c4423===_0x2b0cf6)break;else _0x29c4ce['push'](_0x29c4ce['shift']());}catch(_0x4605dd){_0x29c4ce['push'](_0x29c4ce['shift']());}}}(_0x3316,0x9df43),(globalThis['TURBOPACK']||(globalThis['TURBOPACK']=[]))['push'](['object'==typeof document?document['currentScript']:void 0x0,0xa106,_0xe6f77b=>{'use strict';const _0x435cc3=_0x3426;var _0x3729a4=_0xe6f77b['i'](0xa9d4),_0x3e6434=_0xe6f77b['i'](0x117dd),_0x16c106=_0xe6f77b['i'](0x4886),_0x9dc1e0=_0xe6f77b['i'](0xb12c),_0x12d846=_0xe6f77b['i'](0x1220f);_0xe6f77b['i'](0xb83f);var _0x5df283=_0xe6f77b['i'](0x4607),_0x3386d3=_0xe6f77b['i'](0xf1d7),_0x1d15c0=_0xe6f77b['i'](0x11464),_0x185c01=_0xe6f77b['i'](0xbc80);function _0x522d59({view:_0x1c81ff,activeChat:_0x563f1d,onSelectChat:_0x54723b}){const _0x382f3a=_0x3426;let {user:_0x99e9a7}=(0x0,_0x9dc1e0[_0x382f3a(0x168)])(),[_0x462ede,_0x46d400]=(0x0,_0x3e6434['useState'])([]),[_0x1bcaf8,_0x250b29]=(0x0,_0x3e6434[_0x382f3a(0x30f)])([]),[_0x192ea0,_0x4f77c8]=(0x0,_0x3e6434['useState'])(!0x0);(0x0,_0x3e6434['useEffect'])(()=>{const _0x1b8b4c=_0x382f3a;_0x99e9a7&&(_0x1b8b4c(0x242)===_0x1c81ff?_0xf9cf36():_0x527e34());},[_0x99e9a7,_0x1c81ff]);let _0xf9cf36=async()=>{const _0x37900=_0x382f3a;_0x4f77c8(!0x0);try{let _0xd2c337=await _0x5df283['supabase'][_0x37900(0x184)][_0x37900(0x1f1)](),_0x12e904=_0xd2c337[_0x37900(0x1fc)][_0x37900(0x213)]?.[_0x37900(0x2d1)],_0x4a00be=await fetch(_0x37900(0x2b7),{'method':'POST','headers':{'Content-Type':_0x37900(0x203),'Authorization':'Bearer\x20'+_0x12e904},'body':JSON[_0x37900(0x2fc)]({'listConversations':!0x0})}),_0x4aec03=await _0x4a00be[_0x37900(0x155)]();_0x4aec03['success']&&_0x46d400(_0x4aec03['conversations']||[]);}catch(_0x18ecdd){console['error'](_0x37900(0x2c7),_0x18ecdd);}finally{_0x4f77c8(!0x1);}},_0x527e34=async()=>{const _0x5a9abb=_0x382f3a;_0x4f77c8(!0x0);try{let _0x417a83=await _0x5df283['supabase']['auth']['getSession'](),_0x525f4b=_0x417a83['data'][_0x5a9abb(0x213)]?.['access_token'],_0x1f7a65=await fetch('http://localhost:8100/functions/v1/list-rooms',{'method':_0x5a9abb(0x2ef),'headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x525f4b},'body':JSON['stringify']({'type':'joined'})}),_0x47c8be=await _0x1f7a65[_0x5a9abb(0x155)]();_0x47c8be['success']&&_0x250b29(_0x47c8be['rooms']||[]);}catch(_0x4dee56){console['error'](_0x5a9abb(0x27e),_0x4dee56);}finally{_0x4f77c8(!0x1);}},_0x23576a=_0x4e129c=>{const _0x278f2a=_0x382f3a;let _0x1d3491=new Date(_0x4e129c),_0x51c227=Math['floor']((new Date()[_0x278f2a(0x1d5)]()-_0x1d3491['getTime']())/0x5265c00);return 0x0===_0x51c227?_0x1d3491['toLocaleTimeString']([],{'hour':_0x278f2a(0x166),'minute':'2-digit'}):0x1===_0x51c227?_0x278f2a(0x14b):_0x51c227<0x7?_0x1d3491[_0x278f2a(0x193)]([],{'weekday':'short'}):_0x1d3491[_0x278f2a(0x193)]([],{'month':'short','day':'numeric'});};return _0x192ea0?(0x0,_0x3729a4['jsx'])(_0x382f3a(0x159),{'className':'flex-1\x20flex\x20items-center\x20justify-center','children':(0x0,_0x3729a4[_0x382f3a(0x200)])(_0x382f3a(0x159),{'className':_0x382f3a(0x1f3)})}):_0x382f3a(0x242)===_0x1c81ff?0x0===_0x462ede[_0x382f3a(0x19e)]?(0x0,_0x3729a4['jsxs'])('div',{'className':_0x382f3a(0x1be),'children':[(0x0,_0x3729a4['jsx'])('p',{'className':_0x382f3a(0x2c2),'children':_0x382f3a(0x179)}),(0x0,_0x3729a4[_0x382f3a(0x200)])('p',{'className':_0x382f3a(0x303),'children':'Start\x20a\x20new\x20chat\x20to\x20begin\x20messaging'})]}):(0x0,_0x3729a4['jsx'])(_0x382f3a(0x159),{'className':_0x382f3a(0x274),'children':_0x462ede['map'](_0x474130=>{const _0x2031ab=_0x382f3a;var _0x1beca9;return(0x0,_0x3729a4['jsxs'])('button',{'onClick':()=>_0x54723b({'type':'dm','id':_0x474130[_0x2031ab(0x229)]['id'],'name':_0x474130[_0x2031ab(0x229)][_0x2031ab(0x1a0)],'avatar':_0x474130[_0x2031ab(0x229)]['avatarUrl']||void 0x0}),'className':_0x2031ab(0x190)+(_0x563f1d?.[_0x2031ab(0x311)]==='dm'&&_0x563f1d?.['id']===_0x474130['otherUser']['id']?_0x2031ab(0x198):''),'children':[(0x0,_0x3729a4['jsxs'])(_0x2031ab(0x159),{'className':'relative','children':[(0x0,_0x3729a4[_0x2031ab(0x200)])('div',{'className':'w-12\x20h-12\x20rounded-full\x20bg-gradient-to-br\x20from-blue-500\x20to-blue-600\x20flex\x20items-center\x20justify-center\x20text-lg\x20font-semibold','children':_0x474130[_0x2031ab(0x229)]['avatarUrl']?(0x0,_0x3729a4['jsx'])('img',{'src':_0x474130[_0x2031ab(0x229)]['avatarUrl'],'alt':'','className':'w-full\x20h-full\x20rounded-full\x20object-cover'}):_0x474130['otherUser']['displayName']['charAt'](0x0)['toUpperCase']()}),!!(_0x1beca9=_0x474130[_0x2031ab(0x229)]['lastSeen'])&&Date['now']()-new Date(_0x1beca9)['getTime']()<0x493e0&&(0x0,_0x3729a4['jsx'])('div',{'className':'absolute\x20bottom-0\x20right-0\x20w-3\x20h-3\x20bg-green-500\x20rounded-full\x20border-2\x20border-neutral-900'})]}),(0x0,_0x3729a4['jsxs'])(_0x2031ab(0x159),{'className':_0x2031ab(0x216),'children':[(0x0,_0x3729a4['jsxs'])('div',{'className':'flex\x20items-center\x20justify-between','children':[(0x0,_0x3729a4[_0x2031ab(0x200)])('span',{'className':'font-medium\x20truncate','children':_0x474130['otherUser']['displayName']}),(0x0,_0x3729a4['jsx'])('span',{'className':'text-xs\x20text-neutral-500','children':_0x23576a(_0x474130[_0x2031ab(0x15a)])})]}),(0x0,_0x3729a4[_0x2031ab(0x31a)])(_0x2031ab(0x159),{'className':_0x2031ab(0x1e0),'children':[(0x0,_0x3729a4['jsx'])('span',{'className':_0x2031ab(0x1c8),'children':'Tap\x20to\x20view\x20messages'}),_0x474130['unreadCount']>0x0&&(0x0,_0x3729a4[_0x2031ab(0x200)])(_0x2031ab(0x1af),{'className':'ml-2\x20px-2\x20py-0.5\x20text-xs\x20bg-green-500\x20text-white\x20rounded-full','children':_0x474130['unreadCount']})]})]})]},_0x474130['id']);})}):0x0===_0x1bcaf8[_0x382f3a(0x19e)]?(0x0,_0x3729a4['jsxs'])(_0x382f3a(0x159),{'className':_0x382f3a(0x1be),'children':[(0x0,_0x3729a4['jsx'])('p',{'className':_0x382f3a(0x2c2),'children':_0x382f3a(0x2ca)}),(0x0,_0x3729a4['jsx'])('p',{'className':'text-sm\x20text-center\x20mt-2','children':'Create\x20or\x20join\x20a\x20room\x20to\x20start\x20chatting'})]}):(0x0,_0x3729a4['jsx'])(_0x382f3a(0x159),{'className':_0x382f3a(0x274),'children':_0x1bcaf8[_0x382f3a(0x226)](_0x1458e2=>(0x0,_0x3729a4[_0x382f3a(0x31a)])('button',{'onClick':()=>_0x54723b({'type':'room','id':_0x1458e2['id'],'name':_0x1458e2['name'],'isPublic':_0x1458e2[_0x382f3a(0x31b)]}),'className':'w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20transition-colors\x20'+(_0x563f1d?.['type']==='room'&&_0x563f1d?.['id']===_0x1458e2['id']?_0x382f3a(0x198):''),'children':[(0x0,_0x3729a4['jsx'])('div',{'className':_0x382f3a(0x195),'children':_0x1458e2[_0x382f3a(0x31b)]?(0x0,_0x3729a4['jsx'])(_0x185c01['Globe'],{'size':0x18,'className':'text-white'}):(0x0,_0x3729a4['jsx'])(_0x1d15c0[_0x382f3a(0x277)],{'size':0x18,'className':_0x382f3a(0x1d7)})}),(0x0,_0x3729a4['jsxs'])(_0x382f3a(0x159),{'className':_0x382f3a(0x216),'children':[(0x0,_0x3729a4[_0x382f3a(0x31a)])(_0x382f3a(0x159),{'className':_0x382f3a(0x2b6),'children':[(0x0,_0x3729a4[_0x382f3a(0x200)])(_0x382f3a(0x1af),{'className':_0x382f3a(0x1c4),'children':_0x1458e2[_0x382f3a(0x21c)]}),_0x1458e2['joinedAt']&&(0x0,_0x3729a4['jsx'])('span',{'className':_0x382f3a(0x301),'children':_0x23576a(_0x1458e2[_0x382f3a(0x2e9)])})]}),(0x0,_0x3729a4[_0x382f3a(0x31a)])('div',{'className':'flex\x20items-center\x20justify-between\x20mt-0.5','children':[(0x0,_0x3729a4[_0x382f3a(0x31a)])('span',{'className':_0x382f3a(0x182),'children':[(0x0,_0x3729a4[_0x382f3a(0x200)])(_0x3386d3[_0x382f3a(0x276)],{'size':0xe}),_0x1458e2[_0x382f3a(0x1ec)],_0x382f3a(0x19b)]}),_0x1458e2[_0x382f3a(0x20b)]>0x0&&(0x0,_0x3729a4[_0x382f3a(0x200)])(_0x382f3a(0x1af),{'className':_0x382f3a(0x153),'children':_0x1458e2['unreadCount']})]})]})]},_0x1458e2['id']))});}var _0x4ff945=_0xe6f77b['i'](0xb0b7),_0x16f3fb=_0xe6f77b['i'](0xaa0b),_0x26b82f=_0xe6f77b['i'](0x125f6);let _0x4ae282=(0x0,_0x26b82f['default'])(_0x435cc3(0x199),[[_0x435cc3(0x1dc),{'d':_0x435cc3(0x24b),'key':'116fxf'}],[_0x435cc3(0x1dc),{'d':'m22\x2010-7.5\x207.5L13\x2016','key':'ke71qq'}]]);var _0x4e981a=_0xe6f77b['i'](0x9ce0);let _0x50d06a=(0x0,_0x26b82f[_0x435cc3(0x1ba)])('file',[['path',{'d':'M6\x2022a2\x202\x200\x200\x201-2-2V4a2\x202\x200\x200\x201\x202-2h8a2.4\x202.4\x200\x200\x201\x201.704.706l3.588\x203.588A2.4\x202.4\x200\x200\x201\x2020\x208v12a2\x202\x200\x200\x201-2\x202z','key':_0x435cc3(0x160)}],['path',{'d':_0x435cc3(0x210),'key':'wfsgrz'}]]);var _0x3d3029=_0xe6f77b['i'](0xd50),_0x3d3029=_0x3d3029,_0x3d25a3=_0xe6f77b['i'](0x7a2e),_0x1cf44c=_0xe6f77b['i'](0xf6e9);let _0x18bdfd=['image/jpeg',_0x435cc3(0x2b0),_0x435cc3(0x310),_0x435cc3(0x217),_0x435cc3(0x205),_0x435cc3(0x16c),_0x435cc3(0x18b),_0x435cc3(0x241),'video/x-msvideo',_0x435cc3(0x238),_0x435cc3(0x180),'application/vnd.openxmlformats-officedocument.wordprocessingml.document','application/vnd.ms-excel','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','application/vnd.ms-powerpoint',_0x435cc3(0x27b),_0x435cc3(0x20e),'text/csv',_0x435cc3(0x29a),'application/zip',_0x435cc3(0x1f6),'application/x-rar-compressed',_0x435cc3(0x223),_0x435cc3(0x19f),'application/x-tar',_0x435cc3(0x2cf),'text/css','text/javascript',_0x435cc3(0x203),_0x435cc3(0x23c),'text/xml'];async function _0x138a16(_0xc03302,_0x44c24c){const _0x1e0011=_0x435cc3;try{let _0x55fdb9,_0x2bb0e5=await _0xc03302[_0x1e0011(0x322)](),_0x2cface=new Uint8Array(_0x2bb0e5),_0x3da0ae=(_0x55fdb9=new Uint8Array(0xc),crypto[_0x1e0011(0x257)](_0x55fdb9),_0x55fdb9),_0x567296=await crypto['subtle']['encrypt']({'name':'AES-GCM','iv':_0x3da0ae},_0x44c24c,_0x2cface);return{'encryptedBlob':new Blob([_0x567296],{'type':_0x1e0011(0x2d3)}),'iv':function(_0x1a916c){const _0x1e6b66=_0x1e0011;let _0x5e7235='';for(let _0x5e126f=0x0;_0x5e126f<_0x1a916c['length'];_0x5e126f++)_0x5e7235+=String[_0x1e6b66(0x174)](_0x1a916c[_0x5e126f]);return btoa(_0x5e7235);}(_0x3da0ae),'originalFilename':_0xc03302[_0x1e0011(0x21c)],'mimeType':_0xc03302[_0x1e0011(0x311)],'fileSize':_0xc03302[_0x1e0011(0x234)]};}catch(_0x20a8de){throw console[_0x1e0011(0x2a3)](_0x1e0011(0x20f),_0x20a8de),Error(_0x1e0011(0x2de));}}async function _0x2ab8ab(_0x1fe8cd,_0x3ba691,_0x2b23f3,_0x3a7858){const _0x47e569=_0x435cc3;try{let _0x1c5ec9=await _0x1fe8cd['arrayBuffer'](),_0x331ff2=new Uint8Array(_0x1c5ec9),_0x1a07db=function(_0x1bbe8c){const _0x4d7f9a=_0x3426;let _0x1319b5=atob(_0x1bbe8c),_0x48f8fd=new Uint8Array(_0x1319b5['length']);for(let _0x4ca3d0=0x0;_0x4ca3d0<_0x1319b5[_0x4d7f9a(0x19e)];_0x4ca3d0++)_0x48f8fd[_0x4ca3d0]=_0x1319b5[_0x4d7f9a(0x1f5)](_0x4ca3d0);return _0x48f8fd;}(_0x3ba691),_0x9c7f1b=await crypto[_0x47e569(0x197)][_0x47e569(0x204)]({'name':'AES-GCM','iv':_0x1a07db},_0x3a7858,_0x331ff2);return new Blob([_0x9c7f1b],{'type':_0x2b23f3});}catch(_0x4514e4){throw console[_0x47e569(0x2a3)](_0x47e569(0x21a),_0x4514e4),Error('Failed\x20to\x20decrypt\x20file.\x20The\x20file\x20may\x20be\x20corrupted\x20or\x20you\x20may\x20not\x20have\x20permission\x20to\x20access\x20it.');}}function _0x49d54b(_0x4fcf1f){const _0x44c70a=_0x435cc3;if(0x0===_0x4fcf1f)return _0x44c70a(0x28f);let _0x145c0d=Math[_0x44c70a(0x196)](Math['log'](_0x4fcf1f)/Math['log'](0x400));return Math['round'](_0x4fcf1f/Math['pow'](0x400,_0x145c0d)*0x64)/0x64+'\x20'+['Bytes','KB','MB','GB'][_0x145c0d];}function _0x65eed({message:_0x20e6a2,showSender:_0x2e897e=!0x1,onReply:_0x497774}){const _0x3b0411=_0x435cc3;let {user:_0x13da10,privateKey:_0xe18850}=(0x0,_0x9dc1e0['useAuth'])(),[_0x3a33d9,_0x49eaf0]=(0x0,_0x3e6434['useState'])(new Set()),[_0x3f8fd2,_0x5d045a]=(0x0,_0x3e6434[_0x3b0411(0x30f)])({}),_0x15088e=async _0x2ad895=>{const _0x16001d=_0x3b0411;if(!_0xe18850)return void _0x5d045a(_0x2bb5a8=>({..._0x2bb5a8,[_0x2ad895['id']]:'Encryption\x20key\x20not\x20available'}));try{var _0x2e1d71,_0x1bc265;let _0x2100c7,_0x2e5271;_0x49eaf0(_0x4be229=>new Set(_0x4be229)['add'](_0x2ad895['id'])),_0x5d045a(_0x26cbf5=>{let _0x458483={..._0x26cbf5};return delete _0x458483[_0x2ad895['id']],_0x458483;});let _0x5d73e7=await _0x5df283[_0x16001d(0x1aa)]['auth'][_0x16001d(0x1f1)](),_0x3d138c=_0x5d73e7['data'][_0x16001d(0x213)]?.[_0x16001d(0x2d1)];if(!_0x3d138c)throw Error('Authentication\x20required');let _0x1200c8=await fetch(_0x16001d(0x260),{'method':'POST','headers':{'Content-Type':_0x16001d(0x203),'Authorization':'Bearer\x20'+_0x3d138c},'body':JSON['stringify']({'attachmentId':_0x2ad895['id']})});if(!_0x1200c8['ok']){let _0x473b58=await _0x1200c8['json']();throw Error(_0x473b58['error']||_0x16001d(0x2e2));}let _0x4e0094=await _0x1200c8[_0x16001d(0x230)](),_0x506122=_0x1200c8[_0x16001d(0x2df)]['get']('X-Encryption-Iv')||_0x2ad895[_0x16001d(0x162)],_0x5d5c1d=_0x1200c8['headers']['get'](_0x16001d(0x2e8))||_0x2ad895['mime_type'];_0x2e1d71=await _0x2ab8ab(_0x4e0094,_0x506122,_0x5d5c1d,_0xe18850),_0x1bc265=_0x2ad895['filename'],_0x2100c7=URL[_0x16001d(0x26f)](_0x2e1d71),(_0x2e5271=document['createElement']('a'))[_0x16001d(0x211)]=_0x2100c7,_0x2e5271[_0x16001d(0x2d5)]=_0x1bc265,document['body']['appendChild'](_0x2e5271),_0x2e5271['click'](),document[_0x16001d(0x2c1)][_0x16001d(0x24c)](_0x2e5271),URL[_0x16001d(0x169)](_0x2100c7);}catch(_0x104625){console['error'](_0x16001d(0x314),_0x104625),_0x5d045a(_0x2ce896=>({..._0x2ce896,[_0x2ad895['id']]:_0x104625 instanceof Error?_0x104625[_0x16001d(0x27d)]:'Download\x20failed'}));}finally{_0x49eaf0(_0xf029ae=>{let _0x38bebd=new Set(_0xf029ae);return _0x38bebd['delete'](_0x2ad895['id']),_0x38bebd;});}};if(_0x20e6a2[_0x3b0411(0x1d3)])return(0x0,_0x3729a4['jsx'])('div',{'className':'flex\x20justify-center\x20my-2','children':(0x0,_0x3729a4[_0x3b0411(0x31a)])('div',{'className':'px-3\x20py-1\x20bg-neutral-800/50\x20rounded-full\x20text-xs\x20text-neutral-400','children':[_0x20e6a2['senderName'],'\x20',_0x20e6a2['content']]})});let _0x1fbc1a=_0x20e6a2[_0x3b0411(0x24a)]&&_0x20e6a2['attachments'][_0x3b0411(0x19e)]>0x0;return(0x0,_0x3729a4[_0x3b0411(0x200)])(_0x3b0411(0x159),{'className':_0x3b0411(0x1d6)+(_0x20e6a2['isMine']?'justify-end':'justify-start')+'\x20mb-1','children':(0x0,_0x3729a4['jsxs'])(_0x3b0411(0x159),{'className':'max-w-[75%]\x20'+(_0x20e6a2[_0x3b0411(0x235)]?'bg-green-600\x20rounded-tl-xl\x20rounded-tr-sm\x20rounded-bl-xl\x20rounded-br-xl':_0x3b0411(0x16a))+'\x20px-3\x20py-2\x20shadow-sm','onDoubleClick':()=>_0x497774?.(_0x20e6a2),'children':[_0x2e897e&&!_0x20e6a2[_0x3b0411(0x235)]&&(0x0,_0x3729a4[_0x3b0411(0x200)])(_0x3b0411(0x159),{'className':'text-xs\x20font-medium\x20text-green-400\x20mb-1','children':_0x20e6a2['senderName']}),_0x20e6a2['replyToContent']&&(0x0,_0x3729a4['jsx'])(_0x3b0411(0x159),{'className':'mb-2\x20pl-2\x20border-l-2\x20'+(_0x20e6a2['isMine']?_0x3b0411(0x1bf):_0x3b0411(0x263)),'children':(0x0,_0x3729a4['jsx'])('p',{'className':'text-xs\x20opacity-70\x20line-clamp-2','children':_0x20e6a2['replyToContent']})}),_0x20e6a2[_0x3b0411(0x1e2)]&&(0x0,_0x3729a4['jsx'])('p',{'className':'text-sm\x20whitespace-pre-wrap\x20break-words','children':_0x20e6a2['content']}),_0x1fbc1a&&(0x0,_0x3729a4[_0x3b0411(0x200)])(_0x3b0411(0x159),{'className':_0x3b0411(0x2d0),'children':_0x20e6a2[_0x3b0411(0x24a)]['map'](_0x8e0aef=>{const _0x56d369=_0x3b0411;var _0x3faaca;let _0x16c79f=_0x3a33d9['has'](_0x8e0aef['id']),_0x31dbbd=_0x3f8fd2[_0x8e0aef['id']],_0xf39196=(_0x3faaca=_0x8e0aef['mime_type'])['startsWith'](_0x56d369(0x175))?'image':_0x3faaca['startsWith'](_0x56d369(0x295))?_0x56d369(0x271):_0x3faaca[_0x56d369(0x31d)](_0x56d369(0x1ff))?'pdf':_0x3faaca[_0x56d369(0x31d)](_0x56d369(0x16f))||_0x3faaca['includes']('sheet')?'spreadsheet':_0x3faaca[_0x56d369(0x31d)]('powerpoint')||_0x3faaca[_0x56d369(0x31d)](_0x56d369(0x1ce))?'presentation':_0x3faaca['includes']('word')||_0x3faaca[_0x56d369(0x31d)](_0x56d369(0x222))?_0x56d369(0x222):_0x3faaca['includes'](_0x56d369(0x1a8))||_0x3faaca['includes'](_0x56d369(0x2e4))||_0x3faaca['includes'](_0x56d369(0x15e))||_0x3faaca['includes']('gzip')?_0x56d369(0x2b1):_0x3faaca[_0x56d369(0x31d)](_0x56d369(0x2b2))?_0x56d369(0x2b2):_0x3faaca[_0x56d369(0x31d)](_0x56d369(0x155))||_0x3faaca['includes'](_0x56d369(0x206))?_0x56d369(0x306):'file';return(0x0,_0x3729a4[_0x56d369(0x31a)])('div',{'className':'flex\x20items-center\x20gap-2\x20p-2\x20rounded-lg\x20'+(_0x20e6a2['isMine']?'bg-green-700/50':'bg-neutral-800/50'),'children':[(0x0,_0x3729a4['jsxs'])('div',{'className':_0x56d369(0x2e1)+(_0x20e6a2[_0x56d369(0x235)]?'bg-green-800':'bg-neutral-700'),'children':['image'===_0xf39196&&(0x0,_0x3729a4[_0x56d369(0x200)])(_0x3d3029['default'],{'size':0x14}),'image'!==_0xf39196&&(0x0,_0x3729a4[_0x56d369(0x200)])(_0x50d06a,{'size':0x14})]}),(0x0,_0x3729a4[_0x56d369(0x31a)])(_0x56d369(0x159),{'className':_0x56d369(0x1b0),'children':[(0x0,_0x3729a4[_0x56d369(0x200)])('p',{'className':_0x56d369(0x2b8),'children':_0x8e0aef[_0x56d369(0x1a5)]}),(0x0,_0x3729a4[_0x56d369(0x200)])('p',{'className':'text-[10px]\x20opacity-70','children':_0x49d54b(_0x8e0aef[_0x56d369(0x245)])}),_0x31dbbd&&(0x0,_0x3729a4[_0x56d369(0x31a)])('div',{'className':'flex\x20items-center\x20gap-1\x20mt-1','children':[(0x0,_0x3729a4['jsx'])(_0x1cf44c[_0x56d369(0x284)],{'size':0xc,'className':'text-red-400'}),(0x0,_0x3729a4['jsx'])('p',{'className':'text-[10px]\x20text-red-400','children':_0x31dbbd})]})]}),(0x0,_0x3729a4[_0x56d369(0x200)])('button',{'onClick':()=>_0x15088e(_0x8e0aef),'disabled':_0x16c79f,'className':'p-2\x20rounded-full\x20'+(_0x20e6a2['isMine']?_0x56d369(0x2a7):'hover:bg-neutral-700')+'\x20disabled:opacity-50\x20transition-colors','title':_0x56d369(0x1ae),'children':_0x16c79f?(0x0,_0x3729a4[_0x56d369(0x200)])(_0x3d25a3[_0x56d369(0x25d)],{'size':0x10,'className':_0x56d369(0x2b3)}):(0x0,_0x3729a4['jsx'])(_0x4e981a[_0x56d369(0x1ae)],{'size':0x10})})]},_0x8e0aef['id']);})}),(0x0,_0x3729a4['jsxs'])(_0x3b0411(0x159),{'className':'flex\x20items-center\x20justify-end\x20gap-1\x20mt-1\x20'+(_0x20e6a2['isMine']?_0x3b0411(0x2c9):_0x3b0411(0x237)),'children':[(0x0,_0x3729a4[_0x3b0411(0x200)])('span',{'className':'text-[10px]','children':new Date(_0x20e6a2['createdAt'])['toLocaleTimeString']([],{'hour':'2-digit','minute':'2-digit'})}),_0x20e6a2['isMine']&&(0x0,_0x3729a4[_0x3b0411(0x200)])('span',{'className':'text-xs','children':_0x20e6a2[_0x3b0411(0x264)]?(0x0,_0x3729a4[_0x3b0411(0x200)])(_0x4ae282,{'size':0xe,'className':_0x3b0411(0x1e3)}):(0x0,_0x3729a4['jsx'])(_0x16f3fb['Check'],{'size':0xe})})]})]})});}var _0x4365c5=_0xe6f77b['i'](0x39ac),_0x32c49f=_0xe6f77b['i'](0x935f),_0x383df1=_0xe6f77b['i'](0x17ea8);let _0x392a31=(0x0,_0x26b82f['default'])(_0x435cc3(0x316),[[_0x435cc3(0x1dc),{'d':'m16\x206-8.414\x208.586a2\x202\x200\x200\x200\x202.829\x202.829l8.414-8.586a4\x204\x200\x201\x200-5.657-5.657l-8.379\x208.551a6\x206\x200\x201\x200\x208.485\x208.485l8.379-8.551','key':'1miecu'}]]),_0x5edf8a=(0x0,_0x26b82f[_0x435cc3(0x1ba)])(_0x435cc3(0x214),[['path',{'d':'M12\x2019v3','key':'npa21l'}],[_0x435cc3(0x1dc),{'d':_0x435cc3(0x14c),'key':_0x435cc3(0x254)}],['rect',{'x':'9','y':'2','width':'6','height':'13','rx':'3','key':'s6n7sd'}]]);function _0x2608af({onSend:_0x328ae7,replyTo:_0x418c35,onCancelReply:_0x46c651,disabled:_0x12e6c6=!0x1,placeholder:_0x22cb41='Type\x20a\x20message...',remainingMessages:_0x53d859,messageType:_0x5172fd=_0x435cc3(0x17c)}){const _0x2d4181=_0x435cc3;let [_0x1d9fe4,_0x17d461]=(0x0,_0x3e6434['useState'])(''),[_0x403a2f,_0x292beb]=(0x0,_0x3e6434['useState'])([]),[_0x157b73,_0x22c848]=(0x0,_0x3e6434['useState'])(!0x1),_0x5c140c=(0x0,_0x3e6434[_0x2d4181(0x19c)])(null),_0x954033=(0x0,_0x3e6434['useRef'])(null),{user:_0x4efbdc,privateKey:_0x5bafbf}=(0x0,_0x9dc1e0['useAuth'])(),_0x52d463=_0x4efbdc?.['role']===_0x2d4181(0x207),_0x30eafd=_0x52d463?0x3200000:0x500000;(0x0,_0x3e6434[_0x2d4181(0x225)])(()=>{const _0xcb3801=_0x2d4181;_0x5c140c['current']&&(_0x5c140c['current']['style'][_0xcb3801(0x19d)]='auto',_0x5c140c['current']['style'][_0xcb3801(0x19d)]=Math['min'](_0x5c140c[_0xcb3801(0x294)]['scrollHeight'],0x96)+'px');},[_0x1d9fe4]);let _0x4ad317=async()=>{const _0x52aac4=_0x2d4181;let _0x12b900=_0x403a2f[_0x52aac4(0x1f8)](_0x134c8d=>!_0x134c8d[_0x52aac4(0x2a3)]);if(0x0===_0x12b900['length'])return[];if(!_0x5bafbf)throw Error(_0x52aac4(0x208));let _0x4f4813=[];for(let _0x3b4b6d of _0x12b900)try{_0x292beb(_0x72558c=>_0x72558c[_0x52aac4(0x226)](_0x4bbd13=>_0x4bbd13['id']===_0x3b4b6d['id']?{..._0x4bbd13,'uploading':!0x0}:_0x4bbd13));let _0x5dd7b1=await _0x138a16(_0x3b4b6d['file'],_0x5bafbf),_0x181dcc=new FormData();_0x181dcc['append'](_0x52aac4(0x243),_0x5dd7b1[_0x52aac4(0x26c)]),_0x181dcc['append'](_0x52aac4(0x1a5),_0x5dd7b1['originalFilename']),_0x181dcc[_0x52aac4(0x14e)]('mimeType',_0x5dd7b1['mimeType']),_0x181dcc['append'](_0x52aac4(0x1d8),_0x5dd7b1['iv']),_0x181dcc['append']('attachmentType','dm'===_0x5172fd?'direct_message':_0x52aac4(0x27d));let _0x4ac455=await _0x5df283['supabase'][_0x52aac4(0x184)][_0x52aac4(0x1f1)](),_0x528333=_0x4ac455['data'][_0x52aac4(0x213)]?.['access_token'];if(!_0x528333)throw Error(_0x52aac4(0x1a7));let _0x25d501=await fetch('/functions/v1/upload-attachment',{'method':_0x52aac4(0x2ef),'headers':{'Authorization':_0x52aac4(0x18a)+_0x528333},'body':_0x181dcc});if(!_0x25d501['ok']){let _0x3623b9=await _0x25d501['json']();throw Error(_0x3623b9['error']||'Upload\x20failed');}let _0x499b85=await _0x25d501['json']();_0x4f4813[_0x52aac4(0x228)](_0x499b85[_0x52aac4(0x231)]['id']),_0x292beb(_0x19c809=>_0x19c809[_0x52aac4(0x226)](_0x4b58f3=>_0x4b58f3['id']===_0x3b4b6d['id']?{..._0x4b58f3,'uploading':!0x1,'uploadedId':_0x499b85[_0x52aac4(0x231)]['id']}:_0x4b58f3));}catch(_0x39d39b){console[_0x52aac4(0x2a3)](_0x52aac4(0x22c),_0x39d39b),_0x292beb(_0x11e56a=>_0x11e56a['map'](_0x41083a=>_0x41083a['id']===_0x3b4b6d['id']?{..._0x41083a,'uploading':!0x1,'error':_0x39d39b instanceof Error?_0x39d39b['message']:_0x52aac4(0x26a)}:_0x41083a));}return _0x4f4813;},_0x7658ef=async()=>{const _0x4221ea=_0x2d4181;let _0x3757fc=_0x1d9fe4[_0x4221ea(0x24f)]();if((_0x3757fc||0x0!==_0x403a2f['length'])&&!_0x12e6c6)try{_0x22c848(!0x0);let _0x48cfc0=await _0x4ad317();if(_0x403a2f[_0x4221ea(0x1f8)](_0x4a0952=>!_0x4a0952['error']&&!_0x48cfc0['includes'](_0x4a0952['uploadedId']||''))[_0x4221ea(0x19e)]>0x0)throw Error('Some\x20attachments\x20failed\x20to\x20upload');_0x328ae7(_0x3757fc||'',_0x48cfc0[_0x4221ea(0x19e)]>0x0?_0x48cfc0:void 0x0),_0x17d461(''),_0x292beb([]),_0x5c140c['current']&&(_0x5c140c['current'][_0x4221ea(0x232)][_0x4221ea(0x19d)]=_0x4221ea(0x2f8));}catch(_0xfba02e){console['error']('Send\x20error:',_0xfba02e);}finally{_0x22c848(!0x1);}},_0x80d218=null!=_0x53d859&&_0x53d859<=0x0,_0x4575a3=_0x1d9fe4[_0x2d4181(0x24f)]()||_0x403a2f[_0x2d4181(0x19e)]>0x0;return(0x0,_0x3729a4[_0x2d4181(0x31a)])('div',{'className':'bg-neutral-900\x20border-t\x20border-neutral-800\x20p-3','children':[_0x418c35&&(0x0,_0x3729a4[_0x2d4181(0x31a)])('div',{'className':'mb-2\x20p-2\x20bg-neutral-800\x20rounded-lg\x20flex\x20items-start\x20justify-between','children':[(0x0,_0x3729a4[_0x2d4181(0x31a)])(_0x2d4181(0x159),{'className':'flex-1\x20min-w-0','children':[(0x0,_0x3729a4['jsxs'])('p',{'className':_0x2d4181(0x319),'children':[_0x2d4181(0x202),_0x418c35[_0x2d4181(0x1d9)]]}),(0x0,_0x3729a4[_0x2d4181(0x200)])('p',{'className':'text-sm\x20text-neutral-300\x20truncate','children':_0x418c35['content']})]}),(0x0,_0x3729a4[_0x2d4181(0x200)])(_0x2d4181(0x1bd),{'onClick':_0x46c651,'className':_0x2d4181(0x1a6),'children':(0x0,_0x3729a4['jsx'])(_0x32c49f['X'],{'size':0x12})})]}),null!=_0x53d859&&_0x53d859<=0xa&&!_0x80d218&&(0x0,_0x3729a4[_0x2d4181(0x200)])('div',{'className':_0x2d4181(0x1f2),'children':(0x0,_0x3729a4[_0x2d4181(0x31a)])('p',{'className':_0x2d4181(0x2d2),'children':[_0x53d859,'\x20message',0x1!==_0x53d859?'s':'','\x20remaining\x20this\x20month.','\x20',(0x0,_0x3729a4[_0x2d4181(0x200)])('a',{'href':_0x2d4181(0x31c),'className':_0x2d4181(0x1dd),'children':'Upgrade\x20to\x20unlimited'})]})}),_0x80d218&&(0x0,_0x3729a4['jsx'])(_0x2d4181(0x159),{'className':'mb-2\x20p-2\x20bg-red-900/30\x20border\x20border-red-700\x20rounded-lg','children':(0x0,_0x3729a4['jsxs'])('p',{'className':'text-xs\x20text-red-400','children':[_0x2d4181(0x246),'\x20',(0x0,_0x3729a4['jsx'])('a',{'href':'/settings','className':_0x2d4181(0x2d8),'children':'Upgrade\x20to\x20unlimited\x20for\x20$6.99/month'})]})}),!_0x52d463&&(0x0,_0x3729a4[_0x2d4181(0x200)])(_0x2d4181(0x159),{'className':'mb-2\x20p-2\x20bg-blue-900/30\x20border\x20border-blue-700\x20rounded-lg','children':(0x0,_0x3729a4[_0x2d4181(0x31a)])('p',{'className':'text-xs\x20text-blue-400','children':['FREE\x20plan:\x20Max\x205MB\x20per\x20file.','\x20',(0x0,_0x3729a4[_0x2d4181(0x200)])('a',{'href':'/settings','className':_0x2d4181(0x1cc),'children':_0x2d4181(0x313)})]})}),_0x403a2f['length']>0x0&&(0x0,_0x3729a4['jsx'])('div',{'className':_0x2d4181(0x2e3),'children':_0x403a2f[_0x2d4181(0x226)](_0x4fc68f=>(0x0,_0x3729a4['jsxs'])('div',{'className':_0x2d4181(0x1d4),'children':[_0x4fc68f['preview']?(0x0,_0x3729a4['jsx'])('img',{'src':_0x4fc68f['preview'],'alt':_0x4fc68f[_0x2d4181(0x243)]['name'],'className':_0x2d4181(0x18d)}):(0x0,_0x3729a4[_0x2d4181(0x200)])(_0x2d4181(0x159),{'className':_0x2d4181(0x1cb),'children':(0x0,_0x3729a4[_0x2d4181(0x200)])(_0x50d06a,{'size':0x18,'className':_0x2d4181(0x237)})}),(0x0,_0x3729a4[_0x2d4181(0x31a)])('div',{'className':_0x2d4181(0x1b0),'children':[(0x0,_0x3729a4['jsx'])('p',{'className':'text-sm\x20text-white\x20truncate','children':_0x4fc68f['file']['name']}),(0x0,_0x3729a4[_0x2d4181(0x200)])('p',{'className':_0x2d4181(0x154),'children':_0x49d54b(_0x4fc68f['file']['size'])}),_0x4fc68f['error']&&(0x0,_0x3729a4[_0x2d4181(0x200)])('p',{'className':_0x2d4181(0x1ac),'children':_0x4fc68f['error']})]}),_0x4fc68f['uploading']?(0x0,_0x3729a4['jsx'])(_0x3d25a3['Loader2'],{'size':0x14,'className':_0x2d4181(0x25e)}):_0x4fc68f[_0x2d4181(0x290)]?(0x0,_0x3729a4[_0x2d4181(0x200)])('span',{'className':_0x2d4181(0x2f5),'children':'Uploaded'}):(0x0,_0x3729a4[_0x2d4181(0x200)])('button',{'onClick':()=>{var _0x261be0;return _0x261be0=_0x4fc68f['id'],void _0x292beb(_0x5ac8e1=>_0x5ac8e1['filter'](_0x23b728=>_0x23b728['id']!==_0x261be0));},'className':_0x2d4181(0x15d),'children':(0x0,_0x3729a4[_0x2d4181(0x200)])(_0x32c49f['X'],{'size':0x12})})]},_0x4fc68f['id']))}),(0x0,_0x3729a4['jsxs'])(_0x2d4181(0x159),{'className':_0x2d4181(0x150),'children':[(0x0,_0x3729a4['jsx'])(_0x2d4181(0x224),{'ref':_0x954033,'type':_0x2d4181(0x243),'multiple':!0x0,'className':'hidden','onChange':_0x208a84=>{const _0x5321a2=_0x2d4181;let _0x1ea46f=Array['from'](_0x208a84[_0x5321a2(0x2e5)]['files']||[]);if(0x0===_0x1ea46f[_0x5321a2(0x19e)])return;let _0x5705dc=_0x1ea46f[_0x5321a2(0x226)](_0x5c6197=>{const _0x54d17e=_0x5321a2;let _0x1cd6c8=function(_0x251790,_0x48317a=0x3200000){const _0x195032=_0x3426;if(!_0x251790)return{'valid':!0x1,'error':'No\x20file\x20provided'};if(0x0===_0x251790['size'])return{'valid':!0x1,'error':_0x195032(0x15c)};if(_0x251790[_0x195032(0x234)]>_0x48317a){let _0x2c44e8=(_0x48317a/0x100000)[_0x195032(0x292)](0x0);return{'valid':!0x1,'error':'File\x20too\x20large.\x20Maximum\x20size:\x20'+_0x2c44e8+'MB'};}if(!_0x18bdfd[_0x195032(0x31d)](_0x251790[_0x195032(0x311)]))return{'valid':!0x1,'error':'File\x20type\x20not\x20allowed:\x20'+(_0x251790[_0x195032(0x311)]||_0x195032(0x14f))+_0x195032(0x315)};if(!_0x251790[_0x195032(0x21c)]||_0x251790['name']['length']>0xff)return{'valid':!0x1,'error':_0x195032(0x221)};let _0x7eee5e=_0x251790['name']['toLowerCase']();return[_0x195032(0x1c6),_0x195032(0x31f),_0x195032(0x250),_0x195032(0x2ce),'.scr',_0x195032(0x30d),'.js','.jar']['some'](_0x58750d=>_0x7eee5e['endsWith'](_0x58750d))?{'valid':!0x1,'error':_0x195032(0x2b5)}:{'valid':!0x0};}(_0x5c6197,_0x30eafd);return{'id':crypto['randomUUID'](),'file':_0x5c6197,'uploading':!0x1,'error':_0x1cd6c8['valid']?void 0x0:_0x1cd6c8[_0x54d17e(0x2a3)]};});_0x5705dc['forEach'](_0x53de53=>{const _0x1e3ce0=_0x5321a2;if(!_0x53de53[_0x1e3ce0(0x2a3)]&&_0x53de53['file'][_0x1e3ce0(0x311)]['startsWith']('image/')){let _0x1c03a4=new FileReader();_0x1c03a4['onload']=_0x317592=>{_0x292beb(_0x16b555=>_0x16b555['map'](_0x100259=>_0x100259['id']===_0x53de53['id']?{..._0x100259,'preview':_0x317592['target']?.['result']}:_0x100259));},_0x1c03a4['readAsDataURL'](_0x53de53[_0x1e3ce0(0x243)]);}}),_0x292beb(_0x5e9c22=>[..._0x5e9c22,..._0x5705dc]),_0x954033['current']&&(_0x954033[_0x5321a2(0x294)]['value']='');},'accept':_0x2d4181(0x22a)}),(0x0,_0x3729a4['jsx'])('button',{'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','title':'Emoji','disabled':_0x12e6c6||_0x80d218,'children':(0x0,_0x3729a4['jsx'])(_0x383df1['Smile'],{'size':0x18})}),(0x0,_0x3729a4['jsx'])(_0x2d4181(0x1bd),{'onClick':()=>_0x954033['current']?.['click'](),'className':_0x2d4181(0x26b),'title':'Attach\x20files','disabled':_0x12e6c6||_0x80d218||_0x157b73,'children':(0x0,_0x3729a4['jsx'])(_0x392a31,{'size':0x18})}),(0x0,_0x3729a4['jsx'])('div',{'className':_0x2d4181(0x2ad),'children':(0x0,_0x3729a4['jsx'])('textarea',{'ref':_0x5c140c,'value':_0x1d9fe4,'onChange':_0xc90bfb=>_0x17d461(_0xc90bfb[_0x2d4181(0x2e5)][_0x2d4181(0x1a9)]),'onKeyDown':_0x14a1f0=>{'Enter'!==_0x14a1f0['key']||_0x14a1f0['shiftKey']||(_0x14a1f0['preventDefault'](),_0x7658ef());},'placeholder':_0x80d218?'Upgrade\x20to\x20send\x20messages':_0x22cb41,'disabled':_0x12e6c6||_0x80d218||_0x157b73,'rows':0x1,'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-2xl\x20text-sm\x20resize-none\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500\x20disabled:opacity-50\x20disabled:cursor-not-allowed','style':{'maxHeight':'150px'}})}),_0x4575a3?(0x0,_0x3729a4['jsx'])(_0x2d4181(0x1bd),{'onClick':_0x7658ef,'disabled':_0x12e6c6||_0x80d218||_0x157b73,'className':_0x2d4181(0x2a9),'title':'Send','children':_0x157b73?(0x0,_0x3729a4[_0x2d4181(0x200)])(_0x3d25a3[_0x2d4181(0x25d)],{'size':0x18,'className':'animate-spin'}):(0x0,_0x3729a4[_0x2d4181(0x200)])(_0x4365c5[_0x2d4181(0x291)],{'size':0x18})}):(0x0,_0x3729a4['jsx'])('button',{'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','title':'Voice\x20message','disabled':_0x12e6c6||_0x80d218,'children':(0x0,_0x3729a4['jsx'])(_0x5edf8a,{'size':0x18})})]})]});}let _0x3084d1=(0x0,_0x26b82f['default'])('lock-open',[[_0x435cc3(0x2dc),{'width':'18','height':'11','x':'3','y':'11','rx':'2','ry':'2','key':'1w4ew1'}],['path',{'d':'M7\x2011V7a5\x205\x200\x200\x201\x209.9-1','key':_0x435cc3(0x2f1)}]]);var _0xecc237=_0xe6f77b['i'](0x13cf4),_0x35f517=_0xe6f77b['i'](0x512f),_0x240fb0=_0xe6f77b['i'](0x754e),_0xf631a7=_0xe6f77b['i'](0x66da),_0x3a8881=_0xe6f77b['i'](0x2a14),_0x203278=_0xe6f77b['i'](0xd19c),_0x58bb4b=_0xe6f77b['i'](0x1236e),_0x34142c=_0xe6f77b['i'](0x17972),_0x137ec2=_0xe6f77b['i'](0xbd29),_0x466d01=_0xe6f77b['i'](0x1670e),_0x12c227=_0xe6f77b['i'](0x10edc),_0x280aa6=_0xe6f77b['i'](0xe813),[_0x276b69,_0x10ec12]=(0x0,_0x240fb0['createContextScope'])(_0x435cc3(0x279),[_0x203278['createPopperScope']]),_0x33f3b0=(0x0,_0x203278['createPopperScope'])(),_0x3bbf63='TooltipProvider',_0x5d45bb=_0x435cc3(0x285),[_0x49ae20,_0x31e659]=_0x276b69(_0x3bbf63),_0x4bf65c=_0x430262=>{const _0x2ac02a=_0x435cc3;let {__scopeTooltip:_0x582f55,delayDuration:_0x14cfab=0x2bc,skipDelayDuration:_0x1ffc2e=0x12c,disableHoverableContent:_0x2c4e21=!0x1,children:_0x27641a}=_0x430262,_0x2a3fc5=_0x3e6434['useRef'](!0x0),_0x5a6fcf=_0x3e6434['useRef'](!0x1),_0x7abcce=_0x3e6434[_0x2ac02a(0x19c)](0x0);return _0x3e6434['useEffect'](()=>{const _0xc39078=_0x2ac02a;let _0x438611=_0x7abcce['current'];return()=>window[_0xc39078(0x186)](_0x438611);},[]),(0x0,_0x3729a4[_0x2ac02a(0x200)])(_0x49ae20,{'scope':_0x582f55,'isOpenDelayedRef':_0x2a3fc5,'delayDuration':_0x14cfab,'onOpen':_0x3e6434[_0x2ac02a(0x321)](()=>{const _0x3a4f55=_0x2ac02a;window['clearTimeout'](_0x7abcce[_0x3a4f55(0x294)]),_0x2a3fc5[_0x3a4f55(0x294)]=!0x1;},[]),'onClose':_0x3e6434['useCallback'](()=>{const _0x2a49c1=_0x2ac02a;window['clearTimeout'](_0x7abcce['current']),_0x7abcce[_0x2a49c1(0x294)]=window[_0x2a49c1(0x176)](()=>_0x2a3fc5[_0x2a49c1(0x294)]=!0x0,_0x1ffc2e);},[_0x1ffc2e]),'isPointerInTransitRef':_0x5a6fcf,'onPointerInTransitChange':_0x3e6434['useCallback'](_0x113254=>{const _0x30ab21=_0x2ac02a;_0x5a6fcf[_0x30ab21(0x294)]=_0x113254;},[]),'disableHoverableContent':_0x2c4e21,'children':_0x27641a});};_0x4bf65c['displayName']=_0x3bbf63;var _0x45b572=_0x435cc3(0x279),[_0x55412e,_0x142d74]=_0x276b69(_0x45b572),_0x302228=_0x3ceb70=>{const _0x394e6a=_0x435cc3;let {__scopeTooltip:_0xdedcbb,children:_0x59c0b9,open:_0x20df93,defaultOpen:_0xd9fdb2,onOpenChange:_0x2f9224,disableHoverableContent:_0x163bf3,delayDuration:_0x1f0e29}=_0x3ceb70,_0x12eeb1=_0x31e659(_0x45b572,_0x3ceb70['__scopeTooltip']),_0x4e3b91=_0x33f3b0(_0xdedcbb),[_0x1f7c72,_0x4c855b]=_0x3e6434['useState'](null),_0x47142a=(0x0,_0x3a8881['useId'])(),_0x518150=_0x3e6434[_0x394e6a(0x19c)](0x0),_0x43b1f1=_0x163bf3??_0x12eeb1['disableHoverableContent'],_0x56afef=_0x1f0e29??_0x12eeb1['delayDuration'],_0x40e646=_0x3e6434['useRef'](!0x1),[_0x1ef66f,_0x5b4a01]=(0x0,_0x12c227['useControllableState'])({'prop':_0x20df93,'defaultProp':_0xd9fdb2??!0x1,'onChange':_0xe6a71c=>{_0xe6a71c?(_0x12eeb1['onOpen'](),document['dispatchEvent'](new CustomEvent(_0x5d45bb))):_0x12eeb1['onClose'](),_0x2f9224?.(_0xe6a71c);},'caller':_0x45b572}),_0x5618ed=_0x3e6434[_0x394e6a(0x1a1)](()=>_0x1ef66f?_0x40e646['current']?'delayed-open':'instant-open':'closed',[_0x1ef66f]),_0x3471a5=_0x3e6434['useCallback'](()=>{const _0x155204=_0x394e6a;window[_0x155204(0x186)](_0x518150[_0x155204(0x294)]),_0x518150[_0x155204(0x294)]=0x0,_0x40e646['current']=!0x1,_0x5b4a01(!0x0);},[_0x5b4a01]),_0x3791a4=_0x3e6434[_0x394e6a(0x321)](()=>{const _0x30db9a=_0x394e6a;window[_0x30db9a(0x186)](_0x518150['current']),_0x518150['current']=0x0,_0x5b4a01(!0x1);},[_0x5b4a01]),_0xdba39=_0x3e6434['useCallback'](()=>{window['clearTimeout'](_0x518150['current']),_0x518150['current']=window['setTimeout'](()=>{_0x40e646['current']=!0x0,_0x5b4a01(!0x0),_0x518150['current']=0x0;},_0x56afef);},[_0x56afef,_0x5b4a01]);return _0x3e6434[_0x394e6a(0x225)](()=>()=>{const _0x5323b4=_0x394e6a;_0x518150[_0x5323b4(0x294)]&&(window['clearTimeout'](_0x518150[_0x5323b4(0x294)]),_0x518150[_0x5323b4(0x294)]=0x0);},[]),(0x0,_0x3729a4[_0x394e6a(0x200)])(_0x203278['Root'],{..._0x4e3b91,'children':(0x0,_0x3729a4[_0x394e6a(0x200)])(_0x55412e,{'scope':_0xdedcbb,'contentId':_0x47142a,'open':_0x1ef66f,'stateAttribute':_0x5618ed,'trigger':_0x1f7c72,'onTriggerChange':_0x4c855b,'onTriggerEnter':_0x3e6434['useCallback'](()=>{_0x12eeb1['isOpenDelayedRef']['current']?_0xdba39():_0x3471a5();},[_0x12eeb1['isOpenDelayedRef'],_0xdba39,_0x3471a5]),'onTriggerLeave':_0x3e6434[_0x394e6a(0x321)](()=>{const _0x11d8a5=_0x394e6a;_0x43b1f1?_0x3791a4():(window[_0x11d8a5(0x186)](_0x518150['current']),_0x518150[_0x11d8a5(0x294)]=0x0);},[_0x3791a4,_0x43b1f1]),'onOpen':_0x3471a5,'onClose':_0x3791a4,'disableHoverableContent':_0x43b1f1,'children':_0x59c0b9})});};_0x302228[_0x435cc3(0x1a0)]=_0x45b572;var _0x29bb53='TooltipTrigger',_0x2887ae=_0x3e6434[_0x435cc3(0x17b)]((_0x297599,_0x2aa7de)=>{const _0x1b01b6=_0x435cc3;let {__scopeTooltip:_0x306251,..._0x436432}=_0x297599,_0x27fa0a=_0x142d74(_0x29bb53,_0x306251),_0x4e3382=_0x31e659(_0x29bb53,_0x306251),_0x380731=_0x33f3b0(_0x306251),_0xa2092f=_0x3e6434[_0x1b01b6(0x19c)](null),_0x3452d0=(0x0,_0x35f517['useComposedRefs'])(_0x2aa7de,_0xa2092f,_0x27fa0a['onTriggerChange']),_0x523c26=_0x3e6434[_0x1b01b6(0x19c)](!0x1),_0x504352=_0x3e6434[_0x1b01b6(0x19c)](!0x1),_0x4f0236=_0x3e6434[_0x1b01b6(0x321)](()=>_0x523c26[_0x1b01b6(0x294)]=!0x1,[]);return _0x3e6434[_0x1b01b6(0x225)](()=>()=>document['removeEventListener'](_0x1b01b6(0x2cd),_0x4f0236),[_0x4f0236]),(0x0,_0x3729a4[_0x1b01b6(0x200)])(_0x203278[_0x1b01b6(0x1bc)],{'asChild':!0x0,..._0x380731,'children':(0x0,_0x3729a4[_0x1b01b6(0x200)])(_0x137ec2['Primitive'][_0x1b01b6(0x1bd)],{'aria-describedby':_0x27fa0a[_0x1b01b6(0x2c0)]?_0x27fa0a['contentId']:void 0x0,'data-state':_0x27fa0a[_0x1b01b6(0x17a)],..._0x436432,'ref':_0x3452d0,'onPointerMove':(0x0,_0xecc237['composeEventHandlers'])(_0x297599['onPointerMove'],_0x39a13a=>{const _0x1cc5f7=_0x1b01b6;'touch'!==_0x39a13a[_0x1cc5f7(0x1b3)]&&(_0x504352['current']||_0x4e3382['isPointerInTransitRef']['current']||(_0x27fa0a[_0x1cc5f7(0x173)](),_0x504352['current']=!0x0));}),'onPointerLeave':(0x0,_0xecc237['composeEventHandlers'])(_0x297599[_0x1b01b6(0x1ee)],()=>{const _0x41477a=_0x1b01b6;_0x27fa0a[_0x41477a(0x308)](),_0x504352[_0x41477a(0x294)]=!0x1;}),'onPointerDown':(0x0,_0xecc237[_0x1b01b6(0x24d)])(_0x297599[_0x1b01b6(0x18f)],()=>{const _0x135e4d=_0x1b01b6;_0x27fa0a['open']&&_0x27fa0a['onClose'](),_0x523c26[_0x135e4d(0x294)]=!0x0,document['addEventListener']('pointerup',_0x4f0236,{'once':!0x0});}),'onFocus':(0x0,_0xecc237[_0x1b01b6(0x24d)])(_0x297599['onFocus'],()=>{const _0x2a355f=_0x1b01b6;_0x523c26[_0x2a355f(0x294)]||_0x27fa0a['onOpen']();}),'onBlur':(0x0,_0xecc237['composeEventHandlers'])(_0x297599['onBlur'],_0x27fa0a[_0x1b01b6(0x2fb)]),'onClick':(0x0,_0xecc237['composeEventHandlers'])(_0x297599[_0x1b01b6(0x181)],_0x27fa0a['onClose'])})});});_0x2887ae['displayName']=_0x29bb53;var _0x5d585b='TooltipPortal',[_0x555a06,_0x4fde66]=_0x276b69(_0x5d585b,{'forceMount':void 0x0}),_0x35881a=_0x1276a9=>{const _0x7d1a91=_0x435cc3;let {__scopeTooltip:_0x4642be,forceMount:_0x39dde2,children:_0x58ada2,container:_0x8e61d7}=_0x1276a9,_0x2b7f24=_0x142d74(_0x5d585b,_0x4642be);return(0x0,_0x3729a4[_0x7d1a91(0x200)])(_0x555a06,{'scope':_0x4642be,'forceMount':_0x39dde2,'children':(0x0,_0x3729a4[_0x7d1a91(0x200)])(_0x34142c['Presence'],{'present':_0x39dde2||_0x2b7f24['open'],'children':(0x0,_0x3729a4[_0x7d1a91(0x200)])(_0x58bb4b[_0x7d1a91(0x14a)],{'asChild':!0x0,'container':_0x8e61d7,'children':_0x58ada2})})});};_0x35881a['displayName']=_0x5d585b;var _0x18036f='TooltipContent',_0x13d966=_0x3e6434[_0x435cc3(0x17b)]((_0x553349,_0x485e58)=>{const _0xce98f3=_0x435cc3;let _0x26acee=_0x4fde66(_0x18036f,_0x553349[_0xce98f3(0x2da)]),{forceMount:_0x587eb2=_0x26acee[_0xce98f3(0x1e9)],side:_0x1eda95=_0xce98f3(0x2f3),..._0x2117bf}=_0x553349,_0x2c5224=_0x142d74(_0x18036f,_0x553349[_0xce98f3(0x2da)]);return(0x0,_0x3729a4[_0xce98f3(0x200)])(_0x34142c['Presence'],{'present':_0x587eb2||_0x2c5224[_0xce98f3(0x2c0)],'children':_0x2c5224['disableHoverableContent']?(0x0,_0x3729a4['jsx'])(_0x1aff4d,{'side':_0x1eda95,..._0x2117bf,'ref':_0x485e58}):(0x0,_0x3729a4['jsx'])(_0x23606d,{'side':_0x1eda95,..._0x2117bf,'ref':_0x485e58})});}),_0x23606d=_0x3e6434[_0x435cc3(0x17b)]((_0x1554fd,_0x322ec9)=>{const _0x207aaa=_0x435cc3;let _0x47e553=_0x142d74(_0x18036f,_0x1554fd[_0x207aaa(0x2da)]),_0x1a89c0=_0x31e659(_0x18036f,_0x1554fd[_0x207aaa(0x2da)]),_0x34c342=_0x3e6434[_0x207aaa(0x19c)](null),_0x404e3f=(0x0,_0x35f517[_0x207aaa(0x21f)])(_0x322ec9,_0x34c342),[_0x29eded,_0x81697c]=_0x3e6434['useState'](null),{trigger:_0x4891dc,onClose:_0x2d12a6}=_0x47e553,_0x529c32=_0x34c342['current'],{onPointerInTransitChange:_0x41cfcf}=_0x1a89c0,_0xf5e651=_0x3e6434[_0x207aaa(0x321)](()=>{_0x81697c(null),_0x41cfcf(!0x1);},[_0x41cfcf]),_0x24e6e3=_0x3e6434['useCallback']((_0x330126,_0x43c681)=>{const _0x2bc487=_0x207aaa;let _0x22f528,_0x57ebc9=_0x330126['currentTarget'],_0x36a390={'x':_0x330126[_0x2bc487(0x2af)],'y':_0x330126['clientY']},_0x25028e=function(_0x38479f,_0x1501e2){const _0x4f5f8d=_0x2bc487;let _0x3fa531=Math['abs'](_0x1501e2[_0x4f5f8d(0x2f3)]-_0x38479f['y']),_0x4739b3=Math['abs'](_0x1501e2[_0x4f5f8d(0x2ed)]-_0x38479f['y']),_0x5aaac2=Math['abs'](_0x1501e2['right']-_0x38479f['x']),_0x2113d=Math['abs'](_0x1501e2['left']-_0x38479f['x']);switch(Math[_0x4f5f8d(0x30b)](_0x3fa531,_0x4739b3,_0x5aaac2,_0x2113d)){case _0x2113d:return'left';case _0x5aaac2:return _0x4f5f8d(0x1b1);case _0x3fa531:return _0x4f5f8d(0x2f3);case _0x4739b3:return _0x4f5f8d(0x2ed);default:throw Error('unreachable');}}(_0x36a390,_0x57ebc9['getBoundingClientRect']());_0x81697c(((_0x22f528=[...function(_0x4304eb,_0x19a1ab,_0x23c149=0x5){const _0x18083c=_0x2bc487;let _0x547d15=[];switch(_0x19a1ab){case'top':_0x547d15[_0x18083c(0x228)]({'x':_0x4304eb['x']-_0x23c149,'y':_0x4304eb['y']+_0x23c149},{'x':_0x4304eb['x']+_0x23c149,'y':_0x4304eb['y']+_0x23c149});break;case'bottom':_0x547d15['push']({'x':_0x4304eb['x']-_0x23c149,'y':_0x4304eb['y']-_0x23c149},{'x':_0x4304eb['x']+_0x23c149,'y':_0x4304eb['y']-_0x23c149});break;case'left':_0x547d15['push']({'x':_0x4304eb['x']+_0x23c149,'y':_0x4304eb['y']-_0x23c149},{'x':_0x4304eb['x']+_0x23c149,'y':_0x4304eb['y']+_0x23c149});break;case _0x18083c(0x1b1):_0x547d15[_0x18083c(0x228)]({'x':_0x4304eb['x']-_0x23c149,'y':_0x4304eb['y']-_0x23c149},{'x':_0x4304eb['x']-_0x23c149,'y':_0x4304eb['y']+_0x23c149});}return _0x547d15;}(_0x36a390,_0x25028e),...function(_0x433d14){let {top:_0x3be66c,right:_0x13620d,bottom:_0x3ba7b0,left:_0x1251ea}=_0x433d14;return[{'x':_0x1251ea,'y':_0x3be66c},{'x':_0x13620d,'y':_0x3be66c},{'x':_0x13620d,'y':_0x3ba7b0},{'x':_0x1251ea,'y':_0x3ba7b0}];}(_0x43c681[_0x2bc487(0x1a4)]())]['slice']())['sort']((_0x564cb4,_0x181994)=>_0x564cb4['x']<_0x181994['x']?-0x1:_0x564cb4['x']>_0x181994['x']?0x1:_0x564cb4['y']<_0x181994['y']?-0x1:0x1*!!(_0x564cb4['y']>_0x181994['y'])),function(_0x1d5bf9){const _0x538e85=_0x2bc487;if(_0x1d5bf9['length']<=0x1)return _0x1d5bf9[_0x538e85(0x305)]();let _0x33db1e=[];for(let _0x5cb622=0x0;_0x5cb622<_0x1d5bf9['length'];_0x5cb622++){let _0x5498b6=_0x1d5bf9[_0x5cb622];for(;_0x33db1e[_0x538e85(0x19e)]>=0x2;){let _0x8de733=_0x33db1e[_0x33db1e['length']-0x1],_0x5a9a20=_0x33db1e[_0x33db1e[_0x538e85(0x19e)]-0x2];if((_0x8de733['x']-_0x5a9a20['x'])*(_0x5498b6['y']-_0x5a9a20['y'])>=(_0x8de733['y']-_0x5a9a20['y'])*(_0x5498b6['x']-_0x5a9a20['x']))_0x33db1e['pop']();else break;}_0x33db1e[_0x538e85(0x228)](_0x5498b6);}_0x33db1e[_0x538e85(0x299)]();let _0x5d0d35=[];for(let _0x31fb43=_0x1d5bf9[_0x538e85(0x19e)]-0x1;_0x31fb43>=0x0;_0x31fb43--){let _0x5d5e1b=_0x1d5bf9[_0x31fb43];for(;_0x5d0d35['length']>=0x2;){let _0x22d13a=_0x5d0d35[_0x5d0d35[_0x538e85(0x19e)]-0x1],_0x3c30e8=_0x5d0d35[_0x5d0d35['length']-0x2];if((_0x22d13a['x']-_0x3c30e8['x'])*(_0x5d5e1b['y']-_0x3c30e8['y'])>=(_0x22d13a['y']-_0x3c30e8['y'])*(_0x5d5e1b['x']-_0x3c30e8['x']))_0x5d0d35[_0x538e85(0x299)]();else break;}_0x5d0d35['push'](_0x5d5e1b);}return(_0x5d0d35['pop'](),0x1===_0x33db1e[_0x538e85(0x19e)]&&0x1===_0x5d0d35[_0x538e85(0x19e)]&&_0x33db1e[0x0]['x']===_0x5d0d35[0x0]['x']&&_0x33db1e[0x0]['y']===_0x5d0d35[0x0]['y'])?_0x33db1e:_0x33db1e[_0x538e85(0x209)](_0x5d0d35);}(_0x22f528))),_0x41cfcf(!0x0);},[_0x41cfcf]);return _0x3e6434[_0x207aaa(0x225)](()=>()=>_0xf5e651(),[_0xf5e651]),_0x3e6434['useEffect'](()=>{const _0x2d4590=_0x207aaa;if(_0x4891dc&&_0x529c32){let _0x531311=_0x1d30f9=>_0x24e6e3(_0x1d30f9,_0x529c32),_0x294f3a=_0x462857=>_0x24e6e3(_0x462857,_0x4891dc);return _0x4891dc[_0x2d4590(0x259)]('pointerleave',_0x531311),_0x529c32['addEventListener']('pointerleave',_0x294f3a),()=>{const _0x232f21=_0x2d4590;_0x4891dc[_0x232f21(0x2c6)]('pointerleave',_0x531311),_0x529c32['removeEventListener'](_0x232f21(0x27f),_0x294f3a);};}},[_0x4891dc,_0x529c32,_0x24e6e3,_0xf5e651]),_0x3e6434[_0x207aaa(0x225)](()=>{const _0x354657=_0x207aaa;if(_0x29eded){let _0x119dd8=_0x55c322=>{const _0x3d5570=_0x3426;let _0x3eaacf=_0x55c322[_0x3d5570(0x2e5)],_0x27cec9={'x':_0x55c322['clientX'],'y':_0x55c322[_0x3d5570(0x233)]},_0x215bc7=_0x4891dc?.[_0x3d5570(0x281)](_0x3eaacf)||_0x529c32?.[_0x3d5570(0x281)](_0x3eaacf),_0x453c01=!function(_0x1ec321,_0x4938c8){const _0x5cfef6=_0x3d5570;let {x:_0x326082,y:_0xabe79c}=_0x1ec321,_0x326d83=!0x1;for(let _0x12765d=0x0,_0x2e3b3e=_0x4938c8[_0x5cfef6(0x19e)]-0x1;_0x12765d<_0x4938c8[_0x5cfef6(0x19e)];_0x2e3b3e=_0x12765d++){let _0x28f02a=_0x4938c8[_0x12765d],_0x1570cd=_0x4938c8[_0x2e3b3e],_0x3fa456=_0x28f02a['x'],_0x46a392=_0x28f02a['y'],_0x88d314=_0x1570cd['x'],_0x267c67=_0x1570cd['y'];_0x46a392>_0xabe79c!=_0x267c67>_0xabe79c&&_0x326082<(_0x88d314-_0x3fa456)*(_0xabe79c-_0x46a392)/(_0x267c67-_0x46a392)+_0x3fa456&&(_0x326d83=!_0x326d83);}return _0x326d83;}(_0x27cec9,_0x29eded);_0x215bc7?_0xf5e651():_0x453c01&&(_0xf5e651(),_0x2d12a6());};return document['addEventListener']('pointermove',_0x119dd8),()=>document[_0x354657(0x2c6)](_0x354657(0x21b),_0x119dd8);}},[_0x4891dc,_0x529c32,_0x29eded,_0x2d12a6,_0xf5e651]),(0x0,_0x3729a4['jsx'])(_0x1aff4d,{..._0x1554fd,'ref':_0x404e3f});}),[_0xb98008,_0x32eeb0]=_0x276b69(_0x45b572,{'isInside':!0x1}),_0x252bc0=(0x0,_0x466d01['createSlottable'])(_0x435cc3(0x286)),_0x1aff4d=_0x3e6434['forwardRef']((_0x20687b,_0x495563)=>{const _0x52092e=_0x435cc3;let {__scopeTooltip:_0x5dce06,children:_0x2bfbcb,'aria-label':_0x17ba09,onEscapeKeyDown:_0x388c19,onPointerDownOutside:_0x3f3f66,..._0x1aed52}=_0x20687b,_0x3a1123=_0x142d74(_0x18036f,_0x5dce06),_0x3a59e9=_0x33f3b0(_0x5dce06),{onClose:_0x4b3172}=_0x3a1123;return _0x3e6434[_0x52092e(0x225)](()=>(document['addEventListener'](_0x5d45bb,_0x4b3172),()=>document['removeEventListener'](_0x5d45bb,_0x4b3172)),[_0x4b3172]),_0x3e6434['useEffect'](()=>{const _0x361bdb=_0x52092e;if(_0x3a1123['trigger']){let _0x428c1d=_0x463eb8=>{const _0x5e715c=_0x3426;let _0x4069c8=_0x463eb8[_0x5e715c(0x2e5)];_0x4069c8?.[_0x5e715c(0x281)](_0x3a1123[_0x5e715c(0x1d0)])&&_0x4b3172();};return window['addEventListener'](_0x361bdb(0x23e),_0x428c1d,{'capture':!0x0}),()=>window['removeEventListener'](_0x361bdb(0x23e),_0x428c1d,{'capture':!0x0});}},[_0x3a1123['trigger'],_0x4b3172]),(0x0,_0x3729a4[_0x52092e(0x200)])(_0xf631a7['DismissableLayer'],{'asChild':!0x0,'disableOutsidePointerEvents':!0x1,'onEscapeKeyDown':_0x388c19,'onPointerDownOutside':_0x3f3f66,'onFocusOutside':_0x3365d0=>_0x3365d0['preventDefault'](),'onDismiss':_0x4b3172,'children':(0x0,_0x3729a4[_0x52092e(0x31a)])(_0x203278[_0x52092e(0x201)],{'data-state':_0x3a1123['stateAttribute'],..._0x3a59e9,..._0x1aed52,'ref':_0x495563,'style':{..._0x1aed52['style'],'--radix-tooltip-content-transform-origin':_0x52092e(0x2c3),'--radix-tooltip-content-available-width':_0x52092e(0x2bc),'--radix-tooltip-content-available-height':_0x52092e(0x15b),'--radix-tooltip-trigger-width':'var(--radix-popper-anchor-width)','--radix-tooltip-trigger-height':'var(--radix-popper-anchor-height)'},'children':[(0x0,_0x3729a4[_0x52092e(0x200)])(_0x252bc0,{'children':_0x2bfbcb}),(0x0,_0x3729a4[_0x52092e(0x200)])(_0xb98008,{'scope':_0x5dce06,'isInside':!0x0,'children':(0x0,_0x3729a4[_0x52092e(0x200)])(_0x280aa6[_0x52092e(0x273)],{'id':_0x3a1123[_0x52092e(0x1c1)],'role':_0x52092e(0x16b),'children':_0x17ba09||_0x2bfbcb})})]})});});_0x13d966['displayName']=_0x18036f;var _0x336e3a='TooltipArrow',_0x1aee9e=_0x3e6434[_0x435cc3(0x17b)]((_0xeb9758,_0x16ee38)=>{const _0x35e613=_0x435cc3;let {__scopeTooltip:_0x5d8169,..._0x57b656}=_0xeb9758,_0x41968d=_0x33f3b0(_0x5d8169);return _0x32eeb0(_0x336e3a,_0x5d8169)[_0x35e613(0x2ff)]?null:(0x0,_0x3729a4[_0x35e613(0x200)])(_0x203278['Arrow'],{..._0x41968d,..._0x57b656,'ref':_0x16ee38});});function _0x4f19d7(){const _0x1c55d7=_0x435cc3;let {isLocked:_0x29ea01,lockKey:_0xf60e48,unlockKey:_0x39d27f}=(0x0,_0x9dc1e0[_0x1c55d7(0x168)])(),[_0x2910b1,_0x59bd19]=(0x0,_0x3e6434['useState'])(!0x1),[_0x46364c,_0x4c1456]=(0x0,_0x3e6434[_0x1c55d7(0x30f)])(''),[_0x2726b6,_0xde48d6]=(0x0,_0x3e6434['useState'])(null),[_0x310ac1,_0x49a3db]=(0x0,_0x3e6434['useState'])(!0x1),_0x59926c=async _0x12a188=>{const _0x2dfded=_0x1c55d7;_0x12a188[_0x2dfded(0x23d)](),_0xde48d6(null),_0x49a3db(!0x0);try{await _0x39d27f(_0x46364c)?(_0x59bd19(!0x1),_0x4c1456('')):_0xde48d6(_0x2dfded(0x320));}catch(_0x497b92){_0xde48d6(_0x2dfded(0x1f4));}finally{_0x49a3db(!0x1);}};return _0x2910b1?(0x0,_0x3729a4['jsx'])(_0x1c55d7(0x159),{'className':'fixed\x20inset-0\x20z-50\x20bg-black/70\x20backdrop-blur-sm\x20flex\x20items-center\x20justify-center\x20p-4','children':(0x0,_0x3729a4[_0x1c55d7(0x31a)])('div',{'className':'bg-neutral-800\x20border\x20border-neutral-700\x20rounded-xl\x20p-6\x20w-full\x20max-w-md','children':[(0x0,_0x3729a4[_0x1c55d7(0x200)])('h2',{'className':_0x1c55d7(0x270),'children':_0x1c55d7(0x317)}),(0x0,_0x3729a4['jsx'])('p',{'className':_0x1c55d7(0x1f9),'children':_0x1c55d7(0x24e)}),_0x2726b6&&(0x0,_0x3729a4[_0x1c55d7(0x200)])(_0x1c55d7(0x159),{'className':'mb-4\x20p-3\x20bg-red-500/10\x20border\x20border-red-500/20\x20rounded-lg\x20text-red-500\x20text-sm','children':_0x2726b6}),(0x0,_0x3729a4['jsxs'])('form',{'onSubmit':_0x59926c,'className':'space-y-4','children':[(0x0,_0x3729a4[_0x1c55d7(0x31a)])(_0x1c55d7(0x159),{'children':[(0x0,_0x3729a4[_0x1c55d7(0x200)])(_0x1c55d7(0x1b6),{'htmlFor':'passphrase','className':_0x1c55d7(0x248),'children':'Passphrase'}),(0x0,_0x3729a4['jsx'])('input',{'id':'passphrase','type':'password','value':_0x46364c,'onChange':_0xb51af5=>_0x4c1456(_0xb51af5['target']['value']),'required':!0x0,'autoFocus':!0x0,'className':_0x1c55d7(0x185),'placeholder':'Your\x20encryption\x20passphrase'})]}),(0x0,_0x3729a4[_0x1c55d7(0x31a)])('div',{'className':'flex\x20gap-2','children':[(0x0,_0x3729a4[_0x1c55d7(0x200)])('button',{'type':_0x1c55d7(0x1bd),'onClick':()=>{_0x59bd19(!0x1),_0x4c1456(''),_0xde48d6(null);},'className':'flex-1\x20py-2\x20bg-neutral-700\x20hover:bg-neutral-600\x20rounded-lg\x20font-medium\x20transition-colors','children':'Cancel'}),(0x0,_0x3729a4['jsx'])('button',{'type':'submit','disabled':_0x310ac1||!_0x46364c,'className':_0x1c55d7(0x280),'children':_0x310ac1?_0x1c55d7(0x1eb):'Unlock'})]})]})]})}):(0x0,_0x3729a4[_0x1c55d7(0x200)])(_0x4bf65c,{'children':(0x0,_0x3729a4[_0x1c55d7(0x31a)])(_0x302228,{'delayDuration':0x12c,'children':[(0x0,_0x3729a4['jsx'])(_0x2887ae,{'asChild':!0x0,'children':(0x0,_0x3729a4['jsx'])(_0x1c55d7(0x1bd),{'onClick':_0x29ea01?()=>{_0x59bd19(!0x0),_0xde48d6(null),_0x4c1456('');}:()=>{_0xf60e48();},'className':_0x1c55d7(0x2d4)+(_0x29ea01?_0x1c55d7(0x2cc):'text-green-400\x20hover:bg-green-500/10\x20hover:text-green-300'),'aria-label':_0x29ea01?_0x1c55d7(0x227):_0x1c55d7(0x252),'children':_0x29ea01?(0x0,_0x3729a4['jsx'])(_0x1d15c0[_0x1c55d7(0x277)],{'size':0x14}):(0x0,_0x3729a4['jsx'])(_0x3084d1,{'size':0x14})})}),(0x0,_0x3729a4['jsx'])(_0x35881a,{'children':(0x0,_0x3729a4[_0x1c55d7(0x31a)])(_0x13d966,{'side':_0x1c55d7(0x2ed),'align':_0x1c55d7(0x20c),'className':_0x1c55d7(0x16d),'sideOffset':0x5,'children':[_0x29ea01?(0x0,_0x3729a4[_0x1c55d7(0x31a)])(_0x3729a4[_0x1c55d7(0x282)],{'children':[(0x0,_0x3729a4['jsx'])('p',{'className':'font-medium','children':_0x1c55d7(0x2eb)}),(0x0,_0x3729a4['jsx'])('p',{'className':_0x1c55d7(0x187),'children':'Click\x20to\x20unlock\x20and\x20decrypt\x20messages'})]}):(0x0,_0x3729a4['jsxs'])(_0x3729a4[_0x1c55d7(0x282)],{'children':[(0x0,_0x3729a4['jsx'])('p',{'className':'font-medium','children':_0x1c55d7(0x17d)}),(0x0,_0x3729a4[_0x1c55d7(0x200)])('p',{'className':'text-neutral-400\x20text-xs','children':_0x1c55d7(0x2f0)})]}),(0x0,_0x3729a4['jsx'])(_0x1aee9e,{'className':_0x1c55d7(0x2fa)})]})})]})});}_0x1aee9e['displayName']=_0x336e3a;var _0x29a409=_0xe6f77b['i'](0x11809);let _0x57cb0a=(0x0,_0x26b82f[_0x435cc3(0x1ba)])(_0x435cc3(0x283),[[_0x435cc3(0x1dc),{'d':'M13.832\x2016.568a1\x201\x200\x200\x200\x201.213-.303l.355-.465A2\x202\x200\x200\x201\x2017\x2015h3a2\x202\x200\x200\x201\x202\x202v3a2\x202\x200\x200\x201-2\x202A18\x2018\x200\x200\x201\x202\x204a2\x202\x200\x200\x201\x202-2h3a2\x202\x200\x200\x201\x202\x202v3a2\x202\x200\x200\x201-.8\x201.6l-.468.351a1\x201\x200\x200\x200-.292\x201.233\x2014\x2014\x200\x200\x200\x206.392\x206.384','key':'9njp5v'}]]);var _0x3c2d40=_0xe6f77b['i'](0x1337c),_0x465992=_0xe6f77b['i'](0x5c21),_0x5b8a95=_0xe6f77b['i'](0x18267);function _0x185d52({chat:_0x5d7209,onBack:_0x2d814a}){const _0x3e1184=_0x435cc3;let {user:_0x501a9d,privateKey:_0x406c2f,isKeyUnlocked:_0x5593a6}=(0x0,_0x9dc1e0[_0x3e1184(0x168)])(),[_0x39c128,_0x6c9ba4]=(0x0,_0x3e6434[_0x3e1184(0x30f)])([]),[_0x54745f,_0x2d38cd]=(0x0,_0x3e6434[_0x3e1184(0x30f)])(!0x0),[_0xf69778,_0x1c562c]=(0x0,_0x3e6434['useState'])(!0x1),[_0x5df73b,_0x348e7b]=(0x0,_0x3e6434[_0x3e1184(0x30f)])(null),[_0x270efd,_0x1460c2]=(0x0,_0x3e6434['useState'])(null),[_0x195eec,_0x11bdcb]=(0x0,_0x3e6434['useState'])(null),_0x22ecbc=(0x0,_0x3e6434[_0x3e1184(0x19c)])(null),_0x13faac=(0x0,_0x3e6434['useRef'])(null),_0x1b36c3=(0x0,_0x3e6434[_0x3e1184(0x321)])(()=>{const _0x5b1803=_0x3e1184;_0x22ecbc[_0x5b1803(0x294)]?.[_0x5b1803(0x1b8)]({'behavior':_0x5b1803(0x296)});},[]);(0x0,_0x3e6434[_0x3e1184(0x225)])(()=>{_0x1b36c3();},[_0x39c128,_0x1b36c3]),(0x0,_0x3e6434[_0x3e1184(0x225)])(()=>{_0x501a9d&&_0x5593a6&&('dm'===_0x5d7209['type']?_0x36ed38():_0x4542c6(),_0x2e32e8());},[_0x501a9d,_0x5d7209,_0x5593a6]);let _0x2e32e8=async()=>{const _0x468815=_0x3e1184;try{let _0x551420=await _0x5df283['supabase']['auth'][_0x468815(0x1f1)](),_0x40d82=_0x551420['data'][_0x468815(0x213)]?.[_0x468815(0x2d1)],_0x50141f=await fetch(_0x468815(0x323),{'method':_0x468815(0x2ef),'headers':{'Content-Type':_0x468815(0x203),'Authorization':'Bearer\x20'+_0x40d82}}),_0x48dde3=await _0x50141f[_0x468815(0x155)]();_0x48dde3['success']&&_0x11bdcb(_0x48dde3['remaining']);}catch(_0x4f51a2){console['error']('Failed\x20to\x20fetch\x20message\x20count:',_0x4f51a2);}},_0x36ed38=async()=>{const _0x4073e9=_0x3e1184;_0x2d38cd(!0x0);try{let _0x4d5b07=await _0x5df283['supabase'][_0x4073e9(0x184)]['getSession'](),_0x174b08=_0x4d5b07['data'][_0x4073e9(0x213)]?.['access_token'],_0x106c38=await fetch('http://localhost:8100/functions/v1/get-dms',{'method':_0x4073e9(0x2ef),'headers':{'Content-Type':_0x4073e9(0x203),'Authorization':_0x4073e9(0x18a)+_0x174b08},'body':JSON['stringify']({'userId':_0x5d7209['id']})}),_0x26c7ae=await _0x106c38['json']();if(_0x26c7ae['success']){_0x1460c2(_0x26c7ae['otherUser'][_0x4073e9(0x2ae)]);let _0x3a1d2f=await _0x349f12(_0x26c7ae[_0x4073e9(0x269)],_0x26c7ae['otherUser'][_0x4073e9(0x2ae)]);_0x6c9ba4(_0x3a1d2f);}}catch(_0x1ad446){console[_0x4073e9(0x2a3)](_0x4073e9(0x1ed),_0x1ad446);}finally{_0x2d38cd(!0x1);}},_0x4542c6=async()=>{const _0xc08a77=_0x3e1184;_0x2d38cd(!0x0);try{let _0x22dddb=await _0x5df283[_0xc08a77(0x1aa)][_0xc08a77(0x184)][_0xc08a77(0x1f1)](),_0x5abdb1=_0x22dddb[_0xc08a77(0x1fc)]['session']?.[_0xc08a77(0x2d1)],_0xe89762=await fetch(_0xc08a77(0x265),{'method':_0xc08a77(0x2ef),'headers':{'Content-Type':_0xc08a77(0x203),'Authorization':'Bearer\x20'+_0x5abdb1},'body':JSON[_0xc08a77(0x2fc)]({'roomId':_0x5d7209['id']})}),_0x5cad50=await _0xe89762['json']();if(_0x5cad50[_0xc08a77(0x220)]){let _0x3f0e45=_0x5cad50['messages'][_0xc08a77(0x226)](_0x125718=>({..._0x125718,'content':_0x125718['isSystem']?'joined\x20the\x20room':_0xc08a77(0x28b)}));_0x6c9ba4(_0x3f0e45);}}catch(_0x121765){console[_0xc08a77(0x2a3)]('Failed\x20to\x20fetch\x20room\x20messages:',_0x121765);}finally{_0x2d38cd(!0x1);}},_0x349f12=async(_0x89e401,_0x506094)=>{const _0x301820=_0x3e1184;if(!_0x406c2f||!_0x506094)return _0x89e401['map'](_0x3527a5=>({..._0x3527a5,'content':_0x301820(0x158)}));try{let _0x1358ec=await(0x0,_0x4ff945['importPublicKey'])(_0x506094),_0x14a665=await(0x0,_0x4ff945['deriveSharedSecret'])(_0x406c2f,_0x1358ec);return await Promise['all'](_0x89e401['map'](async _0x4d4378=>{const _0x472452=_0x301820;if(_0x4d4378[_0x472452(0x1d3)])return{..._0x4d4378,'content':_0x472452(0x258)};try{let _0x500093=await(0x0,_0x4ff945[_0x472452(0x15f)])({'ciphertext':_0x4d4378['encryptedContent'],'nonce':_0x4d4378['nonce']},_0x14a665);return{..._0x4d4378,'content':_0x500093};}catch{return{..._0x4d4378,'content':'[Failed\x20to\x20decrypt]'};}}));}catch{return _0x89e401['map'](_0x2c08c4=>({..._0x2c08c4,'content':'[Decryption\x20error]'}));}},_0x18823f=async _0x47a540=>{const _0x2aaf94=_0x3e1184;if(_0x501a9d&&_0x406c2f){_0x1c562c(!0x0);try{let _0x45e74c=await _0x5df283['supabase'][_0x2aaf94(0x184)][_0x2aaf94(0x1f1)](),_0x16dbdf=_0x45e74c[_0x2aaf94(0x1fc)]['session']?.[_0x2aaf94(0x2d1)];if('dm'===_0x5d7209[_0x2aaf94(0x311)]){if(!_0x270efd)return void console[_0x2aaf94(0x2a3)](_0x2aaf94(0x2ab));let {encryptSymmetric:_0x6eeb88,deriveSharedSecret:_0x4a8bcb,importPublicKey:_0x4c300a}=await _0xe6f77b['A'](0x183d9),_0x1be472=await _0x4c300a(_0x270efd),_0xf334=await _0x4a8bcb(_0x406c2f,_0x1be472),{ciphertext:_0x3888c9,nonce:_0x2330b9}=await _0x6eeb88(_0x47a540,_0xf334),{ciphertext:_0xe4bd2a}=await _0x6eeb88(_0x47a540,_0xf334),_0x1e47fd=await fetch('http://localhost:8100/functions/v1/send-dm',{'method':_0x2aaf94(0x2ef),'headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x16dbdf},'body':JSON['stringify']({'recipientId':_0x5d7209['id'],'encryptedContentSender':_0x3888c9,'encryptedContentRecipient':_0xe4bd2a,'nonce':_0x2330b9,'replyTo':_0x5df73b?.['id']})}),_0x4099b4=await _0x1e47fd[_0x2aaf94(0x155)]();if(_0x4099b4['success']){let _0xbfa7f2={'id':_0x4099b4['message']['id'],'senderId':_0x501a9d['id'],'senderName':_0x501a9d[_0x2aaf94(0x256)]||'You','content':_0x47a540,'isMine':!0x0,'createdAt':_0x4099b4[_0x2aaf94(0x27d)][_0x2aaf94(0x14d)],'replyTo':_0x5df73b?.['id'],'replyToContent':_0x5df73b?.['content']};_0x6c9ba4(_0x316e2b=>[..._0x316e2b,_0xbfa7f2]),_0x348e7b(null),null!==_0x195eec&&_0x11bdcb(Math['max'](0x0,_0x195eec-0x1));}else console[_0x2aaf94(0x2a3)](_0x2aaf94(0x22b),_0x4099b4[_0x2aaf94(0x2a3)]);}else{let _0x2ba7b2=await fetch(_0x2aaf94(0x262),{'method':_0x2aaf94(0x2ef),'headers':{'Content-Type':_0x2aaf94(0x203),'Authorization':_0x2aaf94(0x18a)+_0x16dbdf},'body':JSON[_0x2aaf94(0x2fc)]({'roomId':_0x5d7209['id'],'encryptedContent':_0x47a540,'nonce':'placeholder','replyTo':_0x5df73b?.['id']})}),_0x13d4a5=await _0x2ba7b2['json']();if(_0x13d4a5[_0x2aaf94(0x220)]){let _0x13a330={'id':_0x13d4a5[_0x2aaf94(0x27d)]['id'],'senderId':_0x501a9d['id'],'senderName':_0x501a9d['display_name']||_0x2aaf94(0x2d7),'content':_0x47a540,'isMine':!0x0,'createdAt':_0x13d4a5['message']['createdAt']};_0x6c9ba4(_0x2c6e4f=>[..._0x2c6e4f,_0x13a330]),_0x348e7b(null),null!==_0x195eec&&_0x11bdcb(Math['max'](0x0,_0x195eec-0x1));}}}catch(_0x519fcb){console[_0x2aaf94(0x2a3)](_0x2aaf94(0x289),_0x519fcb);}finally{_0x1c562c(!0x1);}}};return(0x0,_0x3729a4['jsxs'])(_0x3e1184(0x159),{'className':_0x3e1184(0x29f),'children':[(0x0,_0x3729a4['jsxs'])(_0x3e1184(0x159),{'className':_0x3e1184(0x266),'children':[(0x0,_0x3729a4[_0x3e1184(0x31a)])('div',{'className':_0x3e1184(0x1c0),'children':[(0x0,_0x3729a4[_0x3e1184(0x200)])('button',{'onClick':_0x2d814a,'className':_0x3e1184(0x2aa),'children':(0x0,_0x3729a4['jsx'])(_0x29a409[_0x3e1184(0x2a0)],{'size':0x18})}),(0x0,_0x3729a4[_0x3e1184(0x200)])('div',{'className':'w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-blue-500\x20to-blue-600\x20flex\x20items-center\x20justify-center\x20text-lg\x20font-semibold','children':_0x5d7209[_0x3e1184(0x1b7)]?(0x0,_0x3729a4[_0x3e1184(0x200)])(_0x3e1184(0x20d),{'src':_0x5d7209[_0x3e1184(0x1b7)],'alt':'','className':'w-full\x20h-full\x20rounded-full\x20object-cover'}):_0x3e1184(0x17c)===_0x5d7209['type']?(0x0,_0x3729a4['jsx'])(_0x3386d3[_0x3e1184(0x276)],{'size':0x14,'className':_0x3e1184(0x1d7)}):_0x5d7209['name'][_0x3e1184(0x30c)](0x0)['toUpperCase']()}),(0x0,_0x3729a4['jsxs'])(_0x3e1184(0x159),{'children':[(0x0,_0x3729a4['jsx'])('h2',{'className':_0x3e1184(0x2d9),'children':_0x5d7209['name']}),(0x0,_0x3729a4['jsx'])('p',{'className':'text-xs\x20text-neutral-400','children':'room'===_0x5d7209['type']?(0x0,_0x3729a4['jsx'])(_0x3e1184(0x1af),{'className':_0x3e1184(0x275),'children':_0x5d7209[_0x3e1184(0x31b)]?'Public\x20room':'Private\x20room'}):_0x3e1184(0x1f7)})]})]}),(0x0,_0x3729a4['jsxs'])('div',{'className':_0x3e1184(0x275),'children':[(0x0,_0x3729a4[_0x3e1184(0x200)])(_0x4f19d7,{}),(0x0,_0x3729a4[_0x3e1184(0x200)])('button',{'className':'p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','children':(0x0,_0x3729a4[_0x3e1184(0x200)])(_0x3c2d40['Video'],{'size':0x16})}),(0x0,_0x3729a4[_0x3e1184(0x200)])('button',{'className':_0x3e1184(0x189),'children':(0x0,_0x3729a4['jsx'])(_0x57cb0a,{'size':0x16})}),(0x0,_0x3729a4[_0x3e1184(0x200)])(_0x3e1184(0x1bd),{'className':_0x3e1184(0x189),'children':(0x0,_0x3729a4[_0x3e1184(0x200)])(_0x465992[_0x3e1184(0x318)],{'size':0x16})})]})]}),(0x0,_0x3729a4[_0x3e1184(0x200)])('div',{'ref':_0x13faac,'className':'flex-1\x20overflow-y-auto\x20p-4\x20bg-[url(\x27/images/chat-bg.png\x27)]\x20bg-repeat','style':{'backgroundImage':'linear-gradient(rgba(23,\x2023,\x2023,\x200.95),\x20rgba(23,\x2023,\x2023,\x200.95))'},'children':_0x5593a6?_0x54745f?(0x0,_0x3729a4['jsx'])('div',{'className':'flex\x20items-center\x20justify-center\x20h-full','children':(0x0,_0x3729a4['jsx'])(_0x3e1184(0x159),{'className':'animate-spin\x20rounded-full\x20h-8\x20w-8\x20border-b-2\x20border-green-500'})}):0x0===_0x39c128['length']?(0x0,_0x3729a4['jsxs'])('div',{'className':'flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x20text-neutral-400','children':[(0x0,_0x3729a4['jsx'])(_0x5b8a95[_0x3e1184(0x170)],{'size':0x30,'className':'mb-4\x20text-green-500'}),(0x0,_0x3729a4[_0x3e1184(0x200)])('p',{'className':'text-center\x20font-medium','children':_0x3e1184(0x1d2)}),(0x0,_0x3729a4['jsxs'])('p',{'className':_0x3e1184(0x303),'children':[_0x3e1184(0x2c8),(0x0,_0x3729a4['jsx'])('br',{}),_0x3e1184(0x1df),_0x5d7209[_0x3e1184(0x21c)],_0x3e1184(0x2db)]})]}):(0x0,_0x3729a4[_0x3e1184(0x31a)])(_0x3729a4[_0x3e1184(0x282)],{'children':[(0x0,_0x3729a4['jsx'])('div',{'className':_0x3e1184(0x25f),'children':(0x0,_0x3729a4['jsxs'])(_0x3e1184(0x159),{'className':_0x3e1184(0x172),'children':[(0x0,_0x3729a4['jsx'])(_0x1d15c0[_0x3e1184(0x277)],{'size':0xc}),'Messages\x20are\x20end-to-end\x20encrypted']})}),_0x39c128[_0x3e1184(0x226)]((_0x4d2f6e,_0x2570ee)=>{const _0x2e871e=_0x3e1184;let _0xfbe852=_0x2e871e(0x17c)===_0x5d7209[_0x2e871e(0x311)]&&!_0x4d2f6e[_0x2e871e(0x235)]&&(0x0===_0x2570ee||_0x39c128[_0x2570ee-0x1]['senderId']!==_0x4d2f6e['senderId']);return(0x0,_0x3729a4[_0x2e871e(0x200)])(_0x65eed,{'message':_0x4d2f6e,'showSender':_0xfbe852,'onReply':_0x348e7b},_0x4d2f6e['id']);}),(0x0,_0x3729a4['jsx'])('div',{'ref':_0x22ecbc})]}):(0x0,_0x3729a4['jsxs'])(_0x3e1184(0x159),{'className':'flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x20text-neutral-400','children':[(0x0,_0x3729a4['jsx'])(_0x1d15c0['Lock'],{'size':0x30,'className':_0x3e1184(0x212)}),(0x0,_0x3729a4[_0x3e1184(0x200)])('p',{'className':'text-center','children':_0x3e1184(0x26e)})]})}),_0x5593a6&&(0x0,_0x3729a4['jsx'])(_0x2608af,{'onSend':_0x18823f,'replyTo':_0x5df73b,'onCancelReply':()=>_0x348e7b(null),'disabled':_0xf69778,'remainingMessages':_0x195eec})]});}var _0x4043c6=_0xe6f77b['i'](0xd88c);let _0x39899d=(0x0,_0x26b82f[_0x435cc3(0x1ba)])('plus',[[_0x435cc3(0x1dc),{'d':_0x435cc3(0x2e6),'key':_0x435cc3(0x253)}],['path',{'d':_0x435cc3(0x2f7),'key':_0x435cc3(0x163)}]]);var _0x2da6ed=_0xe6f77b['i'](0x11b48);function _0x25503e({open:_0x310d9d,onOpenChange:_0x3b2116,view:_0x1f18c1,onChatCreated:_0x385e89}){const _0x177f77=_0x435cc3;let {user:_0x250363}=(0x0,_0x9dc1e0['useAuth'])(),[_0x3884a1,_0x4ce88e]=(0x0,_0x3e6434[_0x177f77(0x30f)])('search'),[_0x2dbbf2,_0x59ef4b]=(0x0,_0x3e6434[_0x177f77(0x30f)])(''),[_0xe5f476,_0x1620be]=(0x0,_0x3e6434[_0x177f77(0x30f)])([]),[_0x4560bc,_0x211030]=(0x0,_0x3e6434[_0x177f77(0x30f)])([]),[_0x30d9df,_0x406042]=(0x0,_0x3e6434['useState'])(!0x1),[_0x3c3fe5,_0x2c818b]=(0x0,_0x3e6434['useState'])(!0x1),[_0x4a6c42,_0x259a12]=(0x0,_0x3e6434[_0x177f77(0x30f)])(''),[_0x49e505,_0x4da6d2]=(0x0,_0x3e6434[_0x177f77(0x30f)])(''),[_0x9371ac,_0x6596d9]=(0x0,_0x3e6434[_0x177f77(0x30f)])(!0x0),[_0x4f2a94,_0xbf702b]=(0x0,_0x3e6434[_0x177f77(0x30f)])(''),[_0x2f2f24,_0x555159]=(0x0,_0x3e6434['useState'])(0x64),[_0x486cdf,_0x49dd45]=(0x0,_0x3e6434[_0x177f77(0x30f)])(''),[_0x4cd72b,_0x207697]=(0x0,_0x3e6434['useState'])('');(0x0,_0x3e6434[_0x177f77(0x225)])(()=>{const _0x25dddb=_0x177f77;_0x310d9d||(_0x59ef4b(''),_0x1620be([]),_0x211030([]),_0x4ce88e(_0x25dddb(0x307)),_0xc71a37());},[_0x310d9d]),(0x0,_0x3e6434[_0x177f77(0x225)])(()=>{const _0x2a319e=_0x177f77;_0x2dbbf2[_0x2a319e(0x19e)]>=0x2?'dms'===_0x1f18c1?_0x285820():_0x1fecdb():(_0x1620be([]),_0x211030([]));},[_0x2dbbf2,_0x1f18c1]);let _0xc71a37=()=>{_0x259a12(''),_0x4da6d2(''),_0x6596d9(!0x0),_0xbf702b(''),_0x555159(0x64),_0x49dd45(''),_0x207697('');},_0x285820=async()=>{const _0x29bc94=_0x177f77;_0x406042(!0x0);try{let {data:_0x1d3bd2,error:_0xcb7ba8}=await _0x5df283[_0x29bc94(0x1aa)][_0x29bc94(0x28d)]('user_profiles')[_0x29bc94(0x31e)](_0x29bc94(0x2ac))['ilike']('display_name','%'+_0x2dbbf2+'%')['neq']('id',_0x250363?.['id'])['limit'](0x14);!_0xcb7ba8&&_0x1d3bd2&&_0x1620be(_0x1d3bd2[_0x29bc94(0x226)](_0x588919=>({'id':_0x588919['id'],'displayName':_0x588919['display_name'],'avatarUrl':_0x588919['avatar_url'],'lastSeen':_0x588919[_0x29bc94(0x21e)]})));}catch(_0x5b3ab5){console[_0x29bc94(0x2a3)](_0x29bc94(0x1de),_0x5b3ab5);}finally{_0x406042(!0x1);}},_0x1fecdb=async()=>{const _0x467319=_0x177f77;_0x406042(!0x0);try{let _0x17fe2c=await _0x5df283['supabase'][_0x467319(0x184)]['getSession'](),_0x56029c=_0x17fe2c[_0x467319(0x1fc)][_0x467319(0x213)]?.[_0x467319(0x2d1)],_0x1968be=await fetch('http://localhost:8100/functions/v1/list-rooms',{'method':'POST','headers':{'Content-Type':_0x467319(0x203),'Authorization':'Bearer\x20'+_0x56029c},'body':JSON[_0x467319(0x2fc)]({'type':_0x467319(0x161),'search':_0x2dbbf2})}),_0x5eb8f5=await _0x1968be['json']();_0x5eb8f5['success']&&_0x211030(_0x5eb8f5[_0x467319(0x1ad)]||[]);}catch(_0x17c639){console[_0x467319(0x2a3)]('Search\x20rooms\x20error:',_0x17c639);}finally{_0x406042(!0x1);}},_0x46ea1c=async _0x380b8c=>{const _0x2affd2=_0x177f77;try{let _0x401272=await _0x5df283['supabase'][_0x2affd2(0x184)]['getSession'](),_0x1a91f7=_0x401272['data']['session']?.['access_token'],_0x2c116=await fetch('http://localhost:8100/functions/v1/join-room',{'method':_0x2affd2(0x2ef),'headers':{'Content-Type':'application/json','Authorization':_0x2affd2(0x18a)+_0x1a91f7},'body':JSON['stringify']({'roomId':_0x380b8c['id']})}),_0x44a43d=await _0x2c116['json']();_0x44a43d['success']?(_0x385e89({'type':_0x2affd2(0x17c),'id':_0x380b8c['id'],'name':_0x380b8c['name'],'isPublic':_0x380b8c['isPublic']}),_0x3b2116(!0x1)):alert(_0x44a43d['error']||'Failed\x20to\x20join\x20room');}catch(_0x2e90d9){console[_0x2affd2(0x2a3)](_0x2affd2(0x218),_0x2e90d9);}},_0x28c06c=async()=>{const _0x20f515=_0x177f77;if(_0x4a6c42['trim']()){_0x2c818b(!0x0);try{let _0x35c5af=await _0x5df283[_0x20f515(0x1aa)]['auth']['getSession'](),_0x14d816=_0x35c5af[_0x20f515(0x1fc)]['session']?.['access_token'],_0x14a747=await fetch('http://localhost:8100/functions/v1/create-room',{'method':_0x20f515(0x2ef),'headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+_0x14d816},'body':JSON['stringify']({'name':_0x4a6c42['trim'](),'description':_0x49e505['trim']()||null,'isPublic':_0x9371ac,'password':_0x9371ac?null:_0x4f2a94,'maxMembers':_0x2f2f24})}),_0x5f33c3=await _0x14a747['json']();_0x5f33c3[_0x20f515(0x220)]?(_0x385e89({'type':_0x20f515(0x17c),'id':_0x5f33c3['room']['id'],'name':_0x5f33c3['room']['name'],'isPublic':_0x5f33c3[_0x20f515(0x17c)][_0x20f515(0x31b)]}),_0x3b2116(!0x1)):alert(_0x5f33c3['error']||'Failed\x20to\x20create\x20room');}catch(_0x1f7846){console[_0x20f515(0x2a3)](_0x20f515(0x2d6),_0x1f7846);}finally{_0x2c818b(!0x1);}}},_0x204a63=async()=>{const _0x47fd0d=_0x177f77;if(_0x486cdf[_0x47fd0d(0x24f)]()){_0x2c818b(!0x0);try{let _0x3a049c=await _0x5df283[_0x47fd0d(0x1aa)]['auth'][_0x47fd0d(0x1f1)](),_0x3f609c=_0x3a049c[_0x47fd0d(0x1fc)][_0x47fd0d(0x213)]?.[_0x47fd0d(0x2d1)],_0x94ec2f=await fetch('http://localhost:8100/functions/v1/join-room',{'method':_0x47fd0d(0x2ef),'headers':{'Content-Type':_0x47fd0d(0x203),'Authorization':_0x47fd0d(0x18a)+_0x3f609c},'body':JSON['stringify']({'roomId':_0x486cdf['trim'](),'password':_0x4cd72b})}),_0x272ae4=await _0x94ec2f['json']();_0x272ae4['success']?(_0x385e89({'type':'room','id':_0x272ae4['room']['id'],'name':_0x272ae4[_0x47fd0d(0x17c)][_0x47fd0d(0x21c)],'isPublic':!0x1}),_0x3b2116(!0x1)):alert(_0x272ae4[_0x47fd0d(0x2a3)]||_0x47fd0d(0x1e7));}catch(_0x2d39aa){console['error']('Join\x20private\x20room\x20error:',_0x2d39aa);}finally{_0x2c818b(!0x1);}}};return _0x310d9d?(0x0,_0x3729a4[_0x177f77(0x200)])('div',{'className':_0x177f77(0x1fd),'children':(0x0,_0x3729a4[_0x177f77(0x31a)])('div',{'className':_0x177f77(0x21d),'children':[(0x0,_0x3729a4['jsxs'])(_0x177f77(0x159),{'className':_0x177f77(0x26d),'children':[(0x0,_0x3729a4[_0x177f77(0x200)])('h2',{'className':_0x177f77(0x18e),'children':_0x177f77(0x242)===_0x1f18c1?'New\x20Chat':'Rooms'}),(0x0,_0x3729a4['jsx'])(_0x177f77(0x1bd),{'onClick':()=>_0x3b2116(!0x1),'className':_0x177f77(0x189),'children':(0x0,_0x3729a4['jsx'])(_0x32c49f['X'],{'size':0x14})})]}),_0x177f77(0x1ad)===_0x1f18c1&&(0x0,_0x3729a4['jsxs'])('div',{'className':_0x177f77(0x1ef),'children':[(0x0,_0x3729a4[_0x177f77(0x200)])('button',{'onClick':()=>_0x4ce88e(_0x177f77(0x307)),'className':_0x177f77(0x22e)+('search'===_0x3884a1?'text-green-500\x20border-b-2\x20border-green-500':_0x177f77(0x237)),'children':'Browse'}),(0x0,_0x3729a4[_0x177f77(0x200)])('button',{'onClick':()=>_0x4ce88e(_0x177f77(0x272)),'className':'flex-1\x20py-3\x20text-sm\x20font-medium\x20'+(_0x177f77(0x272)===_0x3884a1?_0x177f77(0x17f):'text-neutral-400'),'children':_0x177f77(0x1a3)})]}),_0x177f77(0x307)===_0x3884a1&&(0x0,_0x3729a4['jsxs'])('div',{'className':'p-4','children':[(0x0,_0x3729a4[_0x177f77(0x31a)])('div',{'className':'relative\x20mb-4','children':[(0x0,_0x3729a4['jsx'])(_0x4043c6[_0x177f77(0x192)],{'size':0x12,'className':'absolute\x20left-3\x20top-1/2\x20-translate-y-1/2\x20text-neutral-500'}),(0x0,_0x3729a4[_0x177f77(0x200)])('input',{'type':'text','value':_0x2dbbf2,'onChange':_0x175ac4=>_0x59ef4b(_0x175ac4['target']['value']),'placeholder':_0x177f77(0x242)===_0x1f18c1?_0x177f77(0x247):'Search\x20public\x20rooms...','className':'w-full\x20pl-10\x20pr-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'})]}),(0x0,_0x3729a4['jsx'])(_0x177f77(0x159),{'className':_0x177f77(0x1e5),'children':_0x30d9df?(0x0,_0x3729a4['jsx'])(_0x177f77(0x159),{'className':'flex\x20justify-center\x20py-8','children':(0x0,_0x3729a4[_0x177f77(0x200)])('div',{'className':_0x177f77(0x164)})}):_0x177f77(0x242)===_0x1f18c1?0x0===_0xe5f476[_0x177f77(0x19e)]?(0x0,_0x3729a4['jsx'])('p',{'className':_0x177f77(0x293),'children':_0x2dbbf2['length']>=0x2?'No\x20users\x20found':_0x177f77(0x1cd)}):_0xe5f476[_0x177f77(0x226)](_0x2715ec=>(0x0,_0x3729a4[_0x177f77(0x31a)])('button',{'onClick':()=>{const _0x3c8cad=_0x177f77;_0x385e89({'type':'dm','id':_0x2715ec['id'],'name':_0x2715ec[_0x3c8cad(0x1a0)],'avatar':_0x2715ec[_0x3c8cad(0x151)]||void 0x0}),_0x3b2116(!0x1);},'className':'w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20rounded-lg','children':[(0x0,_0x3729a4[_0x177f77(0x200)])('div',{'className':'w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-blue-500\x20to-blue-600\x20flex\x20items-center\x20justify-center\x20font-semibold','children':_0x2715ec[_0x177f77(0x151)]?(0x0,_0x3729a4[_0x177f77(0x200)])(_0x177f77(0x20d),{'src':_0x2715ec['avatarUrl'],'alt':'','className':_0x177f77(0x2ee)}):_0x2715ec['displayName'][_0x177f77(0x30c)](0x0)[_0x177f77(0x22d)]()}),(0x0,_0x3729a4['jsxs'])('div',{'className':'text-left','children':[(0x0,_0x3729a4['jsx'])('p',{'className':'font-medium','children':_0x2715ec['displayName']}),(0x0,_0x3729a4['jsx'])('p',{'className':_0x177f77(0x154),'children':_0x2715ec['lastSeen']?'Last\x20seen\x20'+new Date(_0x2715ec['lastSeen'])[_0x177f77(0x193)]():_0x177f77(0x1c5)})]}),(0x0,_0x3729a4[_0x177f77(0x200)])(_0x2da6ed['ArrowRight'],{'size':0x12,'className':_0x177f77(0x30a)})]},_0x2715ec['id'])):0x0===_0x4560bc[_0x177f77(0x19e)]?(0x0,_0x3729a4['jsx'])('p',{'className':'text-center\x20text-neutral-500\x20py-8','children':_0x2dbbf2[_0x177f77(0x19e)]>=0x2?'No\x20rooms\x20found':_0x177f77(0x1f0)}):_0x4560bc[_0x177f77(0x226)](_0x1f044e=>(0x0,_0x3729a4[_0x177f77(0x31a)])('button',{'onClick':()=>_0x46ea1c(_0x1f044e),'className':'w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20rounded-lg','children':[(0x0,_0x3729a4[_0x177f77(0x200)])('div',{'className':'w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-purple-500\x20to-purple-600\x20flex\x20items-center\x20justify-center','children':(0x0,_0x3729a4['jsx'])(_0x185c01[_0x177f77(0x298)],{'size':0x14,'className':_0x177f77(0x1d7)})}),(0x0,_0x3729a4[_0x177f77(0x31a)])('div',{'className':'text-left\x20flex-1\x20min-w-0','children':[(0x0,_0x3729a4['jsx'])('p',{'className':_0x177f77(0x1c4),'children':_0x1f044e['name']}),(0x0,_0x3729a4[_0x177f77(0x31a)])('p',{'className':'text-xs\x20text-neutral-400\x20flex\x20items-center\x20gap-1','children':[(0x0,_0x3729a4['jsx'])(_0x3386d3['Users'],{'size':0xc}),_0x1f044e['memberCount'],'/',_0x1f044e['maxMembers'],'\x20members']})]}),(0x0,_0x3729a4[_0x177f77(0x200)])(_0x2da6ed['ArrowRight'],{'size':0x12,'className':'text-neutral-500'})]},_0x1f044e['id']))})]}),_0x177f77(0x272)===_0x3884a1&&_0x177f77(0x1ad)===_0x1f18c1&&(0x0,_0x3729a4[_0x177f77(0x31a)])('div',{'className':_0x177f77(0x287),'children':[(0x0,_0x3729a4[_0x177f77(0x31a)])('div',{'className':_0x177f77(0x268),'children':[(0x0,_0x3729a4[_0x177f77(0x200)])('h3',{'className':'text-sm\x20font-medium\x20text-neutral-300','children':_0x177f77(0x157)}),(0x0,_0x3729a4[_0x177f77(0x200)])('input',{'type':'text','value':_0x4a6c42,'onChange':_0x4b2315=>_0x259a12(_0x4b2315[_0x177f77(0x2e5)][_0x177f77(0x1a9)]),'placeholder':_0x177f77(0x1da),'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x3729a4[_0x177f77(0x200)])(_0x177f77(0x267),{'value':_0x49e505,'onChange':_0x500c0e=>_0x4da6d2(_0x500c0e['target'][_0x177f77(0x1a9)]),'placeholder':_0x177f77(0x171),'rows':0x2,'className':_0x177f77(0x304)}),(0x0,_0x3729a4[_0x177f77(0x31a)])('div',{'className':'flex\x20items-center\x20gap-4','children':[(0x0,_0x3729a4[_0x177f77(0x31a)])(_0x177f77(0x1b6),{'className':_0x177f77(0x29e),'children':[(0x0,_0x3729a4[_0x177f77(0x200)])(_0x177f77(0x224),{'type':'radio','checked':_0x9371ac,'onChange':()=>_0x6596d9(!0x0),'className':'text-green-500\x20focus:ring-green-500'}),(0x0,_0x3729a4['jsx'])(_0x185c01['Globe'],{'size':0x10}),(0x0,_0x3729a4['jsx'])('span',{'className':'text-sm','children':'Public'})]}),(0x0,_0x3729a4['jsxs'])(_0x177f77(0x1b6),{'className':'flex\x20items-center\x20gap-2\x20cursor-pointer','children':[(0x0,_0x3729a4[_0x177f77(0x200)])('input',{'type':_0x177f77(0x2a8),'checked':!_0x9371ac,'onChange':()=>_0x6596d9(!0x1),'className':_0x177f77(0x28a)}),(0x0,_0x3729a4['jsx'])(_0x1d15c0[_0x177f77(0x277)],{'size':0x10}),(0x0,_0x3729a4['jsx'])(_0x177f77(0x1af),{'className':'text-sm','children':'Private'})]})]}),!_0x9371ac&&(0x0,_0x3729a4['jsx'])(_0x177f77(0x224),{'type':'password','value':_0x4f2a94,'onChange':_0x3c8f4b=>_0xbf702b(_0x3c8f4b[_0x177f77(0x2e5)][_0x177f77(0x1a9)]),'placeholder':_0x177f77(0x2a4),'className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x3729a4[_0x177f77(0x31a)])('button',{'onClick':_0x28c06c,'disabled':!_0x4a6c42['trim']()||_0x3c3fe5,'className':'w-full\x20py-2\x20bg-green-500\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-green-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center\x20gap-2','children':[(0x0,_0x3729a4['jsx'])(_0x39899d,{'size':0x12}),_0x177f77(0x27a)]})]}),(0x0,_0x3729a4['jsxs'])('div',{'className':_0x177f77(0x1c0),'children':[(0x0,_0x3729a4[_0x177f77(0x200)])(_0x177f77(0x159),{'className':'flex-1\x20h-px\x20bg-neutral-700'}),(0x0,_0x3729a4[_0x177f77(0x200)])(_0x177f77(0x1af),{'className':'text-xs\x20text-neutral-500','children':'OR'}),(0x0,_0x3729a4['jsx'])('div',{'className':_0x177f77(0x1b5)})]}),(0x0,_0x3729a4[_0x177f77(0x31a)])('div',{'className':_0x177f77(0x268),'children':[(0x0,_0x3729a4[_0x177f77(0x200)])('h3',{'className':'text-sm\x20font-medium\x20text-neutral-300','children':_0x177f77(0x2f2)}),(0x0,_0x3729a4['jsx'])(_0x177f77(0x224),{'type':_0x177f77(0x2b2),'value':_0x486cdf,'onChange':_0xa821b2=>_0x49dd45(_0xa821b2['target']['value']),'placeholder':_0x177f77(0x1c7),'className':_0x177f77(0x288)}),(0x0,_0x3729a4[_0x177f77(0x200)])('input',{'type':_0x177f77(0x2bd),'value':_0x4cd72b,'onChange':_0x48871d=>_0x207697(_0x48871d['target'][_0x177f77(0x1a9)]),'placeholder':'Room\x20password','className':'w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x3729a4['jsxs'])('button',{'onClick':_0x204a63,'disabled':!_0x486cdf[_0x177f77(0x24f)]()||_0x3c3fe5,'className':_0x177f77(0x2bf),'children':[(0x0,_0x3729a4['jsx'])(_0x2da6ed['ArrowRight'],{'size':0x12}),'Join\x20Room']})]})]})]})}):null;}let _0x566387=(0x0,_0x26b82f[_0x435cc3(0x1ba)])(_0x435cc3(0x191),[[_0x435cc3(0x1dc),{'d':'M9.671\x204.136a2.34\x202.34\x200\x200\x201\x204.659\x200\x202.34\x202.34\x200\x200\x200\x203.319\x201.915\x202.34\x202.34\x200\x200\x201\x202.33\x204.033\x202.34\x202.34\x200\x200\x200\x200\x203.831\x202.34\x202.34\x200\x200\x201-2.33\x204.033\x202.34\x202.34\x200\x200\x200-3.319\x201.915\x202.34\x202.34\x200\x200\x201-4.659\x200\x202.34\x202.34\x200\x200\x200-3.32-1.915\x202.34\x202.34\x200\x200\x201-2.33-4.033\x202.34\x202.34\x200\x200\x200\x200-3.831A2.34\x202.34\x200\x200\x201\x206.35\x206.051a2.34\x202.34\x200\x200\x200\x203.319-1.915','key':'1i5ecw'}],[_0x435cc3(0x1c9),{'cx':'12','cy':'12','r':'3','key':_0x435cc3(0x219)}]]);var _0x4ea0ed=_0xe6f77b['i'](0x17307),_0x4c936c=_0xe6f77b['i'](0x1686e);function _0x170ac5(){const _0x56176c=_0x435cc3;let {user:_0x5a62c6,signOut:_0x152596,isKeyUnlocked:_0x5ccaf9}=(0x0,_0x9dc1e0[_0x56176c(0x168)])(),[_0x1c42db,_0x2a7417]=(0x0,_0x3e6434['useState'])(_0x56176c(0x242)),[_0x1e3b5d,_0x5007a4]=(0x0,_0x3e6434['useState'])(null),[_0x49b4e3,_0x4e5387]=(0x0,_0x3e6434[_0x56176c(0x30f)])(!0x1),[_0x12bf8e,_0x5aa17c]=(0x0,_0x3e6434['useState'])(!0x1),_0x1817c7=_0x54849d=>{_0x5007a4(_0x54849d),_0x5aa17c(!0x0);};return _0x5a62c6?(0x0,_0x3729a4['jsxs'])(_0x56176c(0x159),{'className':'flex\x20h-screen\x20bg-neutral-900\x20text-white\x20overflow-hidden','children':[(0x0,_0x3729a4[_0x56176c(0x31a)])(_0x56176c(0x159),{'className':_0x56176c(0x2f6),'children':[(0x0,_0x3729a4['jsx'])('div',{'className':_0x56176c(0x2cb),'children':(0x0,_0x3729a4['jsx'])(_0x56176c(0x159),{'className':_0x56176c(0x2e7),'children':_0x5a62c6['display_name']?.[_0x56176c(0x30c)](0x0)[_0x56176c(0x22d)]()||'U'})}),(0x0,_0x3729a4['jsxs'])(_0x56176c(0x165),{'className':_0x56176c(0x152),'children':[(0x0,_0x3729a4['jsx'])('button',{'onClick':()=>_0x2a7417(_0x56176c(0x242)),'className':'w-full\x20p-3\x20flex\x20justify-center\x20'+(_0x56176c(0x242)===_0x1c42db?'text-green-500\x20bg-neutral-900':_0x56176c(0x2be)),'title':_0x56176c(0x177),'children':(0x0,_0x3729a4['jsx'])(_0x4ea0ed[_0x56176c(0x2a6)],{'size':0x18})}),(0x0,_0x3729a4['jsx'])(_0x56176c(0x1bd),{'onClick':()=>_0x2a7417(_0x56176c(0x1ad)),'className':'w-full\x20p-3\x20flex\x20justify-center\x20'+('rooms'===_0x1c42db?'text-green-500\x20bg-neutral-900':_0x56176c(0x2be)),'title':_0x56176c(0x1e6),'children':(0x0,_0x3729a4[_0x56176c(0x200)])(_0x3386d3['Users'],{'size':0x18})})]}),(0x0,_0x3729a4['jsxs'])(_0x56176c(0x159),{'className':_0x56176c(0x25c),'children':[(0x0,_0x3729a4[_0x56176c(0x200)])(_0x4f19d7,{}),(0x0,_0x3729a4['jsx'])(_0x56176c(0x1bd),{'onClick':()=>{},'className':'w-full\x20p-3\x20flex\x20justify-center\x20text-neutral-400\x20hover:text-white\x20hover:bg-neutral-900','title':'Settings','children':(0x0,_0x3729a4[_0x56176c(0x200)])(_0x566387,{'size':0x18})}),(0x0,_0x3729a4['jsx'])('button',{'onClick':_0x152596,'className':_0x56176c(0x23a),'title':'Sign\x20Out','children':(0x0,_0x3729a4['jsx'])(_0x4c936c[_0x56176c(0x244)],{'size':0x18})})]})]}),(0x0,_0x3729a4[_0x56176c(0x31a)])(_0x56176c(0x159),{'className':_0x56176c(0x178)+(_0x12bf8e?'hidden\x20md:flex':'flex'),'children':[(0x0,_0x3729a4[_0x56176c(0x31a)])('div',{'className':'h-16\x20px-4\x20flex\x20items-center\x20justify-between\x20bg-neutral-950\x20border-b\x20border-neutral-800','children':[(0x0,_0x3729a4[_0x56176c(0x200)])('h1',{'className':_0x56176c(0x312),'children':_0x56176c(0x242)===_0x1c42db?_0x56176c(0x236):_0x56176c(0x302)}),(0x0,_0x3729a4['jsx'])('button',{'onClick':()=>_0x4e5387(!0x0),'className':_0x56176c(0x2c4),'children':(0x0,_0x3729a4['jsx'])(_0x39899d,{'size':0x18})})]}),(0x0,_0x3729a4[_0x56176c(0x200)])('div',{'className':'p-3\x20bg-neutral-950','children':(0x0,_0x3729a4[_0x56176c(0x31a)])(_0x56176c(0x159),{'className':_0x56176c(0x2a1),'children':[(0x0,_0x3729a4[_0x56176c(0x200)])(_0x56176c(0x224),{'type':_0x56176c(0x2b2),'placeholder':'Search...','className':'w-full\x20px-4\x20py-2\x20pl-10\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500'}),(0x0,_0x3729a4['jsx'])(_0x56176c(0x1d1),{'className':'absolute\x20left-3\x20top-2.5\x20w-4\x20h-4\x20text-neutral-500','fill':_0x56176c(0x1b9),'stroke':_0x56176c(0x1fb),'viewBox':'0\x200\x2024\x2024','children':(0x0,_0x3729a4[_0x56176c(0x200)])(_0x56176c(0x1dc),{'strokeLinecap':'round','strokeLinejoin':_0x56176c(0x1c2),'strokeWidth':0x2,'d':_0x56176c(0x1db)})})]})}),(0x0,_0x3729a4['jsx'])(_0x522d59,{'view':_0x1c42db,'activeChat':_0x1e3b5d,'onSelectChat':_0x1817c7}),(0x0,_0x3729a4['jsxs'])(_0x56176c(0x159),{'className':_0x56176c(0x1b4),'children':[(0x0,_0x3729a4['jsxs'])(_0x56176c(0x1bd),{'onClick':()=>_0x2a7417('dms'),'className':'flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs\x20'+('dms'===_0x1c42db?_0x56176c(0x18c):_0x56176c(0x237)),'children':[(0x0,_0x3729a4[_0x56176c(0x200)])(_0x4ea0ed['MessageCircle'],{'size':0x14}),(0x0,_0x3729a4[_0x56176c(0x200)])(_0x56176c(0x1af),{'className':_0x56176c(0x194),'children':'Chats'})]}),(0x0,_0x3729a4['jsxs'])(_0x56176c(0x1bd),{'onClick':()=>_0x2a7417('rooms'),'className':_0x56176c(0x2b4)+('rooms'===_0x1c42db?'text-green-500':'text-neutral-400'),'children':[(0x0,_0x3729a4[_0x56176c(0x200)])(_0x3386d3['Users'],{'size':0x14}),(0x0,_0x3729a4['jsx'])('span',{'className':'mt-1','children':'Rooms'})]}),(0x0,_0x3729a4['jsx'])(_0x56176c(0x159),{'className':'flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs','children':(0x0,_0x3729a4['jsx'])(_0x4f19d7,{})}),(0x0,_0x3729a4[_0x56176c(0x31a)])(_0x56176c(0x1bd),{'onClick':()=>{},'className':'flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs\x20text-neutral-400','children':[(0x0,_0x3729a4['jsx'])(_0x566387,{'size':0x14}),(0x0,_0x3729a4[_0x56176c(0x200)])('span',{'className':_0x56176c(0x194),'children':_0x56176c(0x167)})]})]})]}),(0x0,_0x3729a4[_0x56176c(0x200)])(_0x56176c(0x159),{'className':'flex-1\x20flex\x20flex-col\x20'+(_0x12bf8e?_0x56176c(0x1a2):'hidden\x20md:flex'),'children':_0x1e3b5d?(0x0,_0x3729a4['jsx'])(_0x185d52,{'chat':_0x1e3b5d,'onBack':()=>{_0x5aa17c(!0x1),_0x5007a4(null);}}):(0x0,_0x3729a4['jsxs'])(_0x56176c(0x159),{'className':'flex-1\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-neutral-500\x20bg-neutral-950','children':[(0x0,_0x3729a4['jsx'])(_0x56176c(0x159),{'className':'w-24\x20h-24\x20rounded-full\x20bg-neutral-800\x20flex\x20items-center\x20justify-center\x20mb-4','children':(0x0,_0x3729a4['jsx'])(_0x4ea0ed['MessageCircle'],{'size':0x30,'className':_0x56176c(0x29c)})}),(0x0,_0x3729a4['jsx'])('h2',{'className':_0x56176c(0x28e),'children':_0x56176c(0x156)}),(0x0,_0x3729a4[_0x56176c(0x200)])('p',{'className':'text-sm','children':_0x56176c(0x2a2)}),!_0x5ccaf9&&(0x0,_0x3729a4[_0x56176c(0x200)])('p',{'className':_0x56176c(0x1ea),'children':'Enter\x20your\x20passphrase\x20to\x20decrypt\x20messages'})]})}),(0x0,_0x3729a4[_0x56176c(0x200)])(_0x25503e,{'open':_0x49b4e3,'onOpenChange':_0x4e5387,'view':_0x1c42db,'onChatCreated':_0x1817c7})]}):null;}var _0x5f1576=_0xe6f77b['i'](0x8571),_0x33e25e=_0xe6f77b['i'](0x1342e);let _0x12cd8e=(0x0,_0x26b82f[_0x435cc3(0x1ba)])(_0x435cc3(0x1cf),[[_0x435cc3(0x1dc),{'d':'m12.5\x2017-.5-1-.5\x201h1z','key':_0x435cc3(0x29d)}],[_0x435cc3(0x1dc),{'d':_0x435cc3(0x1c3),'key':'1o5pge'}],[_0x435cc3(0x1c9),{'cx':'15','cy':'12','r':'1','key':'1tmaij'}],['circle',{'cx':'9','cy':'12','r':'1','key':_0x435cc3(0x300)}]]);function _0x1394ae({attemptsRemaining:_0x4dd2ef}){const _0x2e4644=_0x435cc3;let _0x1958fd=_0x4dd2ef<=0x1,_0x482259=_0x4dd2ef<=0x2;return(0x0,_0x3729a4[_0x2e4644(0x200)])(_0x2e4644(0x159),{'className':'p-4\x20rounded-lg\x20border\x20overflow-auto\x20'+(_0x1958fd?'bg-red-500/20\x20border-red-500/50':_0x482259?'bg-amber-500/20\x20border-amber-500/50':_0x2e4644(0x25b)),'children':(0x0,_0x3729a4['jsxs'])('div',{'className':'flex\x20items-start\x20gap-3','children':[_0x1958fd?(0x0,_0x3729a4[_0x2e4644(0x200)])(_0x12cd8e,{'className':'text-red-500\x20flex-shrink-0','size':0x14}):(0x0,_0x3729a4['jsx'])(_0x33e25e['AlertTriangle'],{'className':_0x2e4644(0x2ea)+(_0x482259?_0x2e4644(0x239):_0x2e4644(0x255)),'size':0x14}),(0x0,_0x3729a4[_0x2e4644(0x31a)])('div',{'children':[(0x0,_0x3729a4[_0x2e4644(0x200)])('h4',{'className':'font-semibold\x20'+(_0x1958fd?_0x2e4644(0x23f):'text-amber-400'),'children':_0x1958fd?'CRITICAL:\x20Last\x20Attempt!':'Warning:\x20'+_0x4dd2ef+'\x20'+(0x1===_0x4dd2ef?'Attempt':'Attempts')+'\x20Remaining'}),(0x0,_0x3729a4[_0x2e4644(0x200)])('p',{'className':'mt-1\x20text-sm\x20'+(_0x1958fd?_0x2e4644(0x188):_0x2e4644(0x240)),'children':_0x1958fd?'This\x20is\x20your\x20FINAL\x20attempt.\x20If\x20you\x20enter\x20the\x20wrong\x20passphrase,\x20ALL\x20your\x20messages,\x20rooms,\x20contacts,\x20and\x20encryption\x20keys\x20will\x20be\x20PERMANENTLY\x20DESTROYED.':'After\x20'+_0x4dd2ef+_0x2e4644(0x19a)+(0x1===_0x4dd2ef?'attempt':_0x2e4644(0x2dd))+_0x2e4644(0x1e8)}),_0x1958fd&&(0x0,_0x3729a4['jsx'])('p',{'className':_0x2e4644(0x29b),'children':_0x2e4644(0x183)})]})]})});}function _0x55978a({isOpen:_0x3deb70,onClose:_0x47ba1b}){const _0x4b48c0=_0x435cc3;let {unlockKey:_0x1c90ec}=(0x0,_0x9dc1e0['useAuth'])(),[_0x50959f,_0x2e071a]=(0x0,_0x3e6434['useState'])(''),[_0x4a8b0e,_0x3513c9]=(0x0,_0x3e6434[_0x4b48c0(0x30f)])(''),[_0x185eb2,_0x82f3fd]=(0x0,_0x3e6434['useState'])(!0x1),[_0x562bde,_0x430201]=(0x0,_0x3e6434['useState'])(null),[_0x5604b1,_0x161e2c]=(0x0,_0x3e6434['useState'])(!0x1),_0x1d39fe=async _0x1b1a27=>{const _0xbbb6b6=_0x4b48c0;if(_0x1b1a27[_0xbbb6b6(0x23d)](),_0x50959f){_0x3513c9(''),_0x82f3fd(!0x0);try{let _0x4042a7=await _0x1c90ec(_0x50959f);if(_0x4042a7['wiped']){_0x161e2c(!0x0),_0x2e071a(''),_0x82f3fd(!0x1);return;}_0x4042a7['success']?(_0x2e071a(''),_0x430201(null),_0x47ba1b()):(_0x3513c9(_0x4042a7[_0xbbb6b6(0x2a3)]||'Invalid\x20passphrase'),void 0x0!==_0x4042a7[_0xbbb6b6(0x2ec)]&&_0x430201(_0x4042a7[_0xbbb6b6(0x2ec)]));}catch{_0x3513c9('Invalid\x20passphrase.\x20Please\x20try\x20again.');}finally{_0x82f3fd(!0x1);}}};return _0x3deb70?_0x5604b1?(0x0,_0x3729a4[_0x4b48c0(0x200)])(_0x4b48c0(0x159),{'className':'fixed\x20inset-0\x20z-50\x20flex\x20items-center\x20justify-center\x20bg-black/60\x20backdrop-blur-sm','children':(0x0,_0x3729a4[_0x4b48c0(0x200)])(_0x4b48c0(0x159),{'className':'w-full\x20max-w-md\x20max-h-[90vh]\x20mx-4\x20bg-neutral-900\x20rounded-2xl\x20shadow-2xl\x20overflow-auto','children':(0x0,_0x3729a4['jsxs'])(_0x4b48c0(0x159),{'className':'p-6\x20text-center','children':[(0x0,_0x3729a4['jsx'])('div',{'className':_0x4b48c0(0x25a),'children':(0x0,_0x3729a4['jsx'])(_0x12cd8e,{'className':_0x4b48c0(0x1ca),'size':0x20})}),(0x0,_0x3729a4[_0x4b48c0(0x200)])('h2',{'className':_0x4b48c0(0x1bb),'children':_0x4b48c0(0x2ba)}),(0x0,_0x3729a4['jsx'])('p',{'className':'mt-4\x20text-sm\x20text-neutral-400','children':_0x4b48c0(0x20a)}),(0x0,_0x3729a4[_0x4b48c0(0x200)])('p',{'className':_0x4b48c0(0x2c5),'children':_0x4b48c0(0x2fe)}),(0x0,_0x3729a4[_0x4b48c0(0x200)])('button',{'onClick':()=>window[_0x4b48c0(0x2e0)]['reload'](),'className':'mt-6\x20w-full\x20py-3\x20bg-neutral-700\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-neutral-600','children':_0x4b48c0(0x261)})]})})}):(0x0,_0x3729a4['jsx'])('div',{'className':'fixed\x20inset-0\x20z-50\x20flex\x20items-center\x20justify-center\x20bg-black/60\x20backdrop-blur-sm','children':(0x0,_0x3729a4[_0x4b48c0(0x31a)])('div',{'className':'w-full\x20max-w-md\x20max-h-[90vh]\x20mx-4\x20bg-neutral-900\x20rounded-2xl\x20shadow-2xl\x20overflow-y-auto','children':[(0x0,_0x3729a4[_0x4b48c0(0x31a)])('div',{'className':'p-6\x20pb-0','children':[(0x0,_0x3729a4['jsxs'])('div',{'className':'flex\x20items-center\x20justify-between\x20mb-4','children':[(0x0,_0x3729a4[_0x4b48c0(0x200)])(_0x4b48c0(0x159),{'className':_0x4b48c0(0x2bb),'children':(0x0,_0x3729a4['jsx'])(_0x1d15c0['Lock'],{'className':_0x4b48c0(0x18c),'size':0x18})}),(0x0,_0x3729a4['jsx'])(_0x4b48c0(0x1bd),{'onClick':_0x47ba1b,'className':_0x4b48c0(0x189),'children':(0x0,_0x3729a4[_0x4b48c0(0x200)])(_0x32c49f['X'],{'size':0x14})})]}),(0x0,_0x3729a4['jsx'])('h2',{'className':_0x4b48c0(0x22f),'children':'Unlock\x20Your\x20Messages'}),(0x0,_0x3729a4['jsx'])('p',{'className':_0x4b48c0(0x1e4),'children':_0x4b48c0(0x278)})]}),null!==_0x562bde&&_0x562bde<=0x3&&(0x0,_0x3729a4['jsx'])(_0x4b48c0(0x159),{'className':'px-6\x20pt-4','children':(0x0,_0x3729a4[_0x4b48c0(0x200)])(_0x1394ae,{'attemptsRemaining':_0x562bde})}),(0x0,_0x3729a4[_0x4b48c0(0x31a)])('form',{'onSubmit':_0x1d39fe,'className':'p-6\x20space-y-4','children':[(0x0,_0x3729a4[_0x4b48c0(0x31a)])(_0x4b48c0(0x159),{'children':[(0x0,_0x3729a4['jsx'])('label',{'className':_0x4b48c0(0x215),'children':_0x4b48c0(0x1fe)}),(0x0,_0x3729a4['jsxs'])('div',{'className':'relative','children':[(0x0,_0x3729a4['jsx'])(_0x5f1576[_0x4b48c0(0x23b)],{'size':0x12,'className':'absolute\x20left-3\x20top-1/2\x20-translate-y-1/2\x20text-neutral-500'}),(0x0,_0x3729a4[_0x4b48c0(0x200)])('input',{'type':_0x4b48c0(0x2bd),'value':_0x50959f,'onChange':_0x1d8214=>_0x2e071a(_0x1d8214[_0x4b48c0(0x2e5)]['value']),'placeholder':_0x4b48c0(0x309),'className':'w-full\x20pl-10\x20pr-4\x20py-3\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-white\x20placeholder-neutral-500\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500\x20focus:border-transparent','autoFocus':!0x0})]}),_0x4a8b0e&&(0x0,_0x3729a4[_0x4b48c0(0x200)])('p',{'className':'mt-2\x20text-sm\x20text-red-400','children':_0x4a8b0e})]}),(0x0,_0x3729a4[_0x4b48c0(0x200)])('button',{'type':'submit','disabled':_0x185eb2||!_0x50959f,'className':_0x4b48c0(0x27c),'children':_0x185eb2?(0x0,_0x3729a4['jsx'])('div',{'className':_0x4b48c0(0x2f9)}):(0x0,_0x3729a4['jsxs'])(_0x3729a4[_0x4b48c0(0x282)],{'children':[(0x0,_0x3729a4[_0x4b48c0(0x200)])(_0x1d15c0[_0x4b48c0(0x277)],{'size':0x12}),_0x4b48c0(0x2a5)]})}),(0x0,_0x3729a4[_0x4b48c0(0x31a)])(_0x4b48c0(0x159),{'className':'flex\x20items-start\x20gap-2\x20p-3\x20bg-amber-500/10\x20border\x20border-amber-500/30\x20rounded-lg','children':[(0x0,_0x3729a4[_0x4b48c0(0x200)])(_0x33e25e[_0x4b48c0(0x2fd)],{'className':'text-amber-500\x20flex-shrink-0\x20mt-0.5','size':0x10}),(0x0,_0x3729a4['jsxs'])('p',{'className':'text-xs\x20text-amber-200/80','children':[(0x0,_0x3729a4[_0x4b48c0(0x200)])(_0x4b48c0(0x1fa),{'children':'No\x20recovery\x20option.'}),'\x20If\x20you\x20forget\x20your\x20passphrase,\x20all\x20encrypted\x20data\x20will\x20be\x20permanently\x20lost.\x20This\x20is\x20by\x20design\x20for\x20maximum\x20security.']})]})]})]})}):null;}function _0x4cd944(){const _0x2fbf16=_0x435cc3;let _0x20cf4e=(0x0,_0x16c106['useRouter'])(),{user:_0x3fb4c3,isLoading:_0x519c9e,isKeyUnlocked:_0x33403e}=(0x0,_0x9dc1e0[_0x2fbf16(0x168)])(),[_0x49a608,_0x182350]=(0x0,_0x3e6434['useState'])(!0x1),[_0x4a7794,_0x4fcd72]=(0x0,_0x3e6434['useState'])(!0x1);return((0x0,_0x3e6434['useEffect'])(()=>{_0x519c9e||_0x3fb4c3||_0x182350(!0x0);},[_0x519c9e,_0x3fb4c3]),(0x0,_0x3e6434['useEffect'])(()=>{_0x3fb4c3&&!_0x33403e&&_0x4fcd72(!0x0);},[_0x3fb4c3,_0x33403e]),_0x519c9e)?(0x0,_0x3729a4['jsx'])(_0x2fbf16(0x159),{'className':'min-h-screen\x20bg-neutral-900\x20flex\x20items-center\x20justify-center','children':(0x0,_0x3729a4[_0x2fbf16(0x200)])(_0x2fbf16(0x159),{'className':_0x2fbf16(0x1ab)})}):_0x3fb4c3?(0x0,_0x3729a4['jsxs'])(_0x3729a4[_0x2fbf16(0x282)],{'children':[(0x0,_0x3729a4[_0x2fbf16(0x200)])(_0x170ac5,{}),(0x0,_0x3729a4['jsx'])(_0x55978a,{'isOpen':_0x4a7794,'onClose':()=>_0x4fcd72(!0x1)})]}):(0x0,_0x3729a4[_0x2fbf16(0x200)])(_0x12d846['AuthModal'],{'open':_0x49a608,'onOpenChange':_0x2f79a8=>!_0x2f79a8&&_0x20cf4e['push']('/')});}_0xe6f77b['s'](['default',()=>_0x4cd944],0xa106);}]));function _0x3316(){const _0x346ec6=['current','video/','smooth','13832RGBcjr','Globe','pop','text/markdown','mt-2\x20text-xs\x20text-red-400/70\x20font-medium','text-neutral-600','3me087','flex\x20items-center\x20gap-2\x20cursor-pointer','flex\x20flex-col\x20h-full\x20bg-neutral-950','ArrowLeft','relative','Select\x20a\x20conversation\x20to\x20start\x20messaging','error','Room\x20password','Unlock\x20Messages','MessageCircle','hover:bg-green-800','radio','p-2\x20bg-green-500\x20text-white\x20rounded-full\x20hover:bg-green-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center','md:hidden\x20p-2\x20-ml-2\x20text-neutral-400\x20hover:text-white','No\x20public\x20key\x20for\x20recipient','id,\x20display_name,\x20avatar_url,\x20last_seen','flex-1\x20relative','publicKey','clientX','image/png','archive','text','animate-spin','flex-1\x20py-3\x20flex\x20flex-col\x20items-center\x20text-xs\x20','Executable\x20files\x20are\x20not\x20allowed\x20for\x20security\x20reasons','flex\x20items-center\x20justify-between','http://localhost:8100/functions/v1/get-dms','text-xs\x20font-medium\x20truncate','30hJLwOV','Account\x20Data\x20Wiped','w-12\x20h-12\x20rounded-full\x20bg-green-500/20\x20flex\x20items-center\x20justify-center','var(--radix-popper-available-width)','password','text-neutral-400\x20hover:text-white\x20hover:bg-neutral-900','w-full\x20py-2\x20bg-neutral-700\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-neutral-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center\x20gap-2','open','body','text-center','var(--radix-popper-transform-origin)','p-2\x20rounded-full\x20hover:bg-neutral-800\x20text-green-500','mt-4\x20text-sm\x20text-neutral-500','removeEventListener','Failed\x20to\x20fetch\x20conversations:','Messages\x20are\x20secured\x20with\x20end-to-end\x20encryption.','text-green-200','No\x20rooms\x20joined\x20yet','p-3\x20border-b\x20border-neutral-800','text-red-400\x20hover:bg-red-500/10\x20hover:text-red-300','pointerup','.com','text/html','mt-2\x20space-y-2','access_token','text-xs\x20text-amber-400','application/octet-stream','p-2\x20rounded-lg\x20transition-colors\x20','download','Create\x20room\x20error:','You','underline\x20hover:text-red-300','font-medium','__scopeTooltip','\x20can\x20read\x20them.','rect','attempts','Failed\x20to\x20encrypt\x20file','headers','location','w-10\x20h-10\x20flex\x20items-center\x20justify-center\x20rounded\x20','Download\x20failed','mb-2\x20space-y-2','rar','target','M5\x2012h14','w-10\x20h-10\x20rounded-full\x20bg-gradient-to-br\x20from-green-500\x20to-green-600\x20flex\x20items-center\x20justify-center\x20text-lg\x20font-semibold','X-Original-Mime-Type','joinedAt','flex-shrink-0\x20','Chat\x20Locked','attemptsRemaining','bottom','w-full\x20h-full\x20rounded-full\x20object-cover','POST','Click\x20to\x20lock\x20and\x20clear\x20decryption\x20keys\x20from\x20memory','1mm8w8','Join\x20Private\x20Room','top','12jhqTTd','text-xs\x20text-green-500','hidden\x20md:flex\x20flex-col\x20w-16\x20bg-neutral-950\x20border-r\x20border-neutral-800','M12\x205v14','auto','animate-spin\x20rounded-full\x20h-5\x20w-5\x20border-b-2\x20border-white','fill-neutral-700','onClose','stringify','AlertTriangle','Your\x20account\x20still\x20exists,\x20but\x20all\x20messages,\x20rooms,\x20contacts,\x20and\x20encryption\x20keys\x20have\x20been\x20destroyed.\x20This\x20action\x20cannot\x20be\x20undone.','isInside','1vctgf','text-xs\x20text-neutral-500','Rooms','text-sm\x20text-center\x20mt-2','w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20resize-none\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500','slice','code','search','onTriggerLeave','Enter\x20your\x20passphrase','ml-auto\x20text-neutral-500','min','charAt','.vbs','6378648lPKXWz','useState','image/gif','type','text-xl\x20font-semibold','Upgrade\x20for\x2050MB\x20files','Download\x20error:','.\x20Please\x20upload\x20images,\x20videos,\x20documents,\x20or\x20archives.','paperclip','Unlock\x20Chat','MoreVertical','text-xs\x20text-green-500\x20font-medium','jsxs','isPublic','/settings','includes','select','.bat','Invalid\x20passphrase.\x20Please\x20try\x20again.','useCallback','arrayBuffer','http://localhost:8100/functions/v1/get-message-count','Portal','Yesterday','M19\x2010v2a7\x207\x200\x200\x201-14\x200v-2','createdAt','append','unknown','flex\x20items-end\x20gap-2','avatarUrl','flex-1\x20py-4','ml-2\x20px-2\x20py-0.5\x20text-xs\x20bg-green-500\x20text-white\x20rounded-full','text-xs\x20text-neutral-400','json','ZZZDaily\x20Chat','Create\x20New\x20Room','[Key\x20required\x20to\x20decrypt]','div','lastMessageAt','var(--radix-popper-available-height)','File\x20is\x20empty','p-1\x20text-neutral-400\x20hover:text-white','tar','decryptSymmetric','1oefj6','public','encryption_iv','s699le','animate-spin\x20rounded-full\x20h-6\x20w-6\x20border-b-2\x20border-green-500','nav','2-digit','Settings','useAuth','revokeObjectURL','bg-neutral-700\x20rounded-tl-sm\x20rounded-tr-xl\x20rounded-bl-xl\x20rounded-br-xl','tooltip','video/mp4','bg-neutral-800\x20border\x20border-neutral-700\x20px-3\x20py-2\x20rounded-lg\x20text-sm\x20text-white\x20shadow-lg\x20z-50','2549718GGKQkG','excel','Shield','Description\x20(optional)','px-3\x20py-1\x20bg-amber-900/30\x20rounded-lg\x20text-xs\x20text-amber-400\x20flex\x20items-center\x20gap-1','onTriggerEnter','fromCharCode','image/','setTimeout','Direct\x20Messages','w-full\x20md:w-96\x20flex-shrink-0\x20border-r\x20border-neutral-800\x20flex\x20flex-col\x20','No\x20conversations\x20yet','stateAttribute','forwardRef','room','Chat\x20Unlocked','1031398xtjzYK','text-green-500\x20border-b-2\x20border-green-500','application/msword','onClick','text-sm\x20text-neutral-400\x20truncate\x20flex\x20items-center\x20gap-1','Take\x20your\x20time.\x20Make\x20sure\x20you\x20remember\x20correctly.','auth','w-full\x20px-4\x20py-2\x20bg-neutral-700\x20border\x20border-neutral-600\x20rounded-lg\x20focus:outline-none\x20focus:ring-2\x20focus:ring-blue-500\x20text-white','clearTimeout','text-neutral-400\x20text-xs','text-red-300/80','p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800','Bearer\x20','video/webm','text-green-500','w-12\x20h-12\x20object-cover\x20rounded','font-semibold','onPointerDown','w-full\x20p-3\x20flex\x20items-center\x20gap-3\x20hover:bg-neutral-800\x20transition-colors\x20','settings','Search','toLocaleDateString','mt-1','w-12\x20h-12\x20rounded-full\x20bg-gradient-to-br\x20from-purple-500\x20to-purple-600\x20flex\x20items-center\x20justify-center','floor','subtle','bg-neutral-800','check-check','\x20more\x20failed\x20','\x20members','useRef','height','length','application/gzip','displayName','useMemo','flex','Create\x20/\x20Join','getBoundingClientRect','filename','ml-2\x20p-1\x20text-neutral-400\x20hover:text-white','Authentication\x20required','zip','value','supabase','animate-spin\x20rounded-full\x20h-12\x20w-12\x20border-b-2\x20border-green-500','text-xs\x20text-red-400','rooms','Download','span','flex-1\x20min-w-0','right','1267475DygBnk','pointerType','md:hidden\x20flex\x20border-t\x20border-neutral-800\x20bg-neutral-950','flex-1\x20h-px\x20bg-neutral-700','label','avatar','scrollIntoView','none','default','text-xl\x20font-semibold\x20text-red-400','Anchor','button','flex-1\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-neutral-500\x20p-4','border-green-400','flex\x20items-center\x20gap-3','contentId','round','M15\x2022a1\x201\x200\x200\x200\x201-1v-1a2\x202\x200\x200\x200\x201.56-3.25\x208\x208\x200\x201\x200-11.12\x200A2\x202\x200\x200\x200\x208\x2020v1a1\x201\x200\x200\x200\x201\x201z','font-medium\x20truncate','Offline','.exe','Room\x20ID','text-sm\x20text-neutral-400\x20truncate','circle','text-red-500','w-12\x20h-12\x20flex\x20items-center\x20justify-center\x20bg-neutral-700\x20rounded','underline\x20hover:text-blue-300','Type\x20to\x20search\x20users','presentation','skull','trigger','svg','End-to-end\x20encrypted','isSystem','flex\x20items-center\x20gap-2\x20p-2\x20bg-neutral-800\x20rounded-lg','getTime','flex\x20','text-white','encryptionIv','senderName','Room\x20name','M21\x2021l-6-6m2-5a7\x207\x200\x2011-14\x200\x207\x207\x200\x200114\x200z','path','underline\x20hover:text-amber-300','Search\x20users\x20error:','Only\x20you\x20and\x20','flex\x20items-center\x20justify-between\x20mt-0.5','1578kxwgcX','content','text-blue-300','mt-2\x20text-sm\x20text-neutral-400','max-h-80\x20overflow-y-auto','Chat\x20Rooms','Failed\x20to\x20join\x20room',',\x20all\x20your\x20encrypted\x20data\x20will\x20be\x20permanently\x20deleted.\x20There\x20is\x20no\x20recovery.','forceMount','mt-4\x20text-amber-500\x20text-sm','Unlocking...','memberCount','Failed\x20to\x20fetch\x20DM\x20messages:','onPointerLeave','flex\x20border-b\x20border-neutral-800','Type\x20to\x20search\x20rooms','getSession','mb-2\x20p-2\x20bg-amber-900/30\x20border\x20border-amber-700\x20rounded-lg','animate-spin\x20rounded-full\x20h-8\x20w-8\x20border-b-2\x20border-green-500','Failed\x20to\x20unlock.\x20Please\x20try\x20again.','charCodeAt','application/x-zip-compressed','tap\x20here\x20for\x20contact\x20info','filter','text-sm\x20text-neutral-400\x20mb-4','strong','currentColor','data','fixed\x20inset-0\x20z-50\x20flex\x20items-center\x20justify-center\x20bg-black/50','Passphrase','pdf','jsx','Content','Replying\x20to\x20','application/json','decrypt','image/svg+xml','xml','admin','Encryption\x20key\x20not\x20available','concat','Maximum\x20passphrase\x20attempts\x20exceeded.\x20All\x20your\x20encrypted\x20messages\x20and\x20data\x20have\x20been\x20permanently\x20deleted\x20as\x20a\x20security\x20measure.','unreadCount','center','img','text/plain','File\x20encryption\x20error:','M14\x202v5a1\x201\x200\x200\x200\x201\x201h5','href','mb-4','session','mic','block\x20text-sm\x20font-medium\x20text-neutral-300\x20mb-2','flex-1\x20min-w-0\x20text-left','image/webp','Join\x20room\x20error:','1v7zrd','File\x20decryption\x20error:','pointermove','name','w-full\x20max-w-md\x20max-h-[90vh]\x20mx-4\x20bg-neutral-900\x20rounded-xl\x20shadow-xl\x20overflow-y-auto','last_seen','useComposedRefs','success','Invalid\x20filename','document','application/x-7z-compressed','input','useEffect','map','Unlock\x20chat','push','otherUser','image/*,video/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.zip,.rar,.7z,.tar,.gz,.txt,.csv,.md','Failed\x20to\x20send:','Upload\x20error:','toUpperCase','flex-1\x20py-3\x20text-sm\x20font-medium\x20','text-xl\x20font-semibold\x20text-white','blob','attachment','style','clientY','size','isMine','Messages','text-neutral-400','application/pdf','text-amber-400','w-full\x20p-3\x20flex\x20justify-center\x20text-neutral-400\x20hover:text-red-500\x20hover:bg-neutral-900','Key','application/xml','preventDefault','scroll','text-red-400','text-amber-200/80','video/quicktime','dms','file','LogOut','file_size','You\x27ve\x20reached\x20your\x20monthly\x20message\x20limit.','Search\x20users...','block\x20text-sm\x20font-medium\x20text-neutral-300\x20mb-1','21026rjHwzQ','attachments','M18\x206\x207\x2017l-5-5','removeChild','composeEventHandlers','Enter\x20your\x20encryption\x20passphrase\x20to\x20unlock\x20your\x20messages.','trim','.cmd','1223940yNnymX','Lock\x20chat','1ays0h','1vc78b','text-amber-500','display_name','getRandomValues','joined\x20the\x20conversation','addEventListener','w-16\x20h-16\x20mx-auto\x20mb-4\x20rounded-full\x20bg-red-500/20\x20flex\x20items-center\x20justify-center','bg-amber-500/10\x20border-amber-500/30','py-4\x20border-t\x20border-neutral-800\x20flex\x20flex-col\x20items-center','Loader2','text-green-500\x20animate-spin','flex\x20justify-center\x20mb-4','/functions/v1/download-attachment','Continue','http://localhost:8100/functions/v1/send-message','border-neutral-500','readAt','http://localhost:8100/functions/v1/get-messages','h-16\x20px-4\x20flex\x20items-center\x20justify-between\x20bg-neutral-900\x20border-b\x20border-neutral-800','textarea','space-y-3','messages','Upload\x20failed','p-2\x20text-neutral-400\x20hover:text-white\x20rounded-full\x20hover:bg-neutral-800\x20disabled:opacity-50','encryptedBlob','h-14\x20px-4\x20flex\x20items-center\x20justify-between\x20bg-neutral-950\x20border-b\x20border-neutral-800','Enter\x20your\x20passphrase\x20to\x20decrypt\x20messages','createObjectURL','text-xl\x20font-bold\x20mb-2','video','create','Root','flex-1\x20overflow-y-auto','flex\x20items-center\x20gap-1','Users','Lock','Enter\x20your\x20passphrase\x20to\x20decrypt\x20and\x20read\x20your\x20messages.\x20Your\x20messages\x20are\x20protected\x20with\x20end-to-end\x20encryption.','Tooltip','Create\x20Room','application/vnd.openxmlformats-officedocument.presentationml.presentation','w-full\x20py-3\x20bg-green-500\x20text-white\x20rounded-lg\x20font-medium\x20hover:bg-green-600\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x20flex\x20items-center\x20justify-center\x20gap-2','message','Failed\x20to\x20fetch\x20rooms:','pointerleave','flex-1\x20py-2\x20bg-blue-600\x20hover:bg-blue-700\x20disabled:bg-blue-800\x20disabled:cursor-not-allowed\x20rounded-lg\x20font-medium\x20transition-colors','contains','Fragment','phone','AlertCircle','tooltip.open','TooltipContent','p-4\x20space-y-6','w-full\x20px-4\x20py-2\x20bg-neutral-800\x20border\x20border-neutral-700\x20rounded-lg\x20text-sm\x20focus:outline-none\x20focus:ring-2\x20focus:ring-green-500','Send\x20error:','text-green-500\x20focus:ring-green-500','[Encrypted\x20message]','219VjBXSr','from','text-xl\x20font-medium\x20text-neutral-300\x20mb-2','0\x20Bytes','uploadedId','Send','toFixed','text-center\x20text-neutral-500\x20py-8'];_0x3316=function(){return _0x346ec6;};return _0x3316();}